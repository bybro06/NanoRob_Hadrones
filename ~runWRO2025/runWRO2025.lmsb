DATA16 FD_NATIVECODECOMMAND
DATA16 FD_NATIVECODERESPONSE
DATA32 STOPLCDUPDATE
DATA32 NUMMAILBOXES
ARRAY8 MOTORISINVERTED 4     
ARRAY8 FIRSTOF2  16
ARRAY16 LOCKS 2           
DATA32 s1out1
DATA32 s1out2
DATA32 s1out3
DATA32 s2out1
DATA32 s2out2
DATA32 s2out3
DATA32 s3out1
DATA32 s3out2
DATA32 s3out3
DATA32 s4out1
DATA32 s4out2
DATA32 s4out3
DATA32 getTachoA
DATA32 tmpTachoA
DATA8 getSpeedA
DATA8 setSpeedA
DATA8 setPowerA
DATA32 getTachoB
DATA32 tmpTachoB
DATA8 getSpeedB
DATA8 setSpeedB
DATA8 setPowerB
DATA32 getTachoC
DATA32 tmpTachoC
DATA8 getSpeedC
DATA8 setSpeedC
DATA8 setPowerC
DATA32 getTachoD
DATA32 tmpTachoD
DATA8 getSpeedD
DATA8 setSpeedD
DATA8 setPowerD
DATA16 newArray1d
DATA32 newSize1d
DATA32 newIndex1d
DATA32 timeMC1
DATA32 timeMC2
DATA32 timeMC3
DATA32 timeMC4
DATA32 timeMC5
DATA32 timeMC6
DATA32 timeMC7
DATA32 timeMC8
DATA32 timeMC9
DATA32 timeMC1tmp
DATA32 timeMC2tmp
DATA32 timeMC3tmp
DATA32 timeMC4tmp
DATA32 timeMC5tmp
DATA32 timeMC6tmp
DATA32 timeMC7tmp
DATA32 timeMC8tmp
DATA32 timeMC9tmp
DATAF VPR_SIGUELINEAS_DIAMETRO
DATAF VPR_SIGUELINEAS_NEGRO1
DATAF VPR_SIGUELINEAS_NEGRO3
DATAF VPR_SIGUELINEAS_NEGRO4
DATAF VPR_SIGUELINEAS_BLANCO1
DATAF VPR_SIGUELINEAS_BLANCO3
DATAF VPR_SIGUELINEAS_BLANCO4
DATAF VPR_GIRO_DIAMETRO
DATAF VPR_GIRO_G1
DATAF VPR_GIRO_NEGRO
DATAF VPR_GIRO_BLANCO
DATAF VPR_RECTO_DIAMETRO
DATAF VPR_RECTO_NEGRO
DATAF VPR_RECTO_BLANCO
DATAF VPR_SMART_DIAMETRO
DATAF VPR_SMART_NEGRO1
DATAF VPR_SMART_NEGRO3
DATAF VPR_SMART_NEGRO4
DATAF VPR_SMART_BLANCO1
DATAF VPR_SMART_BLANCO3
DATAF VPR_SMART_BLANCO4
DATAF VPR_RGB_RWHITE
DATAF VPR_RGB_GWHITE
DATAF VPR_RGB_BWHITE
DATAF VPR_RGB_VALUENEGRO
DATAF VPR_RGB_VALUEBLANCO
DATAF VLV_VELOCIDAD_11
DATAF VLV_TIMER_11
DATAF VLV_VELOCIDAD_12
DATAF VLV_ENCODER_12
DATAF VLV_VELOCIDAD_14
DATAF VLV_DISTANCIA_14
DATAF VLV_VELOCIDAD_21
DATAF VLV_ENCODER_21
DATAF VLV_VELOCIDAD1_28
DATAF VLV_VELOCIDAD2_28
DATAF VLV_GRADOS_28
DATAF VLV_VELOCIDAD_15
DATAF VLV_SENSOR_15
DATAF VLV_VELOCIDAD_22
DATAF VLV_VELOCIDAD_23
DATAF VLV_ENCODER_23
DATAF VLV_VELOCIDAD_16
DATAF VLV_DISTANCIA_16
DATAF VLV_SENS_32
DATAF VLV_REPS_32
DATAF VLV_COLOR_32
DATAF VLV_VELOCIDAD_17
DATAF VLV_TIEMPO_17
DATAF VLV_VELOCIDAD1_29
DATAF VLV_VELOCIDAD2_29
DATAF VLV_SENS_29
DATAF VLV_VELOCIDAD_24
DATAF VLV_ENCODER_24
DATAF VLV_VELOCIDAD1_30
DATAF VLV_VELOCIDAD2_30
DATAF VLV_DISTANCIA_30
DATAF VLV_VELOCIDAD1_31
DATAF VLV_VELOCIDAD2_31
DATAF VLV_SENS_31
DATAF VLV_VELOCIDAD_25
DATAF VLV_READER_25
DATAF VLV_VELOCIDAD_26
DATAF VLV_READER_26
DATAF VLV_VELOCIDAD_27
DATAF VLV_ENCODER_27
DATAF VLV_VELOCIDAD_18
DATAF VLV_SENSOR_18
ARRAY16 VLV_MARKING_8 2
DATAF VLV_VELOCIDAD_19
DATAF VLV_SENSOR_19
DATAF VLV_VELOCIDAD_20
DATAF VLV_SENSOR_20
DATAF VLV_COLOR_33
DATAF VLV_NUMERO_2
DATAF VLV_VELOCIDAD_13
DATAF VLV_TIMER_13
ARRAY16 VLV_MARKING_6 2
DATAS VLV_CODIGO_6 252
DATAF VLV_GRADOS_7
DATAF VGV_MARKINGGRANDE
DATAS VLV_CODIGO_8 252
DATAF VGV_DIAMETRO
DATAF VGV_NEGRO1
DATAF VGV_NEGRO3
DATAF VGV_NEGRO4
DATAF VGV_BLANCO1
DATAF VGV_BLANCO3
DATAF VGV_BLANCO4
DATAF VGV_COLOR
ARRAY16 VGV_MARKING 2
DATAF VLV_VOLTAJE_1
DATAF VLV_AUX_6
DATAF VLV_I_6
DATAF VLV_SIGNO_7
DATAF VLV_ENCDIFF_12
DATAF VLV_SIGNO_12
DATAF VLV_SAFETYTIMER_12
DATAF VLV_CORRECCION_14
DATAF VLV_ENC_14
DATAF VLV_CORRECCION_15
DATAF VLV_LECTURA_15
DATAF VLV_CORRECCION_16
DATAF VLV_ENC_16
DATAF VLV_CORRECCION_17
DATAF VLV_CORRECCION_18
DATAF VLV_LECTURA_18
DATAF VLV_CORRECCION_19
DATAF VLV_LECTURA_19
DATAF VLV_CORRECCION_20
DATAF VLV_LECTURA_20
DATAF VLV_LECTURA1_21
DATAF VLV_LECTURA3_21
DATAF VLV_LECTURA4_21
DATAF VLV_KP_21
DATAF VLV_KD_21
DATAF VLV_ERROR_21
DATAF VLV_OLDERROR_21
DATAF VLV_U_21
DATAF VLV_SENTIDO_21
DATAF VLV_STARTC_21
DATAF VLV_ENCODERC_21
DATAF VLV_LECTURA1_22
DATAF VLV_LECTURA3_22
DATAF VLV_LECTURA4_22
DATAF VLV_KP_22
DATAF VLV_KD_22
DATAF VLV_ERROR_22
DATAF VLV_OLDERROR_22
DATAF VLV_U_22
DATAF VLV_SENTIDO_22
DATAF VLV_LECTURA1_23
DATAF VLV_LECTURA3_23
DATAF VLV_LECTURA4_23
DATAF VLV_KP_23
DATAF VLV_KD_23
DATAF VLV_ERROR_23
DATAF VLV_OLDERROR_23
DATAF VLV_U_23
DATAF VLV_SENTIDO_23
DATAF VLV_STARTC_23
DATAF VLV_ENCODERC_23
DATAF VLV_LECTURA1_24
DATAF VLV_LECTURA3_24
DATAF VLV_LECTURA4_24
DATAF VLV_KP_24
DATAF VLV_KD_24
DATAF VLV_ERROR_24
DATAF VLV_OLDERROR_24
DATAF VLV_U_24
DATAF VLV_SENTIDO_24
DATAF VLV_STARTC_24
DATAF VLV_ENCODERC_24
DATAF VLV_LECTURA1_25
DATAF VLV_LECTURA3_25
DATAF VLV_LECTURA4_25
DATAF VLV_KP_25
DATAF VLV_KD_25
DATAF VLV_ERROR_25
DATAF VLV_OLDERROR_25
DATAF VLV_U_25
DATAF VLV_SENTIDO_25
DATAF VLV_LECTURA_25
DATAF VLV_LECTURAIZQ_25
DATAF VLV_LECTURADCH_25
DATAF VLV_LECTURA1_26
DATAF VLV_LECTURA3_26
DATAF VLV_LECTURA4_26
DATAF VLV_KP_26
DATAF VLV_KD_26
DATAF VLV_ERROR_26
DATAF VLV_OLDERROR_26
DATAF VLV_U_26
DATAF VLV_SENTIDO_26
DATAF VLV_LECTURA_26
DATAF VLV_LECTURAIZQ_26
DATAF VLV_LECTURADCH_26
DATAF VLV_LECTURA1_27
DATAF VLV_LECTURA3_27
DATAF VLV_LECTURA4_27
DATAF VLV_KP_27
DATAF VLV_KD_27
DATAF VLV_ERROR_27
DATAF VLV_OLDERROR_27
DATAF VLV_U_27
DATAF VLV_SENTIDO_27
DATAF VLV_STARTC_27
DATAF VLV_ENCODERC_27
DATAF VLV_SIGNO_28
DATAF VLV_VMIN_28
DATAF VLV_VMAX_28
DATAF VLV_ENCODER_28
DATAF VLV_LECTURA_29
DATAF VLV_ENCODER_30
DATAF VLV_LECTURA_31
DATAF VLV_SENS_MODE_32
DATAF VLV_RED_32
DATAF VLV_YELLOW_32
DATAF VLV_GREEN_32
DATAF VLV_BLUE_32
DATAF VLV_HUE_32
DATAF VLV_SAT_32
DATAF VLV_VALUE_32
ARRAY16 VLV_RNORMARRAY_32 2
ARRAY16 VLV_GNORMARRAY_32 2
ARRAY16 VLV_BNORMARRAY_32 2
DATAF VLV_J_32
ARRAY16 VLV_RGB_32 2
DATAF VLV_RRAW_32
DATAF VLV_GRAW_32
DATAF VLV_BRAW_32
DATAF VLV_RNORM_32
DATAF VLV_GNORM_32
DATAF VLV_BNORM_32
DATAF VLV_MAX_32
DATAF VLV_MIN_32
DATAF VLV_RGBGREY_32
DATA32 RUNCOUNTER_F_GRITARCOLOR_0

vmthread MAIN
{
    MOVE32_32 0 STOPLCDUPDATE
    MOVE32_32 0 NUMMAILBOXES
    OUTPUT_RESET 0 15

	WRITE8 0 0 MOTORISINVERTED
	WRITE8 0 1 MOTORISINVERTED
	WRITE8 0 2 MOTORISINVERTED
	WRITE8 0 3 MOTORISINVERTED
	WRITE8 0 0 FIRSTOF2
	WRITE8 0 1 FIRSTOF2
	WRITE8 0 2 FIRSTOF2
	WRITE8 1 3 FIRSTOF2
	WRITE8 0 4 FIRSTOF2
	WRITE8 1 5 FIRSTOF2
	WRITE8 2 6 FIRSTOF2
	WRITE8 0 7 FIRSTOF2
	WRITE8 0 8 FIRSTOF2
	WRITE8 1 9 FIRSTOF2
	WRITE8 2 10 FIRSTOF2
	WRITE8 0 11 FIRSTOF2
	WRITE8 4 12 FIRSTOF2
	WRITE8 0 13 FIRSTOF2
	WRITE8 0 14 FIRSTOF2
	WRITE8 0 15 FIRSTOF2
    INPUT_DEVICE CLR_ALL -1
    ARRAY CREATE8 0 LOCKS
    MOVE32_32 0 s1out1
	MOVE32_32 0 s1out2
	MOVE32_32 0 s1out3
    MOVE32_32 0 s2out1
	MOVE32_32 0 s2out2
	MOVE32_32 0 s2out3
    MOVE32_32 0 s3out1
	MOVE32_32 0 s3out2
	MOVE32_32 0 s3out3
    MOVE32_32 0 s4out1
	MOVE32_32 0 s4out2
	MOVE32_32 0 s4out3
    MOVE32_32 0 timeMC1
	MOVE32_32 0 timeMC2
	MOVE32_32 0 timeMC3
	MOVE32_32 0 timeMC4
	MOVE32_32 0 timeMC5
	MOVE32_32 0 timeMC6
	MOVE32_32 0 timeMC7
	MOVE32_32 0 timeMC8
	MOVE32_32 0 timeMC9
    MOVEF_F 0.0 VPR_SIGUELINEAS_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO4
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO4
    MOVEF_F 0.0 VPR_GIRO_DIAMETRO
    MOVEF_F 0.0 VPR_GIRO_G1
    MOVEF_F 0.0 VPR_GIRO_NEGRO
    MOVEF_F 0.0 VPR_GIRO_BLANCO
    MOVEF_F 0.0 VPR_RECTO_DIAMETRO
    MOVEF_F 0.0 VPR_RECTO_NEGRO
    MOVEF_F 0.0 VPR_RECTO_BLANCO
    MOVEF_F 0.0 VPR_SMART_DIAMETRO
    MOVEF_F 0.0 VPR_SMART_NEGRO1
    MOVEF_F 0.0 VPR_SMART_NEGRO3
    MOVEF_F 0.0 VPR_SMART_NEGRO4
    MOVEF_F 0.0 VPR_SMART_BLANCO1
    MOVEF_F 0.0 VPR_SMART_BLANCO3
    MOVEF_F 0.0 VPR_SMART_BLANCO4
    MOVEF_F 0.0 VPR_RGB_RWHITE
    MOVEF_F 0.0 VPR_RGB_GWHITE
    MOVEF_F 0.0 VPR_RGB_BWHITE
    MOVEF_F 0.0 VPR_RGB_VALUENEGRO
    MOVEF_F 0.0 VPR_RGB_VALUEBLANCO
    MOVEF_F 0.0 VLV_VELOCIDAD_11
    MOVEF_F 0.0 VLV_TIMER_11
    MOVEF_F 0.0 VLV_VELOCIDAD_12
    MOVEF_F 0.0 VLV_ENCODER_12
    MOVEF_F 0.0 VLV_VELOCIDAD_14
    MOVEF_F 0.0 VLV_DISTANCIA_14
    MOVEF_F 0.0 VLV_VELOCIDAD_21
    MOVEF_F 0.0 VLV_ENCODER_21
    MOVEF_F 0.0 VLV_VELOCIDAD1_28
    MOVEF_F 0.0 VLV_VELOCIDAD2_28
    MOVEF_F 0.0 VLV_GRADOS_28
    MOVEF_F 0.0 VLV_VELOCIDAD_15
    MOVEF_F 0.0 VLV_SENSOR_15
    MOVEF_F 0.0 VLV_VELOCIDAD_22
    MOVEF_F 0.0 VLV_VELOCIDAD_23
    MOVEF_F 0.0 VLV_ENCODER_23
    MOVEF_F 0.0 VLV_VELOCIDAD_16
    MOVEF_F 0.0 VLV_DISTANCIA_16
    MOVEF_F 0.0 VLV_SENS_32
    MOVEF_F 0.0 VLV_REPS_32
    MOVEF_F 0.0 VLV_COLOR_32
    MOVEF_F 0.0 VLV_VELOCIDAD_17
    MOVEF_F 0.0 VLV_TIEMPO_17
    MOVEF_F 0.0 VLV_VELOCIDAD1_29
    MOVEF_F 0.0 VLV_VELOCIDAD2_29
    MOVEF_F 0.0 VLV_SENS_29
    MOVEF_F 0.0 VLV_VELOCIDAD_24
    MOVEF_F 0.0 VLV_ENCODER_24
    MOVEF_F 0.0 VLV_VELOCIDAD1_30
    MOVEF_F 0.0 VLV_VELOCIDAD2_30
    MOVEF_F 0.0 VLV_DISTANCIA_30
    MOVEF_F 0.0 VLV_VELOCIDAD1_31
    MOVEF_F 0.0 VLV_VELOCIDAD2_31
    MOVEF_F 0.0 VLV_SENS_31
    MOVEF_F 0.0 VLV_VELOCIDAD_25
    MOVEF_F 0.0 VLV_READER_25
    MOVEF_F 0.0 VLV_VELOCIDAD_26
    MOVEF_F 0.0 VLV_READER_26
    MOVEF_F 0.0 VLV_VELOCIDAD_27
    MOVEF_F 0.0 VLV_ENCODER_27
    MOVEF_F 0.0 VLV_VELOCIDAD_18
    MOVEF_F 0.0 VLV_SENSOR_18
    CALL ARRAYCREATE_FLOAT VLV_MARKING_8
    MOVEF_F 0.0 VLV_VELOCIDAD_19
    MOVEF_F 0.0 VLV_SENSOR_19
    MOVEF_F 0.0 VLV_VELOCIDAD_20
    MOVEF_F 0.0 VLV_SENSOR_20
    MOVEF_F 0.0 VLV_COLOR_33
    MOVEF_F 0.0 VLV_NUMERO_2
    MOVEF_F 0.0 VLV_VELOCIDAD_13
    MOVEF_F 0.0 VLV_TIMER_13
    CALL ARRAYCREATE_FLOAT VLV_MARKING_6
    STRINGS DUPLICATE '' VLV_CODIGO_6
    MOVEF_F 0.0 VLV_GRADOS_7
    MOVEF_F 0.0 VGV_MARKINGGRANDE
    STRINGS DUPLICATE '' VLV_CODIGO_8
    MOVEF_F 0.0 VGV_DIAMETRO
    MOVEF_F 0.0 VGV_NEGRO1
    MOVEF_F 0.0 VGV_NEGRO3
    MOVEF_F 0.0 VGV_NEGRO4
    MOVEF_F 0.0 VGV_BLANCO1
    MOVEF_F 0.0 VGV_BLANCO3
    MOVEF_F 0.0 VGV_BLANCO4
    MOVEF_F 0.0 VGV_COLOR
    CALL ARRAYCREATE_FLOAT VGV_MARKING
    MOVEF_F 0.0 VLV_VOLTAJE_1
    MOVEF_F 0.0 VLV_AUX_6
    MOVEF_F 0.0 VLV_I_6
    MOVEF_F 0.0 VLV_SIGNO_7
    MOVEF_F 0.0 VLV_ENCDIFF_12
    MOVEF_F 0.0 VLV_SIGNO_12
    MOVEF_F 0.0 VLV_SAFETYTIMER_12
    MOVEF_F 0.0 VLV_CORRECCION_14
    MOVEF_F 0.0 VLV_ENC_14
    MOVEF_F 0.0 VLV_CORRECCION_15
    MOVEF_F 0.0 VLV_LECTURA_15
    MOVEF_F 0.0 VLV_CORRECCION_16
    MOVEF_F 0.0 VLV_ENC_16
    MOVEF_F 0.0 VLV_CORRECCION_17
    MOVEF_F 0.0 VLV_CORRECCION_18
    MOVEF_F 0.0 VLV_LECTURA_18
    MOVEF_F 0.0 VLV_CORRECCION_19
    MOVEF_F 0.0 VLV_LECTURA_19
    MOVEF_F 0.0 VLV_CORRECCION_20
    MOVEF_F 0.0 VLV_LECTURA_20
    MOVEF_F 0.0 VLV_LECTURA1_21
    MOVEF_F 0.0 VLV_LECTURA3_21
    MOVEF_F 0.0 VLV_LECTURA4_21
    MOVEF_F 0.0 VLV_KP_21
    MOVEF_F 0.0 VLV_KD_21
    MOVEF_F 0.0 VLV_ERROR_21
    MOVEF_F 0.0 VLV_OLDERROR_21
    MOVEF_F 0.0 VLV_U_21
    MOVEF_F 0.0 VLV_SENTIDO_21
    MOVEF_F 0.0 VLV_STARTC_21
    MOVEF_F 0.0 VLV_ENCODERC_21
    MOVEF_F 0.0 VLV_LECTURA1_22
    MOVEF_F 0.0 VLV_LECTURA3_22
    MOVEF_F 0.0 VLV_LECTURA4_22
    MOVEF_F 0.0 VLV_KP_22
    MOVEF_F 0.0 VLV_KD_22
    MOVEF_F 0.0 VLV_ERROR_22
    MOVEF_F 0.0 VLV_OLDERROR_22
    MOVEF_F 0.0 VLV_U_22
    MOVEF_F 0.0 VLV_SENTIDO_22
    MOVEF_F 0.0 VLV_LECTURA1_23
    MOVEF_F 0.0 VLV_LECTURA3_23
    MOVEF_F 0.0 VLV_LECTURA4_23
    MOVEF_F 0.0 VLV_KP_23
    MOVEF_F 0.0 VLV_KD_23
    MOVEF_F 0.0 VLV_ERROR_23
    MOVEF_F 0.0 VLV_OLDERROR_23
    MOVEF_F 0.0 VLV_U_23
    MOVEF_F 0.0 VLV_SENTIDO_23
    MOVEF_F 0.0 VLV_STARTC_23
    MOVEF_F 0.0 VLV_ENCODERC_23
    MOVEF_F 0.0 VLV_LECTURA1_24
    MOVEF_F 0.0 VLV_LECTURA3_24
    MOVEF_F 0.0 VLV_LECTURA4_24
    MOVEF_F 0.0 VLV_KP_24
    MOVEF_F 0.0 VLV_KD_24
    MOVEF_F 0.0 VLV_ERROR_24
    MOVEF_F 0.0 VLV_OLDERROR_24
    MOVEF_F 0.0 VLV_U_24
    MOVEF_F 0.0 VLV_SENTIDO_24
    MOVEF_F 0.0 VLV_STARTC_24
    MOVEF_F 0.0 VLV_ENCODERC_24
    MOVEF_F 0.0 VLV_LECTURA1_25
    MOVEF_F 0.0 VLV_LECTURA3_25
    MOVEF_F 0.0 VLV_LECTURA4_25
    MOVEF_F 0.0 VLV_KP_25
    MOVEF_F 0.0 VLV_KD_25
    MOVEF_F 0.0 VLV_ERROR_25
    MOVEF_F 0.0 VLV_OLDERROR_25
    MOVEF_F 0.0 VLV_U_25
    MOVEF_F 0.0 VLV_SENTIDO_25
    MOVEF_F 0.0 VLV_LECTURA_25
    MOVEF_F 0.0 VLV_LECTURAIZQ_25
    MOVEF_F 0.0 VLV_LECTURADCH_25
    MOVEF_F 0.0 VLV_LECTURA1_26
    MOVEF_F 0.0 VLV_LECTURA3_26
    MOVEF_F 0.0 VLV_LECTURA4_26
    MOVEF_F 0.0 VLV_KP_26
    MOVEF_F 0.0 VLV_KD_26
    MOVEF_F 0.0 VLV_ERROR_26
    MOVEF_F 0.0 VLV_OLDERROR_26
    MOVEF_F 0.0 VLV_U_26
    MOVEF_F 0.0 VLV_SENTIDO_26
    MOVEF_F 0.0 VLV_LECTURA_26
    MOVEF_F 0.0 VLV_LECTURAIZQ_26
    MOVEF_F 0.0 VLV_LECTURADCH_26
    MOVEF_F 0.0 VLV_LECTURA1_27
    MOVEF_F 0.0 VLV_LECTURA3_27
    MOVEF_F 0.0 VLV_LECTURA4_27
    MOVEF_F 0.0 VLV_KP_27
    MOVEF_F 0.0 VLV_KD_27
    MOVEF_F 0.0 VLV_ERROR_27
    MOVEF_F 0.0 VLV_OLDERROR_27
    MOVEF_F 0.0 VLV_U_27
    MOVEF_F 0.0 VLV_SENTIDO_27
    MOVEF_F 0.0 VLV_STARTC_27
    MOVEF_F 0.0 VLV_ENCODERC_27
    MOVEF_F 0.0 VLV_SIGNO_28
    MOVEF_F 0.0 VLV_VMIN_28
    MOVEF_F 0.0 VLV_VMAX_28
    MOVEF_F 0.0 VLV_ENCODER_28
    MOVEF_F 0.0 VLV_LECTURA_29
    MOVEF_F 0.0 VLV_ENCODER_30
    MOVEF_F 0.0 VLV_LECTURA_31
    MOVEF_F 0.0 VLV_SENS_MODE_32
    MOVEF_F 0.0 VLV_RED_32
    MOVEF_F 0.0 VLV_YELLOW_32
    MOVEF_F 0.0 VLV_GREEN_32
    MOVEF_F 0.0 VLV_BLUE_32
    MOVEF_F 0.0 VLV_HUE_32
    MOVEF_F 0.0 VLV_SAT_32
    MOVEF_F 0.0 VLV_VALUE_32
    CALL ARRAYCREATE_FLOAT VLV_RNORMARRAY_32
    CALL ARRAYCREATE_FLOAT VLV_GNORMARRAY_32
    CALL ARRAYCREATE_FLOAT VLV_BNORMARRAY_32
    MOVEF_F 0.0 VLV_J_32
    CALL ARRAYCREATE_FLOAT VLV_RGB_32
    MOVEF_F 0.0 VLV_RRAW_32
    MOVEF_F 0.0 VLV_GRAW_32
    MOVEF_F 0.0 VLV_BRAW_32
    MOVEF_F 0.0 VLV_RNORM_32
    MOVEF_F 0.0 VLV_GNORM_32
    MOVEF_F 0.0 VLV_BNORM_32
    MOVEF_F 0.0 VLV_MAX_32
    MOVEF_F 0.0 VLV_MIN_32
    MOVEF_F 0.0 VLV_RGBGREY_32
    MOVE32_32 0 RUNCOUNTER_F_GRITARCOLOR_0
    ARRAY CREATE8 1 LOCKS
    CALL PROGRAM_MAIN -1
    PROGRAM_STOP -1
}
vmthread TF_GRITARCOLOR_0
{
    DATA32 tmp
  launch:
    CALL PROGRAM_F_GRITARCOLOR_0 0
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 -1 RUNCOUNTER_F_GRITARCOLOR_0 tmp
    JR_GT32 tmp 1 launch
}
subcall PROGRAM_MAIN
subcall PROGRAM_F_GRITARCOLOR_0
{
    IN_32 SUBPROGRAM
    DATA32 INDEX
    ARRAY8 STACKPOINTER 4
    DATAF F.0
    DATAF F.1
    DATAF F.2
    DATAF F.3
    DATAF F.4
    ARRAY32 RETURNSTACK2 128
    ARRAY32 RETURNSTACK 128
    DATAS S.0 252
    DATAS S.1 252
    MOVE8_8 0 STACKPOINTER
    JR_NEQ32 SUBPROGRAM 0 dispatch908
    WRITE32 ENDSUB_F_GRITARCOLOR_0:ENDTHREAD STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARCOLOR_0
  dispatch908:
    MOVEF_F 0.0 VPR_SIGUELINEAS_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO4
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO4
    MOVEF_F 0.0 VPR_GIRO_DIAMETRO
    MOVEF_F 0.0 VPR_GIRO_G1
    MOVEF_F 0.0 VPR_GIRO_NEGRO
    MOVEF_F 0.0 VPR_GIRO_BLANCO
    MOVEF_F 0.0 VPR_RECTO_DIAMETRO
    MOVEF_F 0.0 VPR_RECTO_NEGRO
    MOVEF_F 0.0 VPR_RECTO_BLANCO
    MOVEF_F 0.0 VPR_SMART_DIAMETRO
    MOVEF_F 0.0 VPR_SMART_NEGRO1
    MOVEF_F 0.0 VPR_SMART_NEGRO3
    MOVEF_F 0.0 VPR_SMART_NEGRO4
    MOVEF_F 0.0 VPR_SMART_BLANCO1
    MOVEF_F 0.0 VPR_SMART_BLANCO3
    MOVEF_F 0.0 VPR_SMART_BLANCO4
    MOVEF_F 0.0 VPR_RGB_RWHITE
    MOVEF_F 0.0 VPR_RGB_GWHITE
    MOVEF_F 0.0 VPR_RGB_BWHITE
    MOVEF_F 0.0 VPR_RGB_VALUENEGRO
    MOVEF_F 0.0 VPR_RGB_VALUEBLANCO
    MOVEF_F 0.0 VLV_VELOCIDAD_11
    MOVEF_F 0.0 VLV_TIMER_11
    MOVEF_F 0.0 VLV_VELOCIDAD_12
    MOVEF_F 0.0 VLV_ENCODER_12
    MOVEF_F 0.0 VLV_VELOCIDAD_14
    MOVEF_F 0.0 VLV_DISTANCIA_14
    MOVEF_F 0.0 VLV_VELOCIDAD_21
    MOVEF_F 0.0 VLV_ENCODER_21
    MOVEF_F 0.0 VLV_VELOCIDAD1_28
    MOVEF_F 0.0 VLV_VELOCIDAD2_28
    MOVEF_F 0.0 VLV_GRADOS_28
    MOVEF_F 0.0 VLV_VELOCIDAD_15
    MOVEF_F 0.0 VLV_SENSOR_15
    MOVEF_F 0.0 VLV_VELOCIDAD_22
    MOVEF_F 0.0 VLV_VELOCIDAD_23
    MOVEF_F 0.0 VLV_ENCODER_23
    MOVEF_F 0.0 VLV_VELOCIDAD_16
    MOVEF_F 0.0 VLV_DISTANCIA_16
    MOVEF_F 0.0 VLV_SENS_32
    MOVEF_F 0.0 VLV_REPS_32
    MOVEF_F 0.0 VLV_COLOR_32
    MOVEF_F 0.0 VLV_VELOCIDAD_17
    MOVEF_F 0.0 VLV_TIEMPO_17
    MOVEF_F 0.0 VLV_VELOCIDAD1_29
    MOVEF_F 0.0 VLV_VELOCIDAD2_29
    MOVEF_F 0.0 VLV_SENS_29
    MOVEF_F 0.0 VLV_VELOCIDAD_24
    MOVEF_F 0.0 VLV_ENCODER_24
    MOVEF_F 0.0 VLV_VELOCIDAD1_30
    MOVEF_F 0.0 VLV_VELOCIDAD2_30
    MOVEF_F 0.0 VLV_DISTANCIA_30
    MOVEF_F 0.0 VLV_VELOCIDAD1_31
    MOVEF_F 0.0 VLV_VELOCIDAD2_31
    MOVEF_F 0.0 VLV_SENS_31
    MOVEF_F 0.0 VLV_VELOCIDAD_25
    MOVEF_F 0.0 VLV_READER_25
    MOVEF_F 0.0 VLV_VELOCIDAD_26
    MOVEF_F 0.0 VLV_READER_26
    MOVEF_F 0.0 VLV_VELOCIDAD_27
    MOVEF_F 0.0 VLV_ENCODER_27
    MOVEF_F 0.0 VLV_VELOCIDAD_18
    MOVEF_F 0.0 VLV_SENSOR_18
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_MARKING_8
    MOVEF_F 0.0 VLV_VELOCIDAD_19
    MOVEF_F 0.0 VLV_SENSOR_19
    MOVEF_F 0.0 VLV_VELOCIDAD_20
    MOVEF_F 0.0 VLV_SENSOR_20
    MOVEF_F 0.0 VLV_COLOR_33
    MOVEF_F 0.0 VLV_NUMERO_2
    MOVEF_F 0.0 VLV_VELOCIDAD_13
    MOVEF_F 0.0 VLV_TIMER_13
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_MARKING_6
    STRINGS DUPLICATE '' VLV_CODIGO_6
    MOVEF_F 0.0 VLV_GRADOS_7
    MOVEF_F 0.0 VGV_MARKINGGRANDE
    STRINGS DUPLICATE '' VLV_CODIGO_8
    MOVEF_F 0.0 VGV_DIAMETRO
    MOVEF_F 0.0 VGV_NEGRO1
    MOVEF_F 0.0 VGV_NEGRO3
    MOVEF_F 0.0 VGV_NEGRO4
    MOVEF_F 0.0 VGV_BLANCO1
    MOVEF_F 0.0 VGV_BLANCO3
    MOVEF_F 0.0 VGV_BLANCO4
    MOVEF_F 0.0 VGV_COLOR
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VGV_MARKING
    WRITE32 ENDSUB_F_SETUP_0:CALLSUB3 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SETUP_0
CALLSUB3:
    WRITE32 ENDSUB_F_MAIN_0:CALLSUB4 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_MAIN_0
CALLSUB4:
ENDTHREAD:
    RETURN
SUB_F_SETUP_0:
    DATA8 layer5
	DATA8 no5
	DATA8 mode85
	
	MOVEF_8 1.0 no5
	SUB8 no5 1 no5
	DIV8 no5 4 layer5
	MATH MOD8 no5 4 no5

	MOVEF_8 0.0 mode85
	
	INPUT_DEVICE READY_RAW layer5 no5 0 mode85 0
    DATA8 layer6
	DATA8 no6
	DATA8 mode86
	
	MOVEF_8 2.0 no6
	SUB8 no6 1 no6
	DIV8 no6 4 layer6
	MATH MOD8 no6 4 no6

	MOVEF_8 4.0 mode86
	
	INPUT_DEVICE READY_RAW layer6 no6 0 mode86 0
    DATA8 layer7
	DATA8 no7
	DATA8 mode87
	
	MOVEF_8 3.0 no7
	SUB8 no7 1 no7
	DIV8 no7 4 layer7
	MATH MOD8 no7 4 no7

	MOVEF_8 0.0 mode87
	
	INPUT_DEVICE READY_RAW layer7 no7 0 mode87 0
    DATA8 layer8
	DATA8 no8
	DATA8 mode88
	
	MOVEF_8 4.0 no8
	SUB8 no8 1 no8
	DIV8 no8 4 layer8
	MATH MOD8 no8 4 no8

	MOVEF_8 0.0 mode88
	
	INPUT_DEVICE READY_RAW layer8 no8 0 mode88 0
    MOVEF_F 6.24 VGV_DIAMETRO
    MOVEF_F 2.73611111111111 VPR_GIRO_G1
    MOVEF_F 10.0 VGV_NEGRO1
    MOVEF_F 9.0 VGV_NEGRO3
    MOVEF_F 8.0 VGV_NEGRO4
    MOVEF_F 65.0 VGV_BLANCO1
    MOVEF_F 59.0 VGV_BLANCO3
    MOVEF_F 55.0 VGV_BLANCO4
    MOVEF_F 4.0 VPR_RGB_VALUENEGRO
    MOVEF_F 32.0 VPR_RGB_VALUEBLANCO
    MOVEF_F 57.0 VPR_RGB_RWHITE
    MOVEF_F 71.0 VPR_RGB_GWHITE
    MOVEF_F 73.0 VPR_RGB_BWHITE
    MOVEF_F VGV_DIAMETRO VPR_RECTO_DIAMETRO
    MOVEF_F VGV_DIAMETRO VPR_GIRO_DIAMETRO
    MOVEF_F VGV_DIAMETRO VPR_SIGUELINEAS_DIAMETRO
    MOVEF_F VGV_DIAMETRO VPR_SMART_DIAMETRO
    MOVEF_F VGV_NEGRO1 VPR_SIGUELINEAS_NEGRO1
    MOVEF_F VGV_NEGRO3 VPR_SIGUELINEAS_NEGRO3
    MOVEF_F VGV_NEGRO4 VPR_SIGUELINEAS_NEGRO4
    MOVEF_F VGV_BLANCO1 VPR_SIGUELINEAS_BLANCO1
    MOVEF_F VGV_BLANCO3 VPR_SIGUELINEAS_BLANCO3
    MOVEF_F VGV_BLANCO4 VPR_SIGUELINEAS_BLANCO4
    MOVEF_F VGV_NEGRO1 VPR_SMART_NEGRO1
    MOVEF_F VGV_NEGRO3 VPR_SMART_NEGRO3
    MOVEF_F VGV_NEGRO4 VPR_SMART_NEGRO4
    MOVEF_F VGV_BLANCO1 VPR_SMART_BLANCO1
    MOVEF_F VGV_BLANCO3 VPR_SMART_BLANCO3
    MOVEF_F VGV_BLANCO4 VPR_SMART_BLANCO4
    ADDF VGV_NEGRO1 VGV_NEGRO3 F.1
    ADDF F.1 VGV_NEGRO4 F.0
    DATAF tmpf11
    DATA8 flag11
    DIVF F.0 3.0 tmpf11
    CP_EQF 0.0 3.0 flag11
    SELECTF flag11 0.0 tmpf11 VPR_RECTO_NEGRO

    ADDF VGV_BLANCO1 VGV_BLANCO3 F.1
    ADDF F.1 VGV_BLANCO4 F.0
    DATAF tmpf14
    DATA8 flag14
    DIVF F.0 3.0 tmpf14
    CP_EQF 0.0 3.0 flag14
    SELECTF flag14 0.0 tmpf14 VPR_RECTO_BLANCO

    ADDF VGV_NEGRO1 VGV_NEGRO3 F.1
    ADDF F.1 VGV_NEGRO4 F.0
    DATAF tmpf17
    DATA8 flag17
    DIVF F.0 3.0 tmpf17
    CP_EQF 0.0 3.0 flag17
    SELECTF flag17 0.0 tmpf17 VPR_GIRO_NEGRO

    ADDF VGV_BLANCO1 VGV_BLANCO3 F.1
    ADDF F.1 VGV_BLANCO4 F.0
    DATAF tmpf20
    DATA8 flag20
    DIVF F.0 3.0 tmpf20
    CP_EQF 0.0 3.0 flag20
    SELECTF flag20 0.0 tmpf20 VPR_GIRO_BLANCO

RETSUB_F_SETUP_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SETUP_0:
SUB_F_STARTARM_0:
    MOVEF_F 100.0 VLV_VELOCIDAD_11
    MOVEF_F 1000.0 VLV_TIMER_11
    WRITE32 ENDSUB_M_BRAZO_ATIMER_2:CALLSUB21 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_ATIMER_2
CALLSUB21:
    OUTPUT_CLR_COUNT 0 1
    DATA32 milliseconds23
	MOVEF_32 100.0 milliseconds23
	DATA32 timer23
	TIMER_WAIT milliseconds23 timer23
	TIMER_READY timer23
    MOVEF_F 35.0 VLV_VELOCIDAD_12
    MOVEF_F -200.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB24 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB24:
    OUTPUT_CLR_COUNT 0 1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Connect'
    SOUND_READY
RETSUB_F_STARTARM_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_STARTARM_0:
SUB_F_MAIN_0:
    WRITE32 ENDSUB_F_GRITARVOLTAJE_0:CALLSUB28 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARVOLTAJE_0
CALLSUB28:
    WRITE32 ENDSUB_F_STARTARM_0:CALLSUB29 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_STARTARM_0
CALLSUB29:
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/One'
    WRITE32 ENDSUB_F_S_0:CALLSUB31 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_S_0
CALLSUB31:
    OUTPUT_CLR_COUNT 0 1
    DATA32 milliseconds33
	MOVEF_32 150.0 milliseconds33
	DATA32 timer33
	TIMER_WAIT milliseconds33 timer33
	TIMER_READY timer33
    MOVEF_F 35.0 VLV_VELOCIDAD_12
    MOVEF_F -330.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB34 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB34:
    MOVEF_F 50.0 VLV_VELOCIDAD_14
    MOVEF_F 5.0 VLV_DISTANCIA_14
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB35 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB35:
    MOVEF_F 50.0 VLV_VELOCIDAD_21
    MOVEF_F 27.0 VLV_ENCODER_21
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB36 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB36:
    MOVEF_F 10.0 VLV_VELOCIDAD1_28
    MOVEF_F 45.0 VLV_VELOCIDAD2_28
    MOVEF_F 63.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB37 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB37:
    CALL MOTOR.STOP 'BC' 'True'
    DATA32 milliseconds39
	MOVEF_32 200.0 milliseconds39
	DATA32 timer39
	TIMER_WAIT milliseconds39 timer39
	TIMER_READY timer39
    MOVEF_F 28.125 VLV_VELOCIDAD1_28
    MOVEF_F 6.25 VLV_VELOCIDAD2_28
    MOVEF_F 61.2 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB40 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB40:
    MOVEF_F 50.0 VLV_VELOCIDAD_14
    MOVEF_F 40.0 VLV_DISTANCIA_14
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB41 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB41:
    MOVEF_F 50.0 VLV_VELOCIDAD_15
    MOVEF_F 4.0 VLV_SENSOR_15
    WRITE32 ENDSUB_M_RECTO_NEGRO1_2:CALLSUB42 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_NEGRO1_2
CALLSUB42:
    MOVEF_F 40.0 VLV_VELOCIDAD1_28
    MOVEF_F -20.0 VLV_VELOCIDAD2_28
    MOVEF_F 90.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB43 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB43:
    MOVEF_F 50.0 VLV_VELOCIDAD_21
    MOVEF_F 6.5 VLV_ENCODER_21
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB44 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB44:
    MOVEF_F 60.0 VLV_VELOCIDAD_22
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE14_1:CALLSUB45 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE14_1
CALLSUB45:
    MOVEF_F 70.0 VLV_VELOCIDAD1_28
    MOVEF_F -62.0 VLV_VELOCIDAD2_28
    MOVEF_F 180.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB46 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB46:
    MOVEF_F 60.0 VLV_VELOCIDAD_23
    MOVEF_F 40.0 VLV_ENCODER_23
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB47 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB47:
    MOVEF_F 450.0 VLV_VELOCIDAD_16
    MOVEF_F 10.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB48 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB48:
    MOVEF_F -30.0 VLV_VELOCIDAD1_28
    MOVEF_F 30.0 VLV_VELOCIDAD2_28
    MOVEF_F 90.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB49 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB49:
    MOVEF_F 20.0 VLV_VELOCIDAD_16
    MOVEF_F 14.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB50 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB50:
    MOVEF_F 20.0 VLV_VELOCIDAD1_28
    MOVEF_F -20.0 VLV_VELOCIDAD2_28
    MOVEF_F 90.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB51 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB51:
    DATA32 milliseconds52
	MOVEF_32 100.0 milliseconds52
	DATA32 timer52
	TIMER_WAIT milliseconds52 timer52
	TIMER_READY timer52
    MOVEF_F -40.0 VLV_VELOCIDAD_16
    MOVEF_F 2.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB53 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB53:
    MOVEF_F 2.0 VLV_SENS_32
    MOVEF_F 5.0 VLV_REPS_32
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB54 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB54:
    MOVEF_F VLV_COLOR_32 VGV_MARKINGGRANDE
    MOVEF_F VGV_MARKINGGRANDE VGV_COLOR
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VGV_MARKING
    DATA32 tmp56
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 1  RUNCOUNTER_F_GRITARCOLOR_0 tmp56
    JR_NEQ32 0 tmp56 alreadylaunched56
    OBJECT_START TF_GRITARCOLOR_0
  alreadylaunched56:
    MOVEF_F 40.0 VLV_VELOCIDAD1_28
    MOVEF_F 9.0 VLV_VELOCIDAD2_28
    MOVEF_F 41.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB57 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB57:
    MOVEF_F 9.0 VLV_VELOCIDAD1_28
    MOVEF_F 40.0 VLV_VELOCIDAD2_28
    MOVEF_F 41.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB58 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB58:
    MOVEF_F 20.0 VLV_VELOCIDAD_16
    MOVEF_F 14.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB59 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB59:
    MOVEF_F 2.0 VLV_SENS_32
    MOVEF_F 5.0 VLV_REPS_32
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB60 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB60:
    CALL ARRAYSTORE_FLOAT 1.0 VLV_COLOR_32 VGV_MARKING
    CALL ARRAYGET_FLOAT 1.0 VGV_COLOR VGV_MARKING
    DATA32 tmp63
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 1  RUNCOUNTER_F_GRITARCOLOR_0 tmp63
    JR_NEQ32 0 tmp63 alreadylaunched63
    OBJECT_START TF_GRITARCOLOR_0
  alreadylaunched63:
    MOVEF_F -30.0 VLV_VELOCIDAD_16
    MOVEF_F 5.8 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB64 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB64:
    MOVEF_F 30.0 VLV_VELOCIDAD1_28
    MOVEF_F -30.0 VLV_VELOCIDAD2_28
    MOVEF_F 90.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB65 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB65:
    MOVEF_F 30.0 VLV_VELOCIDAD_16
    MOVEF_F 6.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB66 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB66:
    MOVEF_F 30.0 VLV_VELOCIDAD1_28
    MOVEF_F -30.0 VLV_VELOCIDAD2_28
    MOVEF_F 93.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB67 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB67:
    MOVEF_F -20.0 VLV_VELOCIDAD_17
    MOVEF_F 700.0 VLV_TIEMPO_17
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB68 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB68:
    MOVEF_F 2.0 VLV_SENS_32
    MOVEF_F 5.0 VLV_REPS_32
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB69 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB69:
    CALL ARRAYSTORE_FLOAT 2.0 VLV_COLOR_32 VGV_MARKING
    CALL ARRAYGET_FLOAT 2.0 VGV_COLOR VGV_MARKING
    DATA32 tmp72
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 1  RUNCOUNTER_F_GRITARCOLOR_0 tmp72
    JR_NEQ32 0 tmp72 alreadylaunched72
    OBJECT_START TF_GRITARCOLOR_0
  alreadylaunched72:
    MOVEF_F 20.0 VLV_VELOCIDAD_16
    MOVEF_F 8.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB73 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB73:
    MOVEF_F 2.0 VLV_SENS_32
    MOVEF_F 5.0 VLV_REPS_32
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB74 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB74:
    CALL ARRAYSTORE_FLOAT 3.0 VLV_COLOR_32 VGV_MARKING
    CALL ARRAYGET_FLOAT 3.0 VGV_COLOR VGV_MARKING
    DATA32 tmp77
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 1  RUNCOUNTER_F_GRITARCOLOR_0 tmp77
    JR_NEQ32 0 tmp77 alreadylaunched77
    OBJECT_START TF_GRITARCOLOR_0
  alreadylaunched77:
    CALL ARRAYGET_FLOAT 1.0 F.3 VGV_MARKING
    CALL ARRAYGET_FLOAT 2.0 F.4 VGV_MARKING
    ADDF F.3 F.4 F.2
    CALL ARRAYGET_FLOAT 3.0 F.3 VGV_MARKING
    ADDF F.2 F.3 F.1
    SUBF 14.0 F.1 F.0
    CALL ARRAYSTORE_FLOAT 0.0 F.0 VGV_MARKING
    MOVEF_F 50.0 VLV_VELOCIDAD1_29
    MOVEF_F 43.0 VLV_VELOCIDAD2_29
    MOVEF_F 1.0 VLV_SENS_29
    WRITE32 ENDSUB_M_GIRO_NEGRO1F_3:CALLSUB85 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_NEGRO1F_3
CALLSUB85:
    MOVEF_F 5.0 VLV_VELOCIDAD1_29
    MOVEF_F 25.0 VLV_VELOCIDAD2_29
    MOVEF_F 4.0 VLV_SENS_29
    WRITE32 ENDSUB_M_GIRO_NEGRO1F_3:CALLSUB86 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_NEGRO1F_3
CALLSUB86:
    MOVEF_F 30.0 VLV_VELOCIDAD_24
    MOVEF_F 7.0 VLV_ENCODER_24
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14F_2:CALLSUB87 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14F_2
CALLSUB87:
    MOVEF_F 60.0 VLV_VELOCIDAD_22
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE14_1:CALLSUB88 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE14_1
CALLSUB88:
    MOVEF_F -35.0 VLV_VELOCIDAD1_28
    MOVEF_F 25.0 VLV_VELOCIDAD2_28
    MOVEF_F 86.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB89 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB89:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
    DATA32 milliseconds91
	MOVEF_32 100.0 milliseconds91
	DATA32 timer91
	TIMER_WAIT milliseconds91 timer91
	TIMER_READY timer91
    MOVEF_F 30.0 VLV_VELOCIDAD_21
    MOVEF_F 21.0 VLV_ENCODER_21
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB92 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB92:
    MOVEF_F 60.0 VLV_VELOCIDAD1_28
    MOVEF_F -40.0 VLV_VELOCIDAD2_28
    MOVEF_F 91.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB93 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB93:
    MOVEF_F -50.0 VLV_VELOCIDAD_16
    MOVEF_F 40.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB94 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB94:
    MOVEF_F 20.0 VLV_VELOCIDAD_12
    MOVEF_F 40.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB95 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB95:
    DATA32 milliseconds96
	MOVEF_32 200.0 milliseconds96
	DATA32 timer96
	TIMER_WAIT milliseconds96 timer96
	TIMER_READY timer96
    MOVEF_F 30.0 VLV_VELOCIDAD_14
    MOVEF_F 17.0 VLV_DISTANCIA_14
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB97 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB97:
    MOVEF_F 10.0 VLV_VELOCIDAD_17
    MOVEF_F 400.0 VLV_TIEMPO_17
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB98 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB98:
    MOVEF_F -20.0 VLV_VELOCIDAD_16
    MOVEF_F 3.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB99 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB99:
    MOVEF_F 20.0 VLV_VELOCIDAD_12
    MOVEF_F -330.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB100 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB100:
    MOVEF_F 30.0 VLV_VELOCIDAD1_30
    MOVEF_F 20.0 VLV_VELOCIDAD2_30
    MOVEF_F 13.0 VLV_DISTANCIA_30
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB101 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB101:
    MOVEF_F 20.0 VLV_VELOCIDAD1_30
    MOVEF_F 30.0 VLV_VELOCIDAD2_30
    MOVEF_F 13.0 VLV_DISTANCIA_30
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB102 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB102:
    MOVEF_F 20.0 VLV_VELOCIDAD_15
    MOVEF_F 1.0 VLV_SENSOR_15
    WRITE32 ENDSUB_M_RECTO_NEGRO1_2:CALLSUB103 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_NEGRO1_2
CALLSUB103:
    MOVEF_F -12.0 VLV_VELOCIDAD1_28
    MOVEF_F 20.0 VLV_VELOCIDAD2_28
    MOVEF_F 45.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB104 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB104:
    MOVEF_F -10.0 VLV_VELOCIDAD1_31
    MOVEF_F 20.0 VLV_VELOCIDAD2_31
    MOVEF_F 4.0 VLV_SENS_31
    WRITE32 ENDSUB_M_GIRO_NEGRO1_3:CALLSUB105 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_NEGRO1_3
CALLSUB105:
    MOVEF_F 15.0 VLV_VELOCIDAD_21
    MOVEF_F 10.0 VLV_ENCODER_21
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB106 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB106:
    MOVEF_F 15.0 VLV_VELOCIDAD_25
    MOVEF_F 3.0 VLV_READER_25
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:CALLSUB107 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNO_2
CALLSUB107:
    MOVEF_F 30.0 VLV_VELOCIDAD1_30
    MOVEF_F 26.0 VLV_VELOCIDAD2_30
    MOVEF_F 12.0 VLV_DISTANCIA_30
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB108 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB108:
    MOVEF_F 27.0 VLV_VELOCIDAD1_30
    MOVEF_F 30.0 VLV_VELOCIDAD2_30
    MOVEF_F 9.0 VLV_DISTANCIA_30
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB109 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB109:
    MOVEF_F 12.0 VLV_VELOCIDAD_16
    MOVEF_F 6.5 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB110 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB110:
    MOVEF_F -10.0 VLV_VELOCIDAD_16
    MOVEF_F 5.25 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB111 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB111:
    WRITE32 ENDSUB_F_BAJARCUADRO_0:CALLSUB112 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_BAJARCUADRO_0
CALLSUB112:
    DATA32 milliseconds113
	MOVEF_32 400.0 milliseconds113
	DATA32 timer113
	TIMER_WAIT milliseconds113 timer113
	TIMER_READY timer113
    MOVEF_F -25.0 VLV_VELOCIDAD_16
    MOVEF_F 16.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB114 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB114:
    MOVEF_F -20.0 VLV_VELOCIDAD1_28
    MOVEF_F 20.0 VLV_VELOCIDAD2_28
    MOVEF_F 95.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB115 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB115:
    MOVEF_F 35.0 VLV_VELOCIDAD_21
    MOVEF_F 30.0 VLV_ENCODER_21
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB116 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB116:
    MOVEF_F 40.0 VLV_VELOCIDAD_16
    MOVEF_F 16.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB117 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB117:
    MOVEF_F 30.0 VLV_VELOCIDAD1_28
    MOVEF_F 0.0 VLV_VELOCIDAD2_28
    MOVEF_F 134.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB118 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB118:
    MOVEF_F 20.0 VLV_VELOCIDAD_16
    MOVEF_F 2.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB119 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB119:
    MOVEF_F 35.0 VLV_VELOCIDAD_12
    MOVEF_F -330.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB120 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB120:
    MOVEF_F -25.0 VLV_VELOCIDAD_16
    MOVEF_F 6.5 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB121 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB121:
    WRITE32 ENDSUB_F_BAJARCUADRO_0:CALLSUB122 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_BAJARCUADRO_0
CALLSUB122:
    DATA32 milliseconds123
	MOVEF_32 400.0 milliseconds123
	DATA32 timer123
	TIMER_WAIT milliseconds123 timer123
	TIMER_READY timer123
    MOVEF_F -40.0 VLV_VELOCIDAD1_28
    MOVEF_F 0.0 VLV_VELOCIDAD2_28
    MOVEF_F 70.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB124 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB124:
    MOVEF_F 40.0 VLV_VELOCIDAD_16
    MOVEF_F 16.3 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB125 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB125:
    MOVEF_F 40.0 VLV_VELOCIDAD_12
    MOVEF_F -330.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB126 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB126:
    MOVEF_F 20.0 VLV_VELOCIDAD1_28
    MOVEF_F -20.0 VLV_VELOCIDAD2_28
    MOVEF_F 160.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB127 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB127:
    MOVEF_F 60.0 VLV_VELOCIDAD1_30
    MOVEF_F 70.0 VLV_VELOCIDAD2_30
    MOVEF_F 70.5 VLV_DISTANCIA_30
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB128 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB128:
    MOVEF_F 30.0 VLV_VELOCIDAD1_28
    MOVEF_F -30.0 VLV_VELOCIDAD2_28
    MOVEF_F 90.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB129 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB129:
    MOVEF_F 30.0 VLV_VELOCIDAD1_31
    MOVEF_F -30.0 VLV_VELOCIDAD2_31
    MOVEF_F 3.0 VLV_SENS_31
    WRITE32 ENDSUB_M_GIRO_NEGRO1_3:CALLSUB130 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_NEGRO1_3
CALLSUB130:
    MOVEF_F -30.0 VLV_VELOCIDAD1_31
    MOVEF_F 30.0 VLV_VELOCIDAD2_31
    MOVEF_F 1.0 VLV_SENS_31
    WRITE32 ENDSUB_M_GIRO_NEGRO1_3:CALLSUB131 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_NEGRO1_3
CALLSUB131:
    MOVEF_F 30.0 VLV_VELOCIDAD_23
    MOVEF_F 10.0 VLV_ENCODER_23
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB132 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB132:
    MOVEF_F 40.0 VLV_VELOCIDAD_26
    MOVEF_F 4.0 VLV_READER_26
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:CALLSUB133 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2
CALLSUB133:
    MOVEF_F 80.0 VLV_VELOCIDAD_23
    MOVEF_F 90.0 VLV_ENCODER_23
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB134 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB134:
    MOVEF_F 30.0 VLV_VELOCIDAD_27
    MOVEF_F 9.0 VLV_ENCODER_27
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31_2:CALLSUB135 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31_2
CALLSUB135:
    MOVEF_F 20.0 VLV_VELOCIDAD_16
    MOVEF_F 16.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB136 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB136:
    MOVEF_F 20.0 VLV_VELOCIDAD1_28
    MOVEF_F -20.0 VLV_VELOCIDAD2_28
    MOVEF_F 90.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB137 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB137:
    MOVEF_F 20.0 VLV_VELOCIDAD_16
    MOVEF_F 8.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB138 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB138:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F -740.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB139 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB139:
    JR_NEQF VGV_MARKINGGRANDE 5.0 else140_1
    CALL MOTOR.SCHEDULE 'D' -60.0 0.0 90.0 0.0 'true' 

	DATA8 layer141
	DATA8 nos141
	DATA8 busy141
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer141 nos141
	JR_EQ8 0 nos141 motornotbusy141
  motorwaiting141:
	OUTPUT_TEST layer141 nos141 busy141
	JR_EQ8 busy141 0 motornotbusy141
	SLEEP
	JR motorwaiting141
  motornotbusy141:
    JR endif140
  else140_1:
    SUBF VGV_MARKINGGRANDE 2.0 F.1
    MULF F.1 90.0 F.0
    CALL MOTOR.SCHEDULE 'D' 60.0 0.0 F.0 0.0 'true' 

	DATA8 layer144
	DATA8 nos144
	DATA8 busy144
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer144 nos144
	JR_EQ8 0 nos144 motornotbusy144
  motorwaiting144:
	OUTPUT_TEST layer144 nos144 busy144
	JR_EQ8 busy144 0 motornotbusy144
	SLEEP
	JR motorwaiting144
  motornotbusy144:
  else140_2:
  endif140:
    MOVEF_F 80.0 VLV_VELOCIDAD_16
    MOVEF_F 28.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB145 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB145:
    MOVEF_F 40.0 VLV_VELOCIDAD_18
    MOVEF_F 1.0 VLV_SENSOR_18
    WRITE32 ENDSUB_M_RECTO_BLANCO1_2:CALLSUB146 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_BLANCO1_2
CALLSUB146:
    MOVEF_F 40.0 VLV_VELOCIDAD_15
    MOVEF_F 1.0 VLV_SENSOR_15
    WRITE32 ENDSUB_M_RECTO_NEGRO1_2:CALLSUB147 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_NEGRO1_2
CALLSUB147:
    CALL MOTOR.STOP 'BC' 'True'
    DATA32 milliseconds149
	MOVEF_32 150.0 milliseconds149
	DATA32 timer149
	TIMER_WAIT milliseconds149 timer149
	TIMER_READY timer149
    MOVEF_F 15.0 VLV_VELOCIDAD1_28
    MOVEF_F -15.0 VLV_VELOCIDAD2_28
    MOVEF_F 92.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB150 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB150:
    MOVEF_F 80.0 VLV_VELOCIDAD_16
    MOVEF_F 60.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB151 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB151:
    MOVEF_F 10.0 VLV_VELOCIDAD_15
    MOVEF_F 3.0 VLV_SENSOR_15
    WRITE32 ENDSUB_M_RECTO_NEGRO1_2:CALLSUB152 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_NEGRO1_2
CALLSUB152:
    MOVEF_F -10.0 VLV_VELOCIDAD_16
    MOVEF_F 1.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB153 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB153:
    MOVEF_F 40.0 VLV_VELOCIDAD_12
    MOVEF_F -500.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB154 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB154:
    JR_EQF VGV_MARKINGGRANDE 5.0 or156
    JR_NEQF VGV_MARKINGGRANDE 3.0 else155_1
  or156:
    CALL MOTOR.SCHEDULE 'D' 60.0 0.0 -90.0 0.0 'true' 

	DATA8 layer157
	DATA8 nos157
	DATA8 busy157
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer157 nos157
	JR_EQ8 0 nos157 motornotbusy157
  motorwaiting157:
	OUTPUT_TEST layer157 nos157 busy157
	JR_EQ8 busy157 0 motornotbusy157
	SLEEP
	JR motorwaiting157
  motornotbusy157:
  else155_1:
  endif155:
    MOVEF_F 40.0 VLV_VELOCIDAD_12
    MOVEF_F -330.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB158 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB158:
    MOVEF_F -10.0 VLV_VELOCIDAD_16
    MOVEF_F 10.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB159 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB159:
    MOVEF_F 30.0 VLV_VELOCIDAD1_28
    MOVEF_F -30.0 VLV_VELOCIDAD2_28
    MOVEF_F 180.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB160 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB160:
    MOVEF_F 30.0 VLV_VELOCIDAD1_30
    MOVEF_F 17.0 VLV_VELOCIDAD2_30
    MOVEF_F 27.0 VLV_DISTANCIA_30
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB161 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB161:
    MOVEF_F 17.0 VLV_VELOCIDAD1_30
    MOVEF_F 30.0 VLV_VELOCIDAD2_30
    MOVEF_F 23.0 VLV_DISTANCIA_30
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB162 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB162:
    MOVEF_F -30.0 VLV_VELOCIDAD_16
    MOVEF_F 11.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB163 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB163:
    MOVEF_F -30.0 VLV_VELOCIDAD1_28
    MOVEF_F 30.0 VLV_VELOCIDAD2_28
    MOVEF_F 90.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB164 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB164:
    MOVEF_F -30.0 VLV_VELOCIDAD_14
    MOVEF_F 2.0 VLV_DISTANCIA_14
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB165 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB165:
    MOVEF_F -30.0 VLV_VELOCIDAD_17
    MOVEF_F 500.0 VLV_TIEMPO_17
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB166 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB166:
    MOVEF_F 30.0 VLV_VELOCIDAD_14
    MOVEF_F 2.0 VLV_DISTANCIA_14
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB167 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB167:
    MOVEF_F 100.0 VLV_VELOCIDAD_11
    MOVEF_F 600.0 VLV_TIMER_11
    WRITE32 ENDSUB_M_BRAZO_ATIMER_2:CALLSUB168 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_ATIMER_2
CALLSUB168:
    MOVEF_F 100.0 VLV_VELOCIDAD_12
    MOVEF_F -330.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB169 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB169:
    MOVEF_F 35.0 VLV_VELOCIDAD1_28
    MOVEF_F 0.0 VLV_VELOCIDAD2_28
    MOVEF_F 95.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB170 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB170:
    MOVEF_F 30.0 VLV_VELOCIDAD_26
    MOVEF_F 4.0 VLV_READER_26
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:CALLSUB171 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2
CALLSUB171:
    MOVEF_F 30.0 VLV_VELOCIDAD1_28
    MOVEF_F -18.0 VLV_VELOCIDAD2_28
    MOVEF_F 90.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB172 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB172:
    MOVEF_F 10.0 VLV_VELOCIDAD_23
    MOVEF_F 6.0 VLV_ENCODER_23
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB173 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB173:
    MOVEF_F 9.75 VLV_VELOCIDAD1_30
    MOVEF_F 22.5 VLV_VELOCIDAD2_30
    MOVEF_F 6.5 VLV_DISTANCIA_30
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB174 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB174:
    MOVEF_F 22.5 VLV_VELOCIDAD1_30
    MOVEF_F 9.75 VLV_VELOCIDAD2_30
    MOVEF_F 6.5 VLV_DISTANCIA_30
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB175 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB175:
    MOVEF_F -20.0 VLV_VELOCIDAD_16
    MOVEF_F 3.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB176 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB176:
    ARRAY COPY VGV_MARKING VLV_MARKING_8
    WRITE32 ENDSUB_F_ORDENARBLOQUES_1:CALLSUB177 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ORDENARBLOQUES_1
CALLSUB177:
    MOVEF_F 30.0 VLV_VELOCIDAD_16
    MOVEF_F 10.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB178 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB178:
    MOVEF_F 30.0 VLV_VELOCIDAD_25
    MOVEF_F 3.0 VLV_READER_25
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:CALLSUB179 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNO_2
CALLSUB179:
    MOVEF_F -14.0 VLV_VELOCIDAD1_28
    MOVEF_F 30.0 VLV_VELOCIDAD2_28
    MOVEF_F 95.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB180 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB180:
    MOVEF_F 40.0 VLV_VELOCIDAD_24
    MOVEF_F 20.0 VLV_ENCODER_24
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14F_2:CALLSUB181 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14F_2
CALLSUB181:
    MOVEF_F 35.0 VLV_VELOCIDAD_16
    MOVEF_F 39.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB182 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB182:
    MOVEF_F 10.0 VLV_VELOCIDAD1_28
    MOVEF_F -10.0 VLV_VELOCIDAD2_28
    MOVEF_F 128.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB183 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB183:
    MOVEF_F -40.0 VLV_VELOCIDAD_16
    MOVEF_F 18.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB184 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB184:
    MOVEF_F -1.0 VLV_VELOCIDAD1_28
    MOVEF_F -15.0 VLV_VELOCIDAD2_28
    MOVEF_F 70.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB185 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB185:
    MOVEF_F -15.0 VLV_VELOCIDAD_16
    MOVEF_F 2.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB186 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB186:
    MOVEF_F 50.0 VLV_VELOCIDAD_12
    MOVEF_F -330.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB187 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB187:
    MOVEF_F 15.0 VLV_VELOCIDAD_16
    MOVEF_F 9.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB188 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB188:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F 0.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB189 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB189:
    MOVEF_F 15.0 VLV_VELOCIDAD_16
    MOVEF_F 8.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB190 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB190:
    MOVEF_F -15.0 VLV_VELOCIDAD_16
    MOVEF_F 11.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB191 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB191:
    MOVEF_F 15.0 VLV_VELOCIDAD_16
    MOVEF_F 13.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB192 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB192:
    MOVEF_F -15.0 VLV_VELOCIDAD_16
    MOVEF_F 5.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB193 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB193:
    MOVEF_F -15.0 VLV_VELOCIDAD1_28
    MOVEF_F 15.0 VLV_VELOCIDAD2_28
    MOVEF_F 100.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB194 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB194:
    MOVEF_F -30.0 VLV_VELOCIDAD_17
    MOVEF_F 500.0 VLV_TIEMPO_17
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB195 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB195:
    MOVEF_F 15.0 VLV_VELOCIDAD_16
    MOVEF_F 12.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB196 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB196:
    MOVEF_F -10.0 VLV_VELOCIDAD1_28
    MOVEF_F 10.0 VLV_VELOCIDAD2_28
    MOVEF_F 7.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB197 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB197:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F -200.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB198 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB198:
    MOVEF_F 10.0 VLV_VELOCIDAD_16
    MOVEF_F 5.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB199 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB199:
    MOVEF_F -10.0 VLV_VELOCIDAD_16
    MOVEF_F 5.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB200 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB200:
    MOVEF_F 50.0 VLV_VELOCIDAD_12
    MOVEF_F 0.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB201 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB201:
    MOVEF_F 10.0 VLV_VELOCIDAD1_28
    MOVEF_F -10.0 VLV_VELOCIDAD2_28
    MOVEF_F 15.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB202 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB202:
    MOVEF_F 100.0 VLV_VELOCIDAD_14
    MOVEF_F 60.0 VLV_DISTANCIA_14
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB203 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB203:
    MOVEF_F 40.0 VLV_VELOCIDAD_19
    MOVEF_F 1.0 VLV_SENSOR_19
    WRITE32 ENDSUB_M_RECTO_BLANCO1F_2:CALLSUB204 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_BLANCO1F_2
CALLSUB204:
    MOVEF_F 20.0 VLV_VELOCIDAD_20
    MOVEF_F 1.0 VLV_SENSOR_20
    WRITE32 ENDSUB_M_RECTO_NEGRO1F_2:CALLSUB205 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_NEGRO1F_2
CALLSUB205:
    MOVEF_F -12.0 VLV_VELOCIDAD1_28
    MOVEF_F 30.0 VLV_VELOCIDAD2_28
    MOVEF_F 93.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB206 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB206:
    MOVEF_F 40.0 VLV_VELOCIDAD_24
    MOVEF_F 10.0 VLV_ENCODER_24
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14F_2:CALLSUB207 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14F_2
CALLSUB207:
    MOVEF_F 80.0 VLV_VELOCIDAD_24
    MOVEF_F 70.0 VLV_ENCODER_24
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14F_2:CALLSUB208 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14F_2
CALLSUB208:
    MOVEF_F 40.0 VLV_VELOCIDAD_25
    MOVEF_F 3.0 VLV_READER_25
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:CALLSUB209 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNO_2
CALLSUB209:
    MOVEF_F 20.0 VLV_VELOCIDAD_16
    MOVEF_F 2.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB210 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB210:
    MOVEF_F -50.0 VLV_VELOCIDAD1_28
    MOVEF_F 50.0 VLV_VELOCIDAD2_28
    MOVEF_F 88.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB211 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB211:
    MOVEF_F 50.0 VLV_VELOCIDAD_27
    MOVEF_F 40.0 VLV_ENCODER_27
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31_2:CALLSUB212 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31_2
CALLSUB212:
    MOVEF_F 50.0 VLV_VELOCIDAD_16
    MOVEF_F 30.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB213 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB213:
    MOVEF_F 40.0 VLV_VELOCIDAD_17
    MOVEF_F 1000.0 VLV_TIEMPO_17
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB214 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB214:
    MOVEF_F 8.0 VLV_VELOCIDAD1_28
    MOVEF_F -32.0 VLV_VELOCIDAD2_28
    MOVEF_F 94.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB215 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB215:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F -300.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB216 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB216:
    MOVEF_F 30.0 VLV_VELOCIDAD_16
    MOVEF_F 20.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB217 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB217:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F 0.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB218 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB218:
    MOVEF_F -30.0 VLV_VELOCIDAD_16
    MOVEF_F 13.2 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB219 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB219:
RETSUB_F_MAIN_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_MAIN_0:
SUB_F_GRITARCOLOR_0:
    MOVEF_F VGV_COLOR VLV_COLOR_33
    WRITE32 ENDSUB_M_RGB_GRITAR_1:CALLSUB220 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_GRITAR_1
CALLSUB220:
RETSUB_F_GRITARCOLOR_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_GRITARCOLOR_0:
SUB_F_GRITARVOLTAJE_0:
    CALL EV3.BATTERYVOLTAGE VLV_VOLTAJE_1
    MATH FLOOR VLV_VOLTAJE_1 VLV_NUMERO_2
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB223 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB223:
    MULF VLV_VOLTAJE_1 10.0 F.1
    MATH FLOOR F.1 F.0
    MATH FLOOR VLV_VOLTAJE_1 F.2
    MULF F.2 10.0 F.1
    SUBF F.0 F.1 VLV_NUMERO_2
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB229 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB229:
    MULF VLV_VOLTAJE_1 100.0 F.1
    MATH FLOOR F.1 F.0
    MULF VLV_VOLTAJE_1 10.0 F.3
    MATH FLOOR F.3 F.2
    MULF F.2 10.0 F.1
    SUBF F.0 F.1 VLV_NUMERO_2
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB236 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB236:
RETSUB_F_GRITARVOLTAJE_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_GRITARVOLTAJE_0:
SUB_F_GRITARNUMERO_1:
    JR_NEQF VLV_NUMERO_2 0.0 else237_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/ZERO'
    JR endif237
  else237_1:
    JR_NEQF VLV_NUMERO_2 1.0 else237_2
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/One'
    JR endif237
  else237_2:
    JR_NEQF VLV_NUMERO_2 2.0 else237_3
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Two'
    JR endif237
  else237_3:
    JR_NEQF VLV_NUMERO_2 3.0 else237_4
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Three'
    JR endif237
  else237_4:
    JR_NEQF VLV_NUMERO_2 4.0 else237_5
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Four'
    JR endif237
  else237_5:
    JR_NEQF VLV_NUMERO_2 5.0 else237_6
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Five'
    JR endif237
  else237_6:
    JR_NEQF VLV_NUMERO_2 6.0 else237_7
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Six'
    JR endif237
  else237_7:
    JR_NEQF VLV_NUMERO_2 7.0 else237_8
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Seven'
    JR endif237
  else237_8:
    JR_NEQF VLV_NUMERO_2 8.0 else237_9
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Eight'
    JR endif237
  else237_9:
    JR_NEQF VLV_NUMERO_2 9.0 else237_10
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Nine'
    JR endif237
  else237_10:
    JR_NEQF VLV_NUMERO_2 10.0 else237_11
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Ten'
  else237_11:
  endif237:
    SOUND_READY
RETSUB_F_GRITARNUMERO_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_GRITARNUMERO_1:
SUB_F_BAJARCUADRO_0:
    MOVEF_F 25.0 VLV_VELOCIDAD_12
    MOVEF_F -800.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB250 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB250:
RETSUB_F_BAJARCUADRO_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_BAJARCUADRO_0:
SUB_F_CODIGO_2:
    STRINGS DUPLICATE '' VLV_CODIGO_6
    CALL ARRAYGET_FLOAT 2.0 VLV_AUX_6 VLV_MARKING_6
    CALL ARRAYGET_FLOAT 3.0 F.0 VLV_MARKING_6
    CALL ARRAYSTORE_FLOAT 2.0 F.0 VLV_MARKING_6
    CALL ARRAYSTORE_FLOAT 3.0 VLV_AUX_6 VLV_MARKING_6
    MOVEF_F 0.0 VLV_I_6
  for255:
    JR_GTF VLV_I_6 4.0 endfor255
  forbody255:
    CALL ARRAYGET_FLOAT VLV_I_6 F.0 VLV_MARKING_6
    JR_NEQF F.0 2.0 else256_1
    CALL TEXT.APPEND VLV_CODIGO_6 'Z' VLV_CODIGO_6
    JR endif256
  else256_1:
    CALL ARRAYGET_FLOAT VLV_I_6 F.0 VLV_MARKING_6
    JR_NEQF F.0 3.0 else256_2
    CALL TEXT.APPEND VLV_CODIGO_6 'V' VLV_CODIGO_6
    JR endif256
  else256_2:
    CALL ARRAYGET_FLOAT VLV_I_6 F.0 VLV_MARKING_6
    JR_NEQF F.0 4.0 else256_3
    CALL TEXT.APPEND VLV_CODIGO_6 'A' VLV_CODIGO_6
    JR endif256
  else256_3:
    CALL ARRAYGET_FLOAT VLV_I_6 F.0 VLV_MARKING_6
    JR_NEQF F.0 5.0 else256_4
    CALL TEXT.APPEND VLV_CODIGO_6 'R' VLV_CODIGO_6
  else256_4:
  endif256:
    ADDF VLV_I_6 1.0 VLV_I_6
    JR_LTEQF VLV_I_6 4.0 forbody255
  endfor255:
    MOVE32_32 1 STOPLCDUPDATE
    CALL LCD.CLEAR
    CALL TEXT.APPEND 'Codigo: ' VLV_CODIGO_6 S.0
    CALL LCD.WRITE 5.0 5.0 S.0
    MOVE32_32 0 STOPLCDUPDATE
	UI_DRAW UPDATE
RETSUB_F_CODIGO_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_CODIGO_2:
SUB_F_ROTAR_1:
    MATH ABS VLV_GRADOS_7 F.0
    DATAF tmpf272
    DATA8 flag272
    DIVF VLV_GRADOS_7 F.0 tmpf272
    CP_EQF 0.0 F.0 flag272
    SELECTF flag272 0.0 tmpf272 VLV_SIGNO_7

    WRITE32 ENDSUB_F_BAJARCUADRO_0:CALLSUB273 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_BAJARCUADRO_0
CALLSUB273:
    DATA32 milliseconds274
	MOVEF_32 100.0 milliseconds274
	DATA32 timer274
	TIMER_WAIT milliseconds274 timer274
	TIMER_READY timer274
    MULF 34.0 VLV_SIGNO_7 F.0
    MATH ABS VLV_GRADOS_7 F.2
    SUBF F.2 8.0 F.1
    CALL MOTOR.SCHEDULE 'D' F.0 0.0 F.1 0.0 'True' 

	DATA8 layer278
	DATA8 nos278
	DATA8 busy278
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer278 nos278
	JR_EQ8 0 nos278 motornotbusy278
  motorwaiting278:
	OUTPUT_TEST layer278 nos278 busy278
	JR_EQ8 busy278 0 motornotbusy278
	SLEEP
	JR motorwaiting278
  motornotbusy278:
    DATA32 milliseconds279
	MOVEF_32 200.0 milliseconds279
	DATA32 timer279
	TIMER_WAIT milliseconds279 timer279
	TIMER_READY timer279
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F -360.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB280 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB280:
RETSUB_F_ROTAR_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_ROTAR_1:
SUB_F_ORDENARBLOQUES_1:
    ARRAY COPY VLV_MARKING_8 VLV_MARKING_6
    WRITE32 ENDSUB_F_CODIGO_2:CALLSUB281 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_CODIGO_2
CALLSUB281:
    STRINGS DUPLICATE VLV_CODIGO_6 VLV_CODIGO_8
    CALL EQ_STRING VLV_CODIGO_8 'VRZA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_1
    JR endif282
  else282_1:
    CALL EQ_STRING VLV_CODIGO_8 'VRAZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_2
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB285 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB285:
    JR endif282
  else282_2:
    CALL EQ_STRING VLV_CODIGO_8 'VZRA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_3
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB287 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB287:
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB288 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB288:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB289 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB289:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB290 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB290:
    JR endif282
  else282_3:
    CALL EQ_STRING VLV_CODIGO_8 'VZAR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_4
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB292 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB292:
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB293 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB293:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB294 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB294:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB295 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB295:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB296 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB296:
    JR endif282
  else282_4:
    CALL EQ_STRING VLV_CODIGO_8 'VARZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_5
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB298 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB298:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB299 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB299:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB300 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB300:
    JR endif282
  else282_5:
    CALL EQ_STRING VLV_CODIGO_8 'VAZR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_6
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB302 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB302:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB303 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB303:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB304 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB304:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB305 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB305:
    JR endif282
  else282_6:
    CALL EQ_STRING VLV_CODIGO_8 'RVZA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_7
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB307 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB307:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB308 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB308:
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB309 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB309:
    JR endif282
  else282_7:
    CALL EQ_STRING VLV_CODIGO_8 'RVAZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_8
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB311 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB311:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB312 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB312:
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB313 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB313:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB314 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB314:
    JR endif282
  else282_8:
    CALL EQ_STRING VLV_CODIGO_8 'RZVA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_9
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB316 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB316:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB317 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB317:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB318 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB318:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB319 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB319:
    JR endif282
  else282_9:
    CALL EQ_STRING VLV_CODIGO_8 'RZAV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_10
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB321 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB321:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB322 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB322:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB323 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB323:
    JR endif282
  else282_10:
    CALL EQ_STRING VLV_CODIGO_8 'RAVZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_11
    MOVEF_F 90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB325 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB325:
    JR endif282
  else282_11:
    CALL EQ_STRING VLV_CODIGO_8 'RAZV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_12
    MOVEF_F 90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB327 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB327:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB328 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB328:
    JR endif282
  else282_12:
    CALL EQ_STRING VLV_CODIGO_8 'ZVAR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_13
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB330 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB330:
    JR endif282
  else282_13:
    CALL EQ_STRING VLV_CODIGO_8 'ZVRA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_14
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB332 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB332:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB333 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB333:
    JR endif282
  else282_14:
    CALL EQ_STRING VLV_CODIGO_8 'ZRVA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_15
    MOVEF_F 90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB335 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB335:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB336 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB336:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB337 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB337:
    JR endif282
  else282_15:
    CALL EQ_STRING VLV_CODIGO_8 'ZRAV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_16
    MOVEF_F 90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB339 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB339:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB340 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB340:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB341 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB341:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB342 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB342:
    JR endif282
  else282_16:
    CALL EQ_STRING VLV_CODIGO_8 'ZAVR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_17
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB344 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB344:
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB345 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB345:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB346 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB346:
    JR endif282
  else282_17:
    CALL EQ_STRING VLV_CODIGO_8 'ZARV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_18
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB348 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB348:
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB349 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB349:
    JR endif282
  else282_18:
    CALL EQ_STRING VLV_CODIGO_8 'AVRZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_19
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB351 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB351:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB352 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB352:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB353 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB353:
    JR endif282
  else282_19:
    CALL EQ_STRING VLV_CODIGO_8 'AVZR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_20
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB355 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB355:
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB356 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB356:
    JR endif282
  else282_20:
    CALL EQ_STRING VLV_CODIGO_8 'ARVZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_21
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB358 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB358:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB359 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB359:
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB360 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB360:
    JR endif282
  else282_21:
    CALL EQ_STRING VLV_CODIGO_8 'ARZV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_22
    MOVEF_F -90.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB362 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB362:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB363 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB363:
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB364 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB364:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB365 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB365:
    JR endif282
  else282_22:
    CALL EQ_STRING VLV_CODIGO_8 'AZVR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else282_23
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB367 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB367:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB368 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB368:
    JR endif282
  else282_23:
    MOVEF_F 180.0 VLV_GRADOS_7
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB369 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB369:
  else282_24:
  endif282:
    MOVEF_F -20.0 VLV_VELOCIDAD_16
    MOVEF_F 8.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB370 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB370:
    MOVEF_F 15.0 VLV_VELOCIDAD1_28
    MOVEF_F -15.0 VLV_VELOCIDAD2_28
    MOVEF_F 177.0 VLV_GRADOS_28
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB371 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB371:
    MOVEF_F -30.0 VLV_VELOCIDAD_16
    MOVEF_F 22.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB372 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB372:
    MOVEF_F 20.0 VLV_VELOCIDAD_12
    MOVEF_F 24.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB373 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB373:
RETSUB_F_ORDENARBLOQUES_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_ORDENARBLOQUES_1:
SUB_F_SWAP_0:
    MOVEF_F -15.0 VLV_VELOCIDAD_16
    MOVEF_F 7.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB374 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB374:
    WRITE32 ENDSUB_F_BAJARCUADRO_0:CALLSUB375 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_BAJARCUADRO_0
CALLSUB375:
    MOVEF_F -15.0 VLV_VELOCIDAD_16
    MOVEF_F 10.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB376 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB376:
    CALL MOTOR.SCHEDULE 'D' 50.0 0.0 180.0 0.0 'True' 

	DATA8 layer377
	DATA8 nos377
	DATA8 busy377
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer377 nos377
	JR_EQ8 0 nos377 motornotbusy377
  motorwaiting377:
	OUTPUT_TEST layer377 nos377 busy377
	JR_EQ8 busy377 0 motornotbusy377
	SLEEP
	JR motorwaiting377
  motornotbusy377:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F -360.0 VLV_ENCODER_12
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB378 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB378:
    MOVEF_F 15.0 VLV_VELOCIDAD_16
    MOVEF_F 23.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB379 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB379:
    MOVEF_F -15.0 VLV_VELOCIDAD_16
    MOVEF_F 5.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB380 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB380:
RETSUB_F_SWAP_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SWAP_0:
SUB_F_S_0:
    UI_BUTTON FLUSH
    UI_BUTTON WAIT_FOR_PRESS
RETSUB_F_S_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_S_0:
SUB_M_BRAZO_ATIMER_2:
    TIMER_READ timeMC1
  while384:
    TIMER_READ timeMC1tmp
	SUB32 timeMC1tmp timeMC1 timeMC1tmp
	MOVE32_F timeMC1tmp F.0
    JR_GTEQF F.0 VLV_TIMER_11 endwhile384
  whilebody384:
    MOVEF_8 VLV_VELOCIDAD_11 setSpeedA
	OUTPUT_SPEED 0 1 setSpeedA
	OUTPUT_START 0 1
    TIMER_READ timeMC1tmp
	SUB32 timeMC1tmp timeMC1 timeMC1tmp
	MOVE32_F timeMC1tmp F.0
    JR_LTF F.0 VLV_TIMER_11 whilebody384
  endwhile384:
    CALL MOTOR.STOP 'A' 'True'
RETSUB_M_BRAZO_ATIMER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_BRAZO_ATIMER_2:
SUB_M_BRAZO_AENCODER_2:
    CALL MOTOR.GETCOUNT 'A' F.0
    SUBF VLV_ENCODER_12 F.0 VLV_ENCDIFF_12
    MATH ABS VLV_ENCDIFF_12 F.0
    DATAF tmpf392
    DATA8 flag392
    DIVF VLV_ENCDIFF_12 F.0 tmpf392
    CP_EQF 0.0 F.0 flag392
    SELECTF flag392 0.0 tmpf392 VLV_SIGNO_12

    MATH ABS VLV_ENCDIFF_12 F.4
    DATAF tmpf394
    DATA8 flag394
    DIVF F.4 100.0 tmpf394
    CP_EQF 0.0 100.0 flag394
    SELECTF flag394 0.0 tmpf394 F.3

    DATAF tmpf395
    DATA8 flag395
    DIVF VLV_VELOCIDAD_12 20.0 tmpf395
    CP_EQF 0.0 20.0 flag395
    SELECTF flag395 0.0 tmpf395 F.4

    DATAF tmpf396
    DATA8 flag396
    DIVF F.3 F.4 tmpf396
    CP_EQF 0.0 F.4 flag396
    SELECTF flag396 0.0 tmpf396 F.2

    MULF F.2 650.0 F.1
    MULF F.1 2.0 F.0
    DATA8 flag399
	CP_GTF F.0 400.0 flag399
	SELECTF flag399 F.0 400.0 VLV_SAFETYTIMER_12
    TIMER_READ timeMC3
    JR_EQF VLV_ENCDIFF_12 0.0 else401_1
  while402:
    CALL MOTOR.GETCOUNT 'A' F.2
    SUBF F.2 VLV_ENCODER_12 F.1
    MATH ABS F.1 F.0
    JR_LTEQF F.0 25.0 endwhile402
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_GTEQF F.0 2000.0 endwhile402
  whilebody402:
    MULF VLV_SIGNO_12 VLV_VELOCIDAD_12 F.0
    MOVEF_8 F.0 setSpeedA
	OUTPUT_SPEED 0 1 setSpeedA
	OUTPUT_START 0 1
    CALL MOTOR.GETCOUNT 'A' F.2
    SUBF F.2 VLV_ENCODER_12 F.1
    MATH ABS F.1 F.0
    JR_LTEQF F.0 25.0 and409
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_LTF F.0 2000.0 whilebody402
  and409:
  endwhile402:
    CALL MOTOR.STOP 'A' 'True'
  else401_1:
  endif401:
RETSUB_M_BRAZO_AENCODER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_BRAZO_AENCODER_2:
SUB_M_BRAZO_DTIMER_2:
    TIMER_READ timeMC1
  while416:
    TIMER_READ timeMC1tmp
	SUB32 timeMC1tmp timeMC1 timeMC1tmp
	MOVE32_F timeMC1tmp F.0
    JR_GTEQF F.0 VLV_TIMER_13 endwhile416
  whilebody416:
    MOVEF_8 VLV_VELOCIDAD_13 setSpeedD
	OUTPUT_SPEED 0 8 setSpeedD
	OUTPUT_START 0 8
    TIMER_READ timeMC1tmp
	SUB32 timeMC1tmp timeMC1 timeMC1tmp
	MOVE32_F timeMC1tmp F.0
    JR_LTF F.0 VLV_TIMER_13 whilebody416
  endwhile416:
    OUTPUT_POWER 0 8 0
	OUTPUT_STOP 0 8 1
RETSUB_M_BRAZO_DTIMER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_BRAZO_DTIMER_2:
SUB_M_RECTO_ENCODERF_2:
    MATH ABS VLV_VELOCIDAD_14 F.1
    SUBF F.1 20.0 F.0
    MULF F.0 0.05 VLV_CORRECCION_14
    SUBF VLV_DISTANCIA_14 VLV_CORRECCION_14 F.2
    MULF F.2 360.0 F.1
    MOVEF_F 3.1415926535897932384 F.2
    DATAF tmpf427
    DATA8 flag427
    DIVF F.1 F.2 tmpf427
    CP_EQF 0.0 F.2 flag427
    SELECTF flag427 0.0 tmpf427 F.0

    DATAF tmpf428
    DATA8 flag428
    DIVF F.0 VPR_RECTO_DIAMETRO tmpf428
    CP_EQF 0.0 VPR_RECTO_DIAMETRO flag428
    SELECTF flag428 0.0 tmpf428 VLV_ENC_14

    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds430
	MOVEF_32 100.0 milliseconds430
	DATA32 timer430
	TIMER_WAIT milliseconds430 timer430
	TIMER_READY timer430
    MATH NEGATE VLV_VELOCIDAD_14 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD_14 VLV_ENC_14 'False'

	DATA8 layer432
	DATA8 nos432
	DATA8 busy432
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer432 nos432
	JR_EQ8 0 nos432 motornotbusy432
  motorwaiting432:
	OUTPUT_TEST layer432 nos432 busy432
	JR_EQ8 busy432 0 motornotbusy432
	SLEEP
	JR motorwaiting432
  motornotbusy432:
RETSUB_M_RECTO_ENCODERF_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_ENCODERF_2:
SUB_M_RECTO_NEGRO1_2:
    MOVEF_F 0.0 VLV_CORRECCION_15
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MOVEF_F 50.0 VLV_LECTURA_15
  while434:
    JR_LTEQF VLV_LECTURA_15 15.0 endwhile434
  whilebody434:
    CALL SENSOR.READPERCENT VLV_SENSOR_15 F.2
    SUBF F.2 VPR_RECTO_NEGRO F.1
    DATAF tmpf437
    DATA8 flag437
    DIVF F.1 VPR_RECTO_BLANCO tmpf437
    CP_EQF 0.0 VPR_RECTO_BLANCO flag437
    SELECTF flag437 0.0 tmpf437 F.0

    SUBF 100.0 VPR_RECTO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_15
    MATH NEGATE VLV_VELOCIDAD_15 F.1
    ADDF F.1 VLV_CORRECCION_15 F.0
    ADDF VLV_VELOCIDAD_15 VLV_CORRECCION_15 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    JR_GTF VLV_LECTURA_15 15.0 whilebody434
  endwhile434:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_RECTO_NEGRO1_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_NEGRO1_2:
SUB_M_RECTO_ENCODER_2:
    MATH ABS VLV_VELOCIDAD_16 F.1
    SUBF F.1 20.0 F.0
    MULF F.0 0.05 VLV_CORRECCION_16
    SUBF VLV_DISTANCIA_16 VLV_CORRECCION_16 F.2
    MULF F.2 360.0 F.1
    MOVEF_F 3.1415926535897932384 F.2
    DATAF tmpf451
    DATA8 flag451
    DIVF F.1 F.2 tmpf451
    CP_EQF 0.0 F.2 flag451
    SELECTF flag451 0.0 tmpf451 F.0

    DATAF tmpf452
    DATA8 flag452
    DIVF F.0 VPR_RECTO_DIAMETRO tmpf452
    CP_EQF 0.0 VPR_RECTO_DIAMETRO flag452
    SELECTF flag452 0.0 tmpf452 VLV_ENC_16

    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds454
	MOVEF_32 100.0 milliseconds454
	DATA32 timer454
	TIMER_WAIT milliseconds454 timer454
	TIMER_READY timer454
    MATH NEGATE VLV_VELOCIDAD_16 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD_16 VLV_ENC_16 'True'

	DATA8 layer456
	DATA8 nos456
	DATA8 busy456
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer456 nos456
	JR_EQ8 0 nos456 motornotbusy456
  motorwaiting456:
	OUTPUT_TEST layer456 nos456 busy456
	JR_EQ8 busy456 0 motornotbusy456
	SLEEP
	JR motorwaiting456
  motornotbusy456:
RETSUB_M_RECTO_ENCODER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_ENCODER_2:
SUB_M_RECTO_TIEMPO_2:
    MOVEF_F 0.0 VLV_CORRECCION_17
    TIMER_READ timeMC3
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
  while459:
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_GTEQF F.0 VLV_TIEMPO_17 endwhile459
  whilebody459:
    MATH NEGATE VLV_VELOCIDAD_17 F.1
    ADDF F.1 VLV_CORRECCION_17 F.0
    ADDF VLV_VELOCIDAD_17 VLV_CORRECCION_17 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_LTF F.0 VLV_TIEMPO_17 whilebody459
  endwhile459:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_RECTO_TIEMPO_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_TIEMPO_2:
SUB_M_RECTO_BLANCO1_2:
    MOVEF_F 0.0 VLV_CORRECCION_18
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MOVEF_F 50.0 VLV_LECTURA_18
  while468:
    JR_GTEQF VLV_LECTURA_18 60.0 endwhile468
  whilebody468:
    CALL SENSOR.READPERCENT VLV_SENSOR_18 F.2
    SUBF F.2 VPR_RECTO_NEGRO F.1
    DATAF tmpf471
    DATA8 flag471
    DIVF F.1 VPR_RECTO_BLANCO tmpf471
    CP_EQF 0.0 VPR_RECTO_BLANCO flag471
    SELECTF flag471 0.0 tmpf471 F.0

    SUBF 100.0 VPR_RECTO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_18
    MATH NEGATE VLV_VELOCIDAD_18 F.1
    ADDF F.1 VLV_CORRECCION_18 F.0
    ADDF VLV_VELOCIDAD_18 VLV_CORRECCION_18 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    JR_LTF VLV_LECTURA_18 60.0 whilebody468
  endwhile468:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_RECTO_BLANCO1_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_BLANCO1_2:
SUB_M_RECTO_BLANCO1F_2:
    MOVEF_F 0.0 VLV_CORRECCION_19
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MOVEF_F 50.0 VLV_LECTURA_19
  while480:
    JR_GTEQF VLV_LECTURA_19 60.0 endwhile480
  whilebody480:
    CALL SENSOR.READPERCENT VLV_SENSOR_19 F.2
    SUBF F.2 VPR_RECTO_NEGRO F.1
    DATAF tmpf483
    DATA8 flag483
    DIVF F.1 VPR_RECTO_BLANCO tmpf483
    CP_EQF 0.0 VPR_RECTO_BLANCO flag483
    SELECTF flag483 0.0 tmpf483 F.0

    SUBF 100.0 VPR_RECTO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_19
    MATH NEGATE VLV_VELOCIDAD_19 F.1
    ADDF F.1 VLV_CORRECCION_19 F.0
    ADDF VLV_VELOCIDAD_19 VLV_CORRECCION_19 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    JR_LTF VLV_LECTURA_19 60.0 whilebody480
  endwhile480:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_RECTO_BLANCO1F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_BLANCO1F_2:
SUB_M_RECTO_NEGRO1F_2:
    MOVEF_F 0.0 VLV_CORRECCION_20
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MOVEF_F 50.0 VLV_LECTURA_20
  while492:
    JR_LTEQF VLV_LECTURA_20 15.0 endwhile492
  whilebody492:
    CALL SENSOR.READPERCENT VLV_SENSOR_20 F.2
    SUBF F.2 VPR_RECTO_NEGRO F.1
    DATAF tmpf495
    DATA8 flag495
    DIVF F.1 VPR_RECTO_BLANCO tmpf495
    CP_EQF 0.0 VPR_RECTO_BLANCO flag495
    SELECTF flag495 0.0 tmpf495 F.0

    SUBF 100.0 VPR_RECTO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_20
    MATH NEGATE VLV_VELOCIDAD_20 F.1
    ADDF F.1 VLV_CORRECCION_20 F.0
    ADDF VLV_VELOCIDAD_20 VLV_CORRECCION_20 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    JR_GTF VLV_LECTURA_20 15.0 whilebody492
  endwhile492:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_RECTO_NEGRO1F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_NEGRO1F_2:
SUB_M_SIGUELINEAS_ENCODER14_2:
    MULF VLV_VELOCIDAD_21 1.0 VLV_VELOCIDAD_21
    MOVEF_F 50.0 VLV_LECTURA1_21
    MOVEF_F 50.0 VLV_LECTURA3_21
    MOVEF_F 50.0 VLV_LECTURA4_21
    MATH POW VLV_VELOCIDAD_21 0.833333333333333 F.0
    DATAF tmpf505
    DATA8 flag505
    DIVF F.0 440.0 tmpf505
    CP_EQF 0.0 440.0 flag505
    SELECTF flag505 0.0 tmpf505 VLV_KP_21

    MULF VLV_KP_21 70.0 VLV_KD_21
    MOVEF_F 0.0 VLV_ERROR_21
    MOVEF_F 0.0 VLV_OLDERROR_21
    MOVEF_F 0.0 VLV_U_21
    MATH ABS VLV_VELOCIDAD_21 F.0
    DATAF tmpf508
    DATA8 flag508
    DIVF VLV_VELOCIDAD_21 F.0 tmpf508
    CP_EQF 0.0 F.0 flag508
    SELECTF flag508 0.0 tmpf508 VLV_SENTIDO_21

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf511
    DATA8 flag511
    DIVF VLV_ENCODER_21 F.1 tmpf511
    CP_EQF 0.0 F.1 flag511
    SELECTF flag511 0.0 tmpf511 F.0

    MULF F.0 360.0 VLV_ENCODER_21
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_21
    MOVEF_F 0.0 VLV_ENCODERC_21
  while514:
    MATH ABS VLV_ENCODERC_21 F.0
    JR_GTEQF F.0 VLV_ENCODER_21 endwhile514
  whilebody514:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_21 VLV_ENCODERC_21
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf520
    DATA8 flag520
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf520
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag520
    SELECTF flag520 0.0 tmpf520 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_21
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf525
    DATA8 flag525
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf525
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag525
    SELECTF flag525 0.0 tmpf525 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_21
    SUBF VLV_LECTURA1_21 VLV_LECTURA4_21 F.1
    MULF F.1 VLV_SENTIDO_21 F.0
    MULF F.0 1.0 VLV_ERROR_21
    MULF VLV_ERROR_21 VLV_KP_21 F.0
    SUBF VLV_ERROR_21 VLV_OLDERROR_21 F.2
    MULF F.2 VLV_KD_21 F.1
    ADDF F.0 F.1 VLV_U_21
    ADDF VLV_VELOCIDAD_21 VLV_U_21 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_21 VLV_U_21 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_21 VLV_OLDERROR_21
    MATH ABS VLV_ENCODERC_21 F.0
    JR_LTF F.0 VLV_ENCODER_21 whilebody514
  endwhile514:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_SIGUELINEAS_ENCODER14_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER14_2:
SUB_M_SIGUELINEAS_CRUCE14_1:
    MULF VLV_VELOCIDAD_22 1.0 VLV_VELOCIDAD_22
    MOVEF_F 50.0 VLV_LECTURA1_22
    MOVEF_F 50.0 VLV_LECTURA3_22
    MOVEF_F 50.0 VLV_LECTURA4_22
    MATH POW VLV_VELOCIDAD_22 0.833333333333333 F.0
    DATAF tmpf543
    DATA8 flag543
    DIVF F.0 440.0 tmpf543
    CP_EQF 0.0 440.0 flag543
    SELECTF flag543 0.0 tmpf543 VLV_KP_22

    MULF VLV_KP_22 70.0 VLV_KD_22
    MOVEF_F 0.0 VLV_ERROR_22
    MOVEF_F 0.0 VLV_OLDERROR_22
    MOVEF_F 0.0 VLV_U_22
    MATH ABS VLV_VELOCIDAD_22 F.0
    DATAF tmpf546
    DATA8 flag546
    DIVF VLV_VELOCIDAD_22 F.0 tmpf546
    CP_EQF 0.0 F.0 flag546
    SELECTF flag546 0.0 tmpf546 VLV_SENTIDO_22

  while547:
    JR_GTF VLV_LECTURA1_22 10.0 or548
    JR_LTEQF VLV_LECTURA4_22 10.0 endwhile547
  or548:
  whilebody547:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf551
    DATA8 flag551
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf551
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag551
    SELECTF flag551 0.0 tmpf551 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_22
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf556
    DATA8 flag556
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf556
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag556
    SELECTF flag556 0.0 tmpf556 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_22
    SUBF VLV_LECTURA1_22 VLV_LECTURA4_22 F.1
    MULF F.1 VLV_SENTIDO_22 F.0
    MULF F.0 1.0 VLV_ERROR_22
    MULF VLV_ERROR_22 VLV_KP_22 F.0
    SUBF VLV_ERROR_22 VLV_OLDERROR_22 F.2
    MULF F.2 VLV_KD_22 F.1
    ADDF F.0 F.1 VLV_U_22
    ADDF VLV_VELOCIDAD_22 VLV_U_22 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_22 VLV_U_22 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_22 VLV_OLDERROR_22
    JR_GTF VLV_LECTURA1_22 10.0 whilebody547
    JR_GTF VLV_LECTURA4_22 10.0 whilebody547
  endwhile547:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_SIGUELINEAS_CRUCE14_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_CRUCE14_1:
SUB_M_SIGUELINEAS_ENCODER31F_2:
    MULF VLV_VELOCIDAD_23 1.0 VLV_VELOCIDAD_23
    MOVEF_F 50.0 VLV_LECTURA1_23
    MOVEF_F 50.0 VLV_LECTURA3_23
    MOVEF_F 50.0 VLV_LECTURA4_23
    MATH POW VLV_VELOCIDAD_23 0.833333333333333 F.0
    DATAF tmpf573
    DATA8 flag573
    DIVF F.0 440.0 tmpf573
    CP_EQF 0.0 440.0 flag573
    SELECTF flag573 0.0 tmpf573 VLV_KP_23

    MULF VLV_KP_23 70.0 VLV_KD_23
    MOVEF_F 0.0 VLV_ERROR_23
    MOVEF_F 0.0 VLV_OLDERROR_23
    MOVEF_F 0.0 VLV_U_23
    MATH ABS VLV_VELOCIDAD_23 F.0
    DATAF tmpf576
    DATA8 flag576
    DIVF VLV_VELOCIDAD_23 F.0 tmpf576
    CP_EQF 0.0 F.0 flag576
    SELECTF flag576 0.0 tmpf576 VLV_SENTIDO_23

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf579
    DATA8 flag579
    DIVF VLV_ENCODER_23 F.1 tmpf579
    CP_EQF 0.0 F.1 flag579
    SELECTF flag579 0.0 tmpf579 F.0

    MULF F.0 360.0 VLV_ENCODER_23
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_23
    MOVEF_F 0.0 VLV_ENCODERC_23
  while582:
    MATH ABS VLV_ENCODERC_23 F.0
    JR_GTEQF F.0 VLV_ENCODER_23 endwhile582
  whilebody582:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_23 VLV_ENCODERC_23
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf588
    DATA8 flag588
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf588
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag588
    SELECTF flag588 0.0 tmpf588 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_23
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf593
    DATA8 flag593
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf593
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag593
    SELECTF flag593 0.0 tmpf593 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_23
    SUBF VLV_LECTURA3_23 VLV_LECTURA1_23 F.1
    MULF F.1 VLV_SENTIDO_23 F.0
    MULF F.0 1.0 VLV_ERROR_23
    MULF VLV_ERROR_23 VLV_KP_23 F.0
    SUBF VLV_ERROR_23 VLV_OLDERROR_23 F.2
    MULF F.2 VLV_KD_23 F.1
    ADDF F.0 F.1 VLV_U_23
    ADDF VLV_VELOCIDAD_23 VLV_U_23 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_23 VLV_U_23 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_23 VLV_OLDERROR_23
    MATH ABS VLV_ENCODERC_23 F.0
    JR_LTF F.0 VLV_ENCODER_23 whilebody582
  endwhile582:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_SIGUELINEAS_ENCODER31F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER31F_2:
SUB_M_SIGUELINEAS_ENCODER14F_2:
    MULF VLV_VELOCIDAD_24 1.0 VLV_VELOCIDAD_24
    MOVEF_F 50.0 VLV_LECTURA1_24
    MOVEF_F 50.0 VLV_LECTURA3_24
    MOVEF_F 50.0 VLV_LECTURA4_24
    MATH POW VLV_VELOCIDAD_24 0.833333333333333 F.0
    DATAF tmpf611
    DATA8 flag611
    DIVF F.0 440.0 tmpf611
    CP_EQF 0.0 440.0 flag611
    SELECTF flag611 0.0 tmpf611 VLV_KP_24

    MULF VLV_KP_24 70.0 VLV_KD_24
    MOVEF_F 0.0 VLV_ERROR_24
    MOVEF_F 0.0 VLV_OLDERROR_24
    MOVEF_F 0.0 VLV_U_24
    MATH ABS VLV_VELOCIDAD_24 F.0
    DATAF tmpf614
    DATA8 flag614
    DIVF VLV_VELOCIDAD_24 F.0 tmpf614
    CP_EQF 0.0 F.0 flag614
    SELECTF flag614 0.0 tmpf614 VLV_SENTIDO_24

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf617
    DATA8 flag617
    DIVF VLV_ENCODER_24 F.1 tmpf617
    CP_EQF 0.0 F.1 flag617
    SELECTF flag617 0.0 tmpf617 F.0

    MULF F.0 360.0 VLV_ENCODER_24
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_24
    MOVEF_F 0.0 VLV_ENCODERC_24
  while620:
    MATH ABS VLV_ENCODERC_24 F.0
    JR_GTEQF F.0 VLV_ENCODER_24 endwhile620
  whilebody620:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_24 VLV_ENCODERC_24
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf626
    DATA8 flag626
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf626
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag626
    SELECTF flag626 0.0 tmpf626 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_24
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf631
    DATA8 flag631
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf631
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag631
    SELECTF flag631 0.0 tmpf631 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_24
    SUBF VLV_LECTURA1_24 VLV_LECTURA4_24 F.1
    MULF F.1 VLV_SENTIDO_24 F.0
    MULF F.0 1.0 VLV_ERROR_24
    MULF VLV_ERROR_24 VLV_KP_24 F.0
    SUBF VLV_ERROR_24 VLV_OLDERROR_24 F.2
    MULF F.2 VLV_KD_24 F.1
    ADDF F.0 F.1 VLV_U_24
    ADDF VLV_VELOCIDAD_24 VLV_U_24 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_24 VLV_U_24 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_24 VLV_OLDERROR_24
    MATH ABS VLV_ENCODERC_24 F.0
    JR_LTF F.0 VLV_ENCODER_24 whilebody620
  endwhile620:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_SIGUELINEAS_ENCODER14F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER14F_2:
SUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:
    MULF VLV_VELOCIDAD_25 1.0 VLV_VELOCIDAD_25
    MOVEF_F 50.0 VLV_LECTURA1_25
    MOVEF_F 50.0 VLV_LECTURA3_25
    MOVEF_F 50.0 VLV_LECTURA4_25
    MATH POW VLV_VELOCIDAD_25 0.833333333333333 F.0
    DATAF tmpf649
    DATA8 flag649
    DIVF F.0 440.0 tmpf649
    CP_EQF 0.0 440.0 flag649
    SELECTF flag649 0.0 tmpf649 VLV_KP_25

    MULF VLV_KP_25 70.0 VLV_KD_25
    MOVEF_F 0.0 VLV_ERROR_25
    MOVEF_F 0.0 VLV_OLDERROR_25
    MOVEF_F 0.0 VLV_U_25
    MATH ABS VLV_VELOCIDAD_25 F.0
    DATAF tmpf652
    DATA8 flag652
    DIVF VLV_VELOCIDAD_25 F.0 tmpf652
    CP_EQF 0.0 F.0 flag652
    SELECTF flag652 0.0 tmpf652 VLV_SENTIDO_25

    MOVEF_F 50.0 VLV_LECTURA_25
  while653:
    JR_LTEQF VLV_LECTURA_25 7.0 endwhile653
  whilebody653:
    JR_NEQF VLV_READER_25 3.0 else654_1
    MOVEF_F VLV_LECTURA3_25 VLV_LECTURA_25
    MOVEF_F VLV_LECTURA1_25 VLV_LECTURAIZQ_25
    MOVEF_F VLV_LECTURA4_25 VLV_LECTURADCH_25
    JR endif654
  else654_1:
    MOVEF_F VLV_LECTURA4_25 VLV_LECTURA_25
    MOVEF_F VLV_LECTURA3_25 VLV_LECTURAIZQ_25
    MOVEF_F VLV_LECTURA1_25 VLV_LECTURADCH_25
  else654_2:
  endif654:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf657
    DATA8 flag657
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf657
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag657
    SELECTF flag657 0.0 tmpf657 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_25
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf662
    DATA8 flag662
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf662
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag662
    SELECTF flag662 0.0 tmpf662 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_25
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf667
    DATA8 flag667
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf667
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag667
    SELECTF flag667 0.0 tmpf667 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_25
    SUBF VLV_LECTURAIZQ_25 VLV_LECTURADCH_25 F.1
    MULF F.1 VLV_SENTIDO_25 F.0
    MULF F.0 1.0 VLV_ERROR_25
    MULF VLV_ERROR_25 VLV_KP_25 F.0
    SUBF VLV_ERROR_25 VLV_OLDERROR_25 F.2
    MULF F.2 VLV_KD_25 F.1
    ADDF F.0 F.1 VLV_U_25
    ADDF VLV_VELOCIDAD_25 VLV_U_25 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_25 VLV_U_25 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_25 VLV_OLDERROR_25
    JR_GTF VLV_LECTURA_25 7.0 whilebody653
  endwhile653:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:
SUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:
    MULF VLV_VELOCIDAD_26 1.0 VLV_VELOCIDAD_26
    MOVEF_F 50.0 VLV_LECTURA1_26
    MOVEF_F 50.0 VLV_LECTURA3_26
    MOVEF_F 50.0 VLV_LECTURA4_26
    MATH POW VLV_VELOCIDAD_26 0.833333333333333 F.0
    DATAF tmpf684
    DATA8 flag684
    DIVF F.0 440.0 tmpf684
    CP_EQF 0.0 440.0 flag684
    SELECTF flag684 0.0 tmpf684 VLV_KP_26

    MULF VLV_KP_26 70.0 VLV_KD_26
    MOVEF_F 0.0 VLV_ERROR_26
    MOVEF_F 0.0 VLV_OLDERROR_26
    MOVEF_F 0.0 VLV_U_26
    MATH ABS VLV_VELOCIDAD_26 F.0
    DATAF tmpf687
    DATA8 flag687
    DIVF VLV_VELOCIDAD_26 F.0 tmpf687
    CP_EQF 0.0 F.0 flag687
    SELECTF flag687 0.0 tmpf687 VLV_SENTIDO_26

    MOVEF_F 50.0 VLV_LECTURA_26
  while688:
    JR_LTEQF VLV_LECTURA_26 7.0 endwhile688
  whilebody688:
    JR_NEQF VLV_READER_26 3.0 else689_1
    MOVEF_F VLV_LECTURA3_26 VLV_LECTURA_26
    MOVEF_F VLV_LECTURA1_26 VLV_LECTURAIZQ_26
    MOVEF_F VLV_LECTURA4_26 VLV_LECTURADCH_26
    JR endif689
  else689_1:
    MOVEF_F VLV_LECTURA4_26 VLV_LECTURA_26
    MOVEF_F VLV_LECTURA3_26 VLV_LECTURAIZQ_26
    MOVEF_F VLV_LECTURA1_26 VLV_LECTURADCH_26
  else689_2:
  endif689:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf692
    DATA8 flag692
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf692
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag692
    SELECTF flag692 0.0 tmpf692 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_26
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf697
    DATA8 flag697
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf697
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag697
    SELECTF flag697 0.0 tmpf697 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_26
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf702
    DATA8 flag702
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf702
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag702
    SELECTF flag702 0.0 tmpf702 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_26
    SUBF VLV_LECTURAIZQ_26 VLV_LECTURADCH_26 F.1
    MULF F.1 VLV_SENTIDO_26 F.0
    MULF F.0 1.0 VLV_ERROR_26
    MULF VLV_ERROR_26 VLV_KP_26 F.0
    SUBF VLV_ERROR_26 VLV_OLDERROR_26 F.2
    MULF F.2 VLV_KD_26 F.1
    ADDF F.0 F.1 VLV_U_26
    ADDF VLV_VELOCIDAD_26 VLV_U_26 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_26 VLV_U_26 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_26 VLV_OLDERROR_26
    JR_GTF VLV_LECTURA_26 7.0 whilebody688
  endwhile688:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:
SUB_M_SIGUELINEAS_ENCODER31_2:
    MULF VLV_VELOCIDAD_27 1.0 VLV_VELOCIDAD_27
    MOVEF_F 50.0 VLV_LECTURA1_27
    MOVEF_F 50.0 VLV_LECTURA3_27
    MOVEF_F 50.0 VLV_LECTURA4_27
    MATH POW VLV_VELOCIDAD_27 0.833333333333333 F.0
    DATAF tmpf719
    DATA8 flag719
    DIVF F.0 440.0 tmpf719
    CP_EQF 0.0 440.0 flag719
    SELECTF flag719 0.0 tmpf719 VLV_KP_27

    MULF VLV_KP_27 70.0 VLV_KD_27
    MOVEF_F 0.0 VLV_ERROR_27
    MOVEF_F 0.0 VLV_OLDERROR_27
    MOVEF_F 0.0 VLV_U_27
    MATH ABS VLV_VELOCIDAD_27 F.0
    DATAF tmpf722
    DATA8 flag722
    DIVF VLV_VELOCIDAD_27 F.0 tmpf722
    CP_EQF 0.0 F.0 flag722
    SELECTF flag722 0.0 tmpf722 VLV_SENTIDO_27

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf725
    DATA8 flag725
    DIVF VLV_ENCODER_27 F.1 tmpf725
    CP_EQF 0.0 F.1 flag725
    SELECTF flag725 0.0 tmpf725 F.0

    MULF F.0 360.0 VLV_ENCODER_27
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_27
    MOVEF_F 0.0 VLV_ENCODERC_27
  while728:
    MATH ABS VLV_ENCODERC_27 F.0
    JR_GTEQF F.0 VLV_ENCODER_27 endwhile728
  whilebody728:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_27 VLV_ENCODERC_27
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf734
    DATA8 flag734
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf734
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag734
    SELECTF flag734 0.0 tmpf734 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_27
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf739
    DATA8 flag739
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf739
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag739
    SELECTF flag739 0.0 tmpf739 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_27
    SUBF VLV_LECTURA3_27 VLV_LECTURA1_27 F.1
    MULF F.1 VLV_SENTIDO_27 F.0
    MULF F.0 1.0 VLV_ERROR_27
    MULF VLV_ERROR_27 VLV_KP_27 F.0
    SUBF VLV_ERROR_27 VLV_OLDERROR_27 F.2
    MULF F.2 VLV_KD_27 F.1
    ADDF F.0 F.1 VLV_U_27
    ADDF VLV_VELOCIDAD_27 VLV_U_27 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_27 VLV_U_27 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_27 VLV_OLDERROR_27
    MATH ABS VLV_ENCODERC_27 F.0
    JR_LTF F.0 VLV_ENCODER_27 whilebody728
  endwhile728:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_SIGUELINEAS_ENCODER31_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER31_2:
SUB_M_GIRO_GRADOS_3:
    DATAF tmpf755
    DATA8 flag755
    DIVF VLV_VELOCIDAD1_28 VLV_VELOCIDAD2_28 tmpf755
    CP_EQF 0.0 VLV_VELOCIDAD2_28 flag755
    SELECTF flag755 0.0 tmpf755 F.0

    DATAF tmpf756
    DATA8 flag756
    DIVF VLV_VELOCIDAD1_28 VLV_VELOCIDAD2_28 tmpf756
    CP_EQF 0.0 VLV_VELOCIDAD2_28 flag756
    SELECTF flag756 0.0 tmpf756 F.2

    MATH ABS F.2 F.1
    DATAF tmpf758
    DATA8 flag758
    DIVF F.0 F.1 tmpf758
    CP_EQF 0.0 F.1 flag758
    SELECTF flag758 0.0 tmpf758 VLV_SIGNO_28

    MATH ABS VLV_VELOCIDAD1_28 F.0
    MATH ABS VLV_VELOCIDAD2_28 F.1
    DATA8 flag761
	CP_LTF F.0 F.1 flag761
	SELECTF flag761 F.0 F.1 VLV_VMIN_28
    MATH ABS VLV_VELOCIDAD1_28 F.0
    MATH ABS VLV_VELOCIDAD2_28 F.1
    DATA8 flag764
	CP_GTF F.0 F.1 flag764
	SELECTF flag764 F.0 F.1 VLV_VMAX_28
    MULF VLV_GRADOS_28 VPR_GIRO_G1 F.0
    MULF VLV_SIGNO_28 VLV_VMIN_28 F.4
    DATAF tmpf767
    DATA8 flag767
    DIVF F.4 VLV_VMAX_28 tmpf767
    CP_EQF 0.0 VLV_VMAX_28 flag767
    SELECTF flag767 0.0 tmpf767 F.3

    SUBF F.3 1.0 F.2
    DATAF tmpf769
    DATA8 flag769
    DIVF -2.0 F.2 tmpf769
    CP_EQF 0.0 F.2 flag769
    SELECTF flag769 0.0 tmpf769 F.1

    MULF F.0 F.1 VLV_ENCODER_28
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds772
	MOVEF_32 100.0 milliseconds772
	DATA32 timer772
	TIMER_WAIT milliseconds772 timer772
	TIMER_READY timer772
    MATH NEGATE VLV_VELOCIDAD1_28 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_28 VLV_ENCODER_28 'True'

	DATA8 layer774
	DATA8 nos774
	DATA8 busy774
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer774 nos774
	JR_EQ8 0 nos774 motornotbusy774
  motorwaiting774:
	OUTPUT_TEST layer774 nos774 busy774
	JR_EQ8 busy774 0 motornotbusy774
	SLEEP
	JR motorwaiting774
  motornotbusy774:
    MOVEF_F 0.0 VLV_VELOCIDAD1_28
    MOVEF_F 0.0 VLV_VELOCIDAD2_28
    MOVEF_F 0.0 VLV_GRADOS_28
    DATA32 milliseconds775
	MOVEF_32 100.0 milliseconds775
	DATA32 timer775
	TIMER_WAIT milliseconds775 timer775
	TIMER_READY timer775
RETSUB_M_GIRO_GRADOS_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_GRADOS_3:
SUB_M_GIRO_NEGRO1F_3:
    MOVEF_F 50.0 VLV_LECTURA_29
  while776:
    JR_LTEQF VLV_LECTURA_29 15.0 endwhile776
  whilebody776:
    CALL SENSOR.READPERCENT VLV_SENS_29 F.2
    SUBF F.2 VPR_GIRO_NEGRO F.1
    DATAF tmpf779
    DATA8 flag779
    DIVF F.1 VPR_GIRO_BLANCO tmpf779
    CP_EQF 0.0 VPR_GIRO_BLANCO flag779
    SELECTF flag779 0.0 tmpf779 F.0

    SUBF 100.0 VPR_GIRO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_29
    MATH NEGATE VLV_VELOCIDAD1_29 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD2_29
    JR_GTF VLV_LECTURA_29 15.0 whilebody776
  endwhile776:
    CALL MOTOR.STOP 'BC' 'False'
RETSUB_M_GIRO_NEGRO1F_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_NEGRO1F_3:
SUB_M_GIRO_ENCODER_3:
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_GIRO_DIAMETRO F.2 F.1
    DATAF tmpf787
    DATA8 flag787
    DIVF VLV_DISTANCIA_30 F.1 tmpf787
    CP_EQF 0.0 F.1 flag787
    SELECTF flag787 0.0 tmpf787 F.0

    MULF F.0 360.0 VLV_ENCODER_30
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MATH NEGATE VLV_VELOCIDAD1_30 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_30 VLV_ENCODER_30 'True'

	DATA8 layer791
	DATA8 nos791
	DATA8 busy791
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer791 nos791
	JR_EQ8 0 nos791 motornotbusy791
  motorwaiting791:
	OUTPUT_TEST layer791 nos791 busy791
	JR_EQ8 busy791 0 motornotbusy791
	SLEEP
	JR motorwaiting791
  motornotbusy791:
RETSUB_M_GIRO_ENCODER_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_ENCODER_3:
SUB_M_GIRO_NEGRO1_3:
    MOVEF_F 50.0 VLV_LECTURA_31
  while792:
    JR_LTEQF VLV_LECTURA_31 15.0 endwhile792
  whilebody792:
    CALL SENSOR.READPERCENT VLV_SENS_31 F.2
    SUBF F.2 VPR_GIRO_NEGRO F.1
    DATAF tmpf795
    DATA8 flag795
    DIVF F.1 VPR_GIRO_BLANCO tmpf795
    CP_EQF 0.0 VPR_GIRO_BLANCO flag795
    SELECTF flag795 0.0 tmpf795 F.0

    SUBF 100.0 VPR_GIRO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_31
    MATH NEGATE VLV_VELOCIDAD1_31 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD2_31
    JR_GTF VLV_LECTURA_31 15.0 whilebody792
  endwhile792:
    CALL MOTOR.STOP 'BC' 'True'
RETSUB_M_GIRO_NEGRO1_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_NEGRO1_3:
SUB_M_RGB_DETECT_3:
    CALL SENSOR.GETMODE VLV_SENS_32 VLV_SENS_MODE_32
    DATA8 layer802
	DATA8 no802
	DATA8 mode8802
	
	MOVEF_8 VLV_SENS_32 no802
	SUB8 no802 1 no802
	DIV8 no802 4 layer802
	MATH MOD8 no802 4 no802

	MOVEF_8 4.0 mode8802
	
	INPUT_DEVICE READY_RAW layer802 no802 0 mode8802 0
    MOVEF_F 15.0 VLV_RED_32
    MOVEF_F 60.0 VLV_YELLOW_32
    MOVEF_F 170.0 VLV_GREEN_32
    MOVEF_F 330.0 VLV_BLUE_32
    MOVEF_F 0.0 VLV_HUE_32
    MOVEF_F 0.0 VLV_SAT_32
    MOVEF_F 0.0 VLV_VALUE_32
    MOVEF_F 0.0 VLV_COLOR_32
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_RNORMARRAY_32
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_GNORMARRAY_32
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_BNORMARRAY_32
    CALL LCD.CLEAR
    MOVEF_F 1.0 VLV_J_32
  for807:
    JR_GTF VLV_J_32 VLV_REPS_32 endfor807
  forbody807:
    CALL SENSOR.READRAW VLV_SENS_32 3.0 VLV_RGB_32
    CALL ARRAYGET_FLOAT 0.0 VLV_RRAW_32 VLV_RGB_32
    CALL ARRAYGET_FLOAT 1.0 VLV_GRAW_32 VLV_RGB_32
    CALL ARRAYGET_FLOAT 2.0 VLV_BRAW_32 VLV_RGB_32
    DATAF tmpf812
    DATA8 flag812
    DIVF VLV_RRAW_32 VPR_RGB_RWHITE tmpf812
    CP_EQF 0.0 VPR_RGB_RWHITE flag812
    SELECTF flag812 0.0 tmpf812 F.2

    MULF F.2 255.0 F.1
    MATH ROUND F.1 F.0
    CALL ARRAYSTORE_FLOAT VLV_J_32 F.0 VLV_RNORMARRAY_32
    DATAF tmpf816
    DATA8 flag816
    DIVF VLV_GRAW_32 VPR_RGB_GWHITE tmpf816
    CP_EQF 0.0 VPR_RGB_GWHITE flag816
    SELECTF flag816 0.0 tmpf816 F.2

    MULF F.2 255.0 F.1
    MATH ROUND F.1 F.0
    CALL ARRAYSTORE_FLOAT VLV_J_32 F.0 VLV_GNORMARRAY_32
    DATAF tmpf820
    DATA8 flag820
    DIVF VLV_BRAW_32 VPR_RGB_BWHITE tmpf820
    CP_EQF 0.0 VPR_RGB_BWHITE flag820
    SELECTF flag820 0.0 tmpf820 F.2

    MULF F.2 255.0 F.1
    MATH ROUND F.1 F.0
    CALL ARRAYSTORE_FLOAT VLV_J_32 F.0 VLV_BNORMARRAY_32
    DATA32 milliseconds824
	MOVEF_32 5.0 milliseconds824
	DATA32 timer824
	TIMER_WAIT milliseconds824 timer824
	TIMER_READY timer824
    ADDF VLV_J_32 1.0 VLV_J_32
    JR_LTEQF VLV_J_32 VLV_REPS_32 forbody807
  endfor807:
    MOVEF_F 1.0 VLV_J_32
  for826:
    JR_GTF VLV_J_32 VLV_REPS_32 endfor826
  forbody826:
    CALL ARRAYGET_FLOAT VLV_J_32 F.0 VLV_RNORMARRAY_32
    ADDF VLV_J_32 1.0 F.2
    CALL ARRAYGET_FLOAT F.2 F.1 VLV_RNORMARRAY_32
    ADDF F.0 F.1 VLV_RNORM_32
    CALL ARRAYGET_FLOAT VLV_J_32 F.0 VLV_GNORMARRAY_32
    ADDF VLV_J_32 1.0 F.2
    CALL ARRAYGET_FLOAT F.2 F.1 VLV_GNORMARRAY_32
    ADDF F.0 F.1 VLV_GNORM_32
    CALL ARRAYGET_FLOAT VLV_J_32 F.0 VLV_BNORMARRAY_32
    ADDF VLV_J_32 1.0 F.2
    CALL ARRAYGET_FLOAT F.2 F.1 VLV_BNORMARRAY_32
    ADDF F.0 F.1 VLV_BNORM_32
    ADDF VLV_J_32 2.0 VLV_J_32
    JR_LTEQF VLV_J_32 VLV_REPS_32 forbody826
  endfor826:
    DATAF tmpf840
    DATA8 flag840
    DIVF VLV_RNORM_32 VLV_REPS_32 tmpf840
    CP_EQF 0.0 VLV_REPS_32 flag840
    SELECTF flag840 0.0 tmpf840 VLV_RNORM_32

    DATAF tmpf841
    DATA8 flag841
    DIVF VLV_GNORM_32 VLV_REPS_32 tmpf841
    CP_EQF 0.0 VLV_REPS_32 flag841
    SELECTF flag841 0.0 tmpf841 VLV_GNORM_32

    DATAF tmpf842
    DATA8 flag842
    DIVF VLV_BNORM_32 VLV_REPS_32 tmpf842
    CP_EQF 0.0 VLV_REPS_32 flag842
    SELECTF flag842 0.0 tmpf842 VLV_BNORM_32

    DATA8 flag843
	CP_GTF VLV_RNORM_32 VLV_GNORM_32 flag843
	SELECTF flag843 VLV_RNORM_32 VLV_GNORM_32 F.0
    DATA8 flag844
	CP_GTF F.0 VLV_BNORM_32 flag844
	SELECTF flag844 F.0 VLV_BNORM_32 VLV_MAX_32
    DATA8 flag845
	CP_LTF VLV_RNORM_32 VLV_GNORM_32 flag845
	SELECTF flag845 VLV_RNORM_32 VLV_GNORM_32 F.0
    DATA8 flag846
	CP_LTF F.0 VLV_BNORM_32 flag846
	SELECTF flag846 F.0 VLV_BNORM_32 VLV_MIN_32
    JR_NEQF VLV_MAX_32 VLV_MIN_32 else847_1
    MOVEF_F 0.0 VLV_HUE_32
    JR endif847
  else847_1:
    JR_NEQF VLV_MAX_32 VLV_RNORM_32 else847_2
    JR_LTF VLV_GNORM_32 VLV_BNORM_32 else848_1
    SUBF VLV_GNORM_32 VLV_BNORM_32 F.1
    MULF 60.0 F.1 F.0
    SUBF VLV_MAX_32 VLV_MIN_32 F.1
    DATAF tmpf852
    DATA8 flag852
    DIVF F.0 F.1 tmpf852
    CP_EQF 0.0 F.1 flag852
    SELECTF flag852 0.0 tmpf852 VLV_HUE_32

    JR endif848
  else848_1:
    SUBF VLV_GNORM_32 VLV_BNORM_32 F.2
    MULF 60.0 F.2 F.1
    SUBF VLV_MAX_32 VLV_MIN_32 F.2
    DATAF tmpf856
    DATA8 flag856
    DIVF F.1 F.2 tmpf856
    CP_EQF 0.0 F.2 flag856
    SELECTF flag856 0.0 tmpf856 F.0

    ADDF F.0 360.0 VLV_HUE_32
  else848_2:
  endif848:
    JR endif847
  else847_2:
    JR_NEQF VLV_MAX_32 VLV_GNORM_32 else847_3
    SUBF VLV_BNORM_32 VLV_RNORM_32 F.2
    MULF 60.0 F.2 F.1
    SUBF VLV_MAX_32 VLV_MIN_32 F.2
    DATAF tmpf861
    DATA8 flag861
    DIVF F.1 F.2 tmpf861
    CP_EQF 0.0 F.2 flag861
    SELECTF flag861 0.0 tmpf861 F.0

    ADDF F.0 120.0 VLV_HUE_32
    JR endif847
  else847_3:
    SUBF VLV_RNORM_32 VLV_GNORM_32 F.2
    MULF 60.0 F.2 F.1
    SUBF VLV_MAX_32 VLV_MIN_32 F.2
    DATAF tmpf866
    DATA8 flag866
    DIVF F.1 F.2 tmpf866
    CP_EQF 0.0 F.2 flag866
    SELECTF flag866 0.0 tmpf866 F.0

    ADDF F.0 240.0 VLV_HUE_32
  else847_4:
  endif847:
    JR_NEQF VLV_MAX_32 0.0 else868_1
    MOVEF_F 0.0 VLV_SAT_32
    JR endif868
  else868_1:
    DATAF tmpf869
    DATA8 flag869
    DIVF VLV_MIN_32 VLV_MAX_32 tmpf869
    CP_EQF 0.0 VLV_MAX_32 flag869
    SELECTF flag869 0.0 tmpf869 F.0

    SUBF 1.0 F.0 VLV_SAT_32
  else868_2:
  endif868:
    MOVEF_F VLV_MAX_32 VLV_VALUE_32
    ADDF VPR_RGB_VALUEBLANCO VPR_RGB_VALUENEGRO F.0
    DATAF tmpf872
    DATA8 flag872
    DIVF F.0 2.0 tmpf872
    CP_EQF 0.0 2.0 flag872
    SELECTF flag872 0.0 tmpf872 VLV_RGBGREY_32

    ADDF VLV_RRAW_32 VLV_GRAW_32 F.1
    ADDF F.1 VLV_BRAW_32 F.0
    JR_GTF F.0 3.0 else873_1
    MOVEF_F 0.0 VLV_COLOR_32
    JR endif873
  else873_1:
    JR_GTEQF VLV_SAT_32 0.3 else876_1
    JR_LTEQF VLV_VALUE_32 VLV_RGBGREY_32 else877_1
    MOVEF_F 6.0 VLV_COLOR_32
    JR endif877
  else877_1:
    MOVEF_F 1.0 VLV_COLOR_32
  else877_2:
  endif877:
    JR endif876
  else876_1:
    JR_LTF VLV_HUE_32 0.0 else878_1
    JR_GTEQF VLV_HUE_32 VLV_RED_32 else878_1
    MOVEF_F 5.0 VLV_COLOR_32
    JR endif878
  else878_1:
    JR_LTF VLV_HUE_32 VLV_RED_32 else878_2
    JR_GTEQF VLV_HUE_32 VLV_YELLOW_32 else878_2
    MOVEF_F 4.0 VLV_COLOR_32
    JR endif878
  else878_2:
    JR_LTF VLV_HUE_32 VLV_YELLOW_32 else878_3
    JR_GTEQF VLV_HUE_32 VLV_GREEN_32 else878_3
    MOVEF_F 3.0 VLV_COLOR_32
    JR endif878
  else878_3:
    JR_LTF VLV_HUE_32 VLV_GREEN_32 else878_4
    JR_GTEQF VLV_HUE_32 VLV_BLUE_32 else878_4
    MOVEF_F 2.0 VLV_COLOR_32
    JR endif878
  else878_4:
    MOVEF_F 5.0 VLV_COLOR_32
  else878_5:
  endif878:
  else876_2:
  endif876:
  else873_2:
  endif873:
    MOVE32_32 1 STOPLCDUPDATE
    CALL LCD.CLEAR
    STRINGS VALUE_FORMATTED VLV_RRAW_32 '%g' 99 S.1
    CALL TEXT.APPEND 'R: ' S.1 S.0
    CALL LCD.WRITE 33.0 20.0 S.0
    STRINGS VALUE_FORMATTED VLV_GRAW_32 '%g' 99 S.1
    CALL TEXT.APPEND 'G: ' S.1 S.0
    CALL LCD.WRITE 33.0 35.0 S.0
    STRINGS VALUE_FORMATTED VLV_BRAW_32 '%g' 99 S.1
    CALL TEXT.APPEND 'B: ' S.1 S.0
    CALL LCD.WRITE 33.0 50.0 S.0
    STRINGS VALUE_FORMATTED VLV_COLOR_32 '%g' 99 S.1
    CALL TEXT.APPEND 'color: ' S.1 S.0
    CALL LCD.WRITE 33.0 70.0 S.0
    STRINGS VALUE_FORMATTED VLV_VALUE_32 '%g' 99 S.1
    CALL TEXT.APPEND 'Value: ' S.1 S.0
    CALL LCD.WRITE 33.0 90.0 S.0
    MOVE32_32 0 STOPLCDUPDATE
	UI_DRAW UPDATE
    DATA8 layer897
	DATA8 no897
	DATA8 mode8897
	
	MOVEF_8 VLV_SENS_32 no897
	SUB8 no897 1 no897
	DIV8 no897 4 layer897
	MATH MOD8 no897 4 no897

	MOVEF_8 VLV_SENS_MODE_32 mode8897
	
	INPUT_DEVICE READY_RAW layer897 no897 0 mode8897 0
RETSUB_M_RGB_DETECT_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RGB_DETECT_3:
SUB_M_RGB_GRITAR_1:
    JR_NEQF VLV_COLOR_33 0.0 else898_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Zero'
    JR endif898
  else898_1:
    JR_NEQF VLV_COLOR_33 1.0 else898_2
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Black'
    JR endif898
  else898_2:
    JR_NEQF VLV_COLOR_33 2.0 else898_3
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/BLUE'
    JR endif898
  else898_3:
    JR_NEQF VLV_COLOR_33 3.0 else898_4
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/GREEN'
    JR endif898
  else898_4:
    JR_NEQF VLV_COLOR_33 4.0 else898_5
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/YELLOW'
    JR endif898
  else898_5:
    JR_NEQF VLV_COLOR_33 5.0 else898_6
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/RED'
    JR endif898
  else898_6:
    JR_NEQF VLV_COLOR_33 6.0 else898_7
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/White'
    JR endif898
  else898_7:
    JR_NEQF VLV_COLOR_33 7.0 else898_8
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Brown'
  else898_8:
  endif898:
    SOUND_READY
RETSUB_M_RGB_GRITAR_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RGB_GRITAR_1:
}
subcall ARRAYSTORE_FLOAT   // FFFV
{
	IN_F index
	IN_F value	
	IN_16 handle
	
	DATA32 index32
	DATA32 len	
	MOVEF_32 index index32

	ARRAY SIZE handle len
	JR_LT32 index32 0 negativeindex
	JR_LT32 index32 len arraybigenough

increasesize:	
	DATA32 doublelen
	ADD32 len len doublelen
	ARRAY RESIZE handle doublelen
writeloop:	
	ARRAY_WRITE handle len 0.0
	ADD32 len 1 len
	JR_LT32 len doublelen writeloop
	JR_GTEQ32 index32 len increasesize
	
arraybigenough:
	ARRAY_WRITE handle index32 value
negativeindex:
}
subcall SPEAKER.PLAY    // FSV 
{
	IN_F volume
	IN_S filename 252	

	// prepend a path to really reach the target file from the current working directory
	DATA8 vol 
	DATAS fullname 300
	MOVEF_8 volume vol

	STRINGS ADD '../../../..' filename fullname  // when using absolute path, go to file system top from the VM directory and then back down
	JR_EQ8 filename 47 absolutepath               // filename begins with a '/' - using absolute path
	STRINGS ADD '../prjs/' filename fullname      // by default use path relative to prjs folder (must go from the current VM directory to there)
absolutepath:
	
	SOUND PLAY vol fullname
}
subcall MOTOR.STOP       // SSV      MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_S brake 8

	DATA8 layer
	DATA8 nos	
	DATA8 brk
	
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	JR_EQ8 nos 0 noport

	AND8888_32 brake -538976289 brake        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE brake 'TRUE' brk	
	
	OUTPUT_STOP layer nos brk
noport:
}
subcall MOTORDECODEPORTSDESCRIPTOR  //  V
{
	IN_S descriptor 8
	OUT_8 layer
	OUT_8 nos

	DATA8 i 
	DATA8 c

	MOVE8_8 0 layer
	MOVE8_8 0 nos	
	MOVE8_8 0 i
loop:
	READ8 descriptor i c
	JR_EQ8 c 0 decoding_end
	
	JR_LT8 c 65 no_uppercase_port
	JR_GT8 c 68 no_uppercase_port
	SUB8 c 65 c
	RL8  1 c c
	OR8  nos c nos
	JR loop_end
no_uppercase_port:
	JR_LT8 c 97 no_lowercase_port
	JR_GT8 c 100 no_lowercase_port
	SUB8 c 97 c
	RL8  1 c c
	OR8  nos c nos	
	JR loop_end
no_lowercase_port:
	JR_LT8 c 49 loop_end
	JR_GT8 c 52 loop_end
	SUB8 c 49 layer
loop_end:
	ADD8 1 i i
	JR loop	
	
decoding_end:
	RETURN
}
subcall ARRAYGET_FLOAT     // FFF
{
	IN_F index
	OUT_F value
	IN_16 handle
	
	DATA32 index32
	DATA32 len
	MOVEF_32 index index32
	
	ARRAY SIZE handle len
	JR_LT32 index32 0 outofbounds
	JR_GTEQ32 index32 len outofbounds
	
	ARRAY_READ handle index32 value
	RETURN
outofbounds:
	MOVE8_F 0 value	
}
subcall MOTOR.SCHEDULE   // SFFFFSV    MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_F speed
	IN_F step1
	IN_F step2
	IN_F step3
	IN_S brake 8
	
	DATA8 layer
	DATA8 nos
	DATA8 spd
	DATA32 stp1
	DATA32 stp2
	DATA32 stp3	
	DATA8 brk
	
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	JR_EQ8 nos 0 noport

	MOVEF_8 speed spd
	MATH ABS step1 step1
	MOVEF_32 step1 stp1
	MATH ABS step2 step2
	MOVEF_32 step2 stp2
	MATH ABS step3 step3
	MOVEF_32 step3 stp3	
	AND8888_32 brake -538976289 brake        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE brake 'TRUE' brk	

	OUTPUT_STEP_SPEED layer nos spd stp1 stp2 stp3 brk
noport:
}
subcall EV3.BATTERYVOLTAGE  // F
{
	OUT_F voltage
	UI_READ GET_VBATT voltage
}
subcall TEXT.APPEND     // SSS
{
	IN_S a 252
	IN_S b 252
    OUT_S result 252
	
	DATA16 len0
	DATA16 len1
	DATA16 sum

	STRINGS GET_SIZE a len0
	STRINGS GET_SIZE b len1
	ADD16 len0,len1,sum
	JR_GT16 sum,251,stringsizeexceeded

	STRINGS ADD a b result
	RETURN
	
stringsizeexceeded:	
    STRINGS DUPLICATE a result
}
subcall LCD.CLEAR   // V
{
	UI_DRAW(TOPLINE,0)
	UI_DRAW(CLEAN)
	
	JR_NEQ32 0 STOPLCDUPDATE skipupdate
	UI_DRAW UPDATE
skipupdate:
}
subcall LCD.WRITE     // FFSV
{
	IN_F x
	IN_F y
	IN_S text 252
	
	DATA16 x_16
	DATA16 y_16
	MOVEF_16 x x_16
	MOVEF_16 y y_16
	
	UI_DRAW SELECT_FONT 1
	UI_DRAW TEXT 1 x_16 y_16 text

	JR_NEQ32 0 STOPLCDUPDATE skipupdate
	UI_DRAW UPDATE
skipupdate:
}
subcall EQ_STRING       // SSS
{
	IN_S  a 252
	IN_S  b 252
	OUT_S result 8
	
	DATA8 flag
	
	// check if completely equal
	STRINGS COMPARE a b flag
	JR_NEQ8 FLAG 0 isequal
	// second chance: when both values are "True" in any casing, this also counts as equal
	AND8888_32 a -538976289 a        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE a 'TRUE' flag	
	JR_EQ8 0,flag,isnotequal
	AND8888_32 b -538976289 b        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE b 'TRUE' flag	
	JR_EQ8 0,flag,isnotequal
isequal:
	STRINGS DUPLICATE 'True' result
	RETURN
isnotequal:
	STRINGS DUPLICATE 'False' result
	RETURN
}
subcall MOTOR.GETCOUNT    // SF     MOTORDECODEPORTDESCRIPTOR
{
	IN_S port 8
	OUT_F result
	
	DATA8 layer
	DATA8 no
	DATA32 tacho
	
	CALL MOTORDECODEPORTDESCRIPTOR port layer no
	JR_LT8 no 0 noport
	
	OUTPUT_GET_COUNT layer no tacho
	MOVE32_F tacho result

	DATA8 nos
	RL8 1 no nos
	DATA8 inv
	READ8 MOTORISINVERTED layer inv 
	AND8 inv nos inv
	JR_EQ8 inv 0 noinvert
	SUBF 0.0 result result
noinvert:
	RETURN

noport:	
	MOVE8_F 0 result	
}
subcall MOTORDECODEPORTDESCRIPTOR  //  V
{
	IN_S descriptor 8
	OUT_8 layer
	OUT_8 no

	DATA8 i 
	DATA8 c

	MOVE8_8 0 layer
	MOVE8_8 -1 no
	MOVE8_8 0 i
loop:
	READ8 descriptor i c
	JR_EQ8 c 0 decoding_end
	
	JR_LT8 c 65 no_uppercase_port
	JR_GT8 c 68 no_uppercase_port
	SUB8 c 65 c
	MOVE8_8 c no
	JR loop_end
no_uppercase_port:
	JR_LT8 c 97 no_lowercase_port
	JR_GT8 c 100 no_lowercase_port
	SUB8 c 97 c
	MOVE8_8 c no
	JR loop_end
no_lowercase_port:
	JR_LT8 c 49 loop_end
	JR_GT8 c 52 loop_end
	SUB8 c 49 layer
loop_end:
	ADD8 1 i i
	JR loop	
	
decoding_end:
	RETURN
}
subcall MOTOR.SCHEDULESYNC   // SFFFSV    MOTORSCHEDULESTEERIMPL
{
	IN_S ports 8
	IN_F speed1
	IN_F speed2
	IN_F count
	IN_S brake 8
	
	JR_GTEQF speed1 -100.0 nottoosmall1
	MOVEF_F -100.0 speed1
nottoosmall1:
	JR_LTEQF speed1 100.0 nottoobig1
	MOVEF_F 100.0 speed1
nottoobig1:
	JR_GTEQF speed2 -100.0 nottoosmall2
	MOVEF_F -100.0 speed2
nottoosmall2:
	JR_LTEQF speed2 100.0 nottoobig2
	MOVEF_F 100.0 speed2
nottoobig2:

	DATAF speed  
	DATAF turn
	MOVE8_F 0 speed
	MOVE8_F 0 turn

	DATAF speed1abs
	DATAF speed2abs
	MATH ABS speed1 speed1abs
	MATH ABS speed2 speed2abs
	JR_LTF speed1abs speed2abs secondisfaster
	JR_EQF speed1abs 0.0 donecomputation
	 MOVEF_F speed1 speed
	 MULF 100.0 speed2 turn
	 DIVF turn speed1 turn
	 SUBF 100.0 turn turn
	JR donecomputation
secondisfaster:
	 MOVEF_F speed2 speed
	 MULF 100.0 speed1 turn
	 DIVF turn speed2 turn
	 SUBF turn 100.0 turn
donecomputation:
	
	CALL MOTORSCHEDULESTEERIMPL ports speed turn count brake
}
subcall MOTORSCHEDULESTEERIMPL   // SFFFSV    MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_F speed
	IN_F turn
	IN_F count
	IN_S brake 8
	
	DATA8 layer
	DATA8 nos	
	DATA8 first
	DATA8 second
	DATA8 invfirst
	DATA8 invsecond
	
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	READ8 FIRSTOF2 nos first
	JR_EQ8 0 first not_two_ports
	XOR8 first nos second
	READ8 MOTORISINVERTED layer invfirst
	AND8 first invfirst invfirst
	READ8 MOTORISINVERTED layer invsecond
	AND8 second invsecond invsecond

	JR_LTF turn 0.0 second_is_master
first_is_master:
	JR_EQ8 invfirst 0 non_invert_first
	SUBF 0.0 speed speed
	JR_NEQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion
non_invert_first:
	JR_EQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion

second_is_master:
	JR_EQ8 invsecond 0 non_invert_second
	SUBF 0.0 speed speed
	JR_NEQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion
non_invert_second:
	JR_EQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion

done_inversion:
	DATA32 cnt
	DATA8 brk
	MATH ABS count count
	MOVEF_32 count cnt
	AND8888_32 brake -538976289 brake        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE brake 'TRUE' brk	

	JR_LTEQ32 cnt 0 dontmove	

	DATA8 spd  
	DATA16 trn
	MOVEF_16 turn trn
	MOVEF_8 speed spd
	OUTPUT_STEP_SYNC layer nos spd trn cnt brk	
dontmove:	
not_two_ports:
}
subcall SENSOR.READPERCENT       // FF
{
	IN_F port
	OUT_F result

	DATA8 layer
	DATA8 no
	DATA8 percentage

	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no

	INPUT_READ layer no 0 -1 percentage
	JR_LT8 percentage 0 novalue
	
	MOVE8_F percentage result
	RETURN
novalue:	
	MOVE8_F 0 result
}
subcall MOTOR.STARTSYNC      // SFFV       MOTORSTARTSTEERIMPL
{
	IN_S ports 8
	IN_F speed1
	IN_F speed2

	JR_GTEQF speed1 -100.0 nottoosmall1
	MOVEF_F -100.0 speed1
nottoosmall1:
	JR_LTEQF speed1 100.0 nottoobig1
	MOVEF_F 100.0 speed1
nottoobig1:
	JR_GTEQF speed2 -100.0 nottoosmall2
	MOVEF_F -100.0 speed2
nottoosmall2:
	JR_LTEQF speed1 100.0 nottoobig2
	MOVEF_F 100.0 speed2
nottoobig2:

	DATAF speed  
	DATAF turn
	MOVE8_F 0 speed
	MOVE8_F 0 turn

	DATAF speed1abs
	DATAF speed2abs
	MATH ABS speed1 speed1abs
	MATH ABS speed2 speed2abs
	JR_LTF speed1abs speed2abs secondisfaster
	JR_EQF speed1abs 0.0 donecomputation
	 MOVEF_F speed1 speed
	 MULF 100.0 speed2 turn
	 DIVF turn speed1 turn
	 SUBF 100.0 turn turn
	JR donecomputation
secondisfaster:
	 MOVEF_F speed2 speed
	 MULF 100.0 speed1 turn
	 DIVF turn speed2 turn
	 SUBF turn 100.0 turn
donecomputation:

	CALL MOTORSTARTSTEERIMPL ports speed turn
}
subcall MOTORSTARTSTEERIMPL      // SFFV       MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_F speed
	IN_F turn

	DATA8 layer
	DATA8 nos	
	DATA8 first
	DATA8 second
	DATA8 invfirst
	DATA8 invsecond

	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	READ8 FIRSTOF2 nos first
	JR_EQ8 0 first not_two_ports
	XOR8 first nos second
	READ8 MOTORISINVERTED layer invfirst
	AND8 first invfirst invfirst
	READ8 MOTORISINVERTED layer invsecond
	AND8 second invsecond invsecond

	JR_LTF turn 0.0 second_is_master
first_is_master:
	JR_EQ8 invfirst 0 non_invert_first
	SUBF 0.0 speed speed
	JR_NEQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion
non_invert_first:
	JR_EQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion

second_is_master:
	JR_EQ8 invsecond 0 non_invert_second
	SUBF 0.0 speed speed
	JR_NEQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion
non_invert_second:
	JR_EQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion

done_inversion:
	DATA8 spd  
	DATA16 trn
	MOVEF_16 turn trn
	MOVEF_8 speed spd
	OUTPUT_STEP_SYNC layer nos spd trn 0 0
not_two_ports:
}
subcall SENSOR.GETMODE		// FF
{
	IN_F port
	OUT_F result
	
	DATA8 layer
	DATA8 no
	DATA8 type
	DATA8 mode
	
	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no
	
	INPUT_DEVICE GET_TYPEMODE layer no type mode
	MOVE8_F mode result
}
subcall SENSOR.READRAW            // FFA
{
	IN_F port
	IN_F values
	IN_16 resultarray
	
	DATA8 layer
	DATA8 no
	DATA32 values32
		
	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no

	MOVEF_32 values values32

	JR_LTEQ32 values32 0 arrayempty
	ARRAY RESIZE resultarray values32

	DATA32 rawvalue0
	DATA32 rawvalue1
	DATA32 rawvalue2
	DATA32 rawvalue3
	DATA32 rawvalue4
	DATA32 rawvalue5
	DATA32 rawvalue6
	DATA32 rawvalue7
	INPUT_READEXT layer no 0 -1 18 8 rawvalue0 rawvalue1 rawvalue2 rawvalue3 rawvalue4 rawvalue5 rawvalue6 rawvalue7
	
	DATA32 i
	DATA32 rawtmp
	MOVE32_32 0 i
loop:
	DATA8 tmp8
	DATAF tmpf

	MOVEF_F 0.0 tmpf
	JR_GTEQ32 i 8 nomoredata

	MOVE32_8 i tmp8
	READ32 rawvalue0 tmp8 rawtmp
	JR_LT32 rawtmp -1000000000 nomoredata
	MOVE32_F rawtmp tmpf

nomoredata:	
	ARRAY_WRITE resultarray i tmpf

	ADD32 i 1 i
	JR_LT32 i values32 loop
	RETURN

arrayempty:
	ARRAY RESIZE resultarray 0
}
subcall ARRAYCREATE_FLOAT   // F
{
	OUT_16 handle
	
	ARRAY CREATEF 8 handle			// create with 8 elements
	ARRAY FILL handle 0.0
}
subcall GETANDINC32     // V
{
	IN_32 counterin
	IN_32 inc
	OUT_32 counterout
	OUT_32 prev

	MOVE32_32 counterin prev
	ADD32 counterin inc counterout
}
