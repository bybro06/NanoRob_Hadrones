DATA16 FD_NATIVECODECOMMAND
DATA16 FD_NATIVECODERESPONSE
DATA32 STOPLCDUPDATE
DATA32 NUMMAILBOXES
ARRAY8 MOTORISINVERTED 4     
ARRAY8 FIRSTOF2  16
ARRAY16 LOCKS 2           
DATA32 s1out1
DATA32 s1out2
DATA32 s1out3
DATA32 s2out1
DATA32 s2out2
DATA32 s2out3
DATA32 s3out1
DATA32 s3out2
DATA32 s3out3
DATA32 s4out1
DATA32 s4out2
DATA32 s4out3
DATA32 getTachoA
DATA32 tmpTachoA
DATA8 getSpeedA
DATA8 setSpeedA
DATA8 setPowerA
DATA32 getTachoB
DATA32 tmpTachoB
DATA8 getSpeedB
DATA8 setSpeedB
DATA8 setPowerB
DATA32 getTachoC
DATA32 tmpTachoC
DATA8 getSpeedC
DATA8 setSpeedC
DATA8 setPowerC
DATA32 getTachoD
DATA32 tmpTachoD
DATA8 getSpeedD
DATA8 setSpeedD
DATA8 setPowerD
DATA16 newArray1d
DATA32 newSize1d
DATA32 newIndex1d
DATA32 timeMC1
DATA32 timeMC2
DATA32 timeMC3
DATA32 timeMC4
DATA32 timeMC5
DATA32 timeMC6
DATA32 timeMC7
DATA32 timeMC8
DATA32 timeMC9
DATA32 timeMC1tmp
DATA32 timeMC2tmp
DATA32 timeMC3tmp
DATA32 timeMC4tmp
DATA32 timeMC5tmp
DATA32 timeMC6tmp
DATA32 timeMC7tmp
DATA32 timeMC8tmp
DATA32 timeMC9tmp
DATAF VPR_GIRO_G1
DATAF VPR_RGB_VALUENEGRO
DATAF VPR_RGB_VALUEBLANCO
DATAF VPR_RECTO_DIAMETRO
DATAF VPR_GIRO_DIAMETRO
DATAF VPR_SIGUELINEAS_DIAMETRO
DATAF VPR_SMART_DIAMETRO
DATAF VPR_SIGUELINEAS_NEGRO1
DATAF VPR_SIGUELINEAS_NEGRO3
DATAF VPR_SIGUELINEAS_NEGRO4
DATAF VPR_SIGUELINEAS_BLANCO1
DATAF VPR_SIGUELINEAS_BLANCO3
DATAF VPR_SIGUELINEAS_BLANCO4
DATAF VPR_SMART_NEGRO1
DATAF VPR_SMART_NEGRO3
DATAF VPR_SMART_NEGRO4
DATAF VPR_SMART_BLANCO1
DATAF VPR_SMART_BLANCO3
DATAF VPR_SMART_BLANCO4
DATAF VPR_RECTO_NEGRO
DATAF VPR_RECTO_BLANCO
DATAF VPR_GIRO_NEGRO
DATAF VPR_GIRO_BLANCO
DATAF VPR_RGB_RWHITE
DATAF VPR_RGB_GWHITE
DATAF VPR_RGB_BWHITE
DATAF VLV_VELOCIDAD_9
DATAF VLV_TIMER_9
DATAF VLV_VELOCIDAD_4
DATAF VLV_ENCODER_4
DATAF VLV_VELOCIDAD_10
DATAF VLV_ENCODER_10
DATAF VLV_VELOCIDAD_11
DATAF VLV_TIEMPO_11
DATAF VLV_VELOCIDAD_12
DATAF VLV_DISTANCIA_12
DATAF VLV_VELOCIDAD1_19
DATAF VLV_VELOCIDAD2_19
DATAF VLV_GRADOS_19
DATAF VLV_V0_13
DATAF VLV_VMAX_13
DATAF VLV_DISTANCIAACCEL_13
DATAF VLV_DISTANCIACRUCERO_13
DATAF VLV_DISTANCIADECEL_13
DATAF VLV_VELOCIDAD1_20
DATAF VLV_VELOCIDAD2_20
DATAF VLV_TIEMPO_20
DATAF VLV_V0_14
DATAF VLV_VMAX_14
DATAF VLV_DISTANCIAACCEL_14
DATAF VLV_DISTANCIACRUCERO_14
DATAF VLV_DISTANCIADECEL_14
DATAF VLV_VELOCIDAD_15
DATAF VLV_DISTANCIA_15
DATAF VLV_VELOCIDAD_16
DATAF VLV_SENSOR_16
DATAF VLV_VELOCIDAD_25
DATAF VLV_ENCODER_25
DATAF VLV_VELOCIDAD_26
DATAF VLV_READER_26
DATAF VLV_VELOCIDAD_27
DATAF VLV_ENCODER_27
DATAF VLV_VELOCIDAD1_21
DATAF VLV_VELOCIDAD2_21
DATAF VLV_GRADOS_21
DATAF VLV_VELOCIDAD_17
DATAF VLV_SENSOR_17
DATAF VLV_COLOR_17
DATAF VLV_VELOCIDAD1_22
DATAF VLV_VELOCIDAD2_22
DATAF VLV_DISTANCIA_22
DATAF VLV_VELOCIDAD1_23
DATAF VLV_VELOCIDAD2_23
DATAF VLV_SENS_23
DATAF VLV_COLOR_23
DATAF VLV_VELOCIDAD1_24
DATAF VLV_VELOCIDAD2_24
DATAF VLV_DISTANCIA_24
DATAF VLV_VELOCIDAD_28
DATAF VLV_ENCODER_28
DATAF VLV_ALTURA_3
DATAF VLV_VELOCIDAD_29
DATAF VLV_COLOR_29
DATAF VLV_VELOCIDAD_18
DATAF VLV_SENSOR_18
DATAF VLV_COLOR_18
DATAF VLV_VELOCIDAD_30
DATAF VLV_COLOR_30
DATAF VLV_SENS_31
DATAF VLV_REPS_31
DATAF VLV_COLOR_31
DATAF VLV_COLOR_32
DATAF VLV_NUMERO_7
DATAF VGV_COLOR
DATAF VGV_ENCODERA
DATAF VGV_ENCODERD
DATAF VGV_ERRORA
DATAF VGV_OLDERRORA
DATAF VGV_ERRORD
DATAF VGV_OLDERRORD
DATAF VGV_DIAMETRO
DATAF VGV_NEGRO1
DATAF VGV_NEGRO3
DATAF VGV_NEGRO4
DATAF VGV_BLANCO1
DATAF VGV_BLANCO3
DATAF VGV_BLANCO4
DATAF VGV_TIEMPOHASTACRUCE
DATAF VGV_I
ARRAY16 VGV_BLOQUE 2
DATAF VGV_CORRECCIONA
DATAF VLV_ENCDIFF_4
DATAF VLV_SIGNO_4
DATAF VLV_SAFETYTIMER_4
DATAF VLV_VOLTAJE_8
DATAF VLV_ENCDIFF_10
DATAF VLV_SIGNO_10
DATAF VLV_SAFETYTIMER_10
DATAF VLV_CORRECCION_11
DATAF VLV_CORRECCION_12
DATAF VLV_ENC_12
DATAF VLV_STARTB_13
DATAF VLV_STARTC_13
DATAF VLV_ENCODERB_13
DATAF VLV_ENCODERC_13
DATAF VLV_SIGNO_13
DATAF VLV_VEL_13
DATAF VLV_KP_13
DATAF VLV_KD_13
DATAF VLV_ERROR_13
DATAF VLV_OLDERROR_13
DATAF VLV_GRADOSACCEL_13
DATAF VLV_GRADOSCRUCERO_13
DATAF VLV_GRADOSDECEL_13
DATAF VLV_PENDIENTE_13
DATAF VLV_CORRECCION_13
DATAF VLV_STARTB_14
DATAF VLV_STARTC_14
DATAF VLV_ENCODERB_14
DATAF VLV_ENCODERC_14
DATAF VLV_SIGNO_14
DATAF VLV_VEL_14
DATAF VLV_KP_14
DATAF VLV_KD_14
DATAF VLV_ERROR_14
DATAF VLV_OLDERROR_14
DATAF VLV_GRADOSACCEL_14
DATAF VLV_GRADOSCRUCERO_14
DATAF VLV_GRADOSDECEL_14
DATAF VLV_PENDIENTE_14
DATAF VLV_CORRECCION_14
DATAF VLV_CORRECCION_15
DATAF VLV_ENC_15
DATAF VLV_CORRECCION_16
DATAF VLV_LECTURA_16
DATAF VLV_CORRECCION_17
DATAF VLV_MODE_17
DATAF VLV_CORRECCION_18
DATAF VLV_MODE_18
DATAF VLV_SIGNO_19
DATAF VLV_VMIN_19
DATAF VLV_VMAX_19
DATAF VLV_ENCODER_19
DATAF VLV_SIGNO_21
DATAF VLV_VMIN_21
DATAF VLV_VMAX_21
DATAF VLV_ENCODER_21
DATAF VLV_ENCODER_22
DATAF VLV_MODE_23
DATAF VLV_ENCODER_24
DATAF VLV_LECTURA1_25
DATAF VLV_LECTURA3_25
DATAF VLV_LECTURA4_25
DATAF VLV_KP_25
DATAF VLV_KD_25
DATAF VLV_DISTANCIA_25
DATAF VLV_ERROR_25
DATAF VLV_OLDERROR_25
DATAF VLV_U_25
DATAF VLV_SENTIDO_25
DATAF VLV_STARTVELOCIDAD_25
DATAF VLV_STARTKP_25
DATAF VLV_STARTKD_25
DATAF VLV_STARTC_25
DATAF VLV_ENCODERC_25
DATAF VLV_LECTURA1_26
DATAF VLV_LECTURA3_26
DATAF VLV_LECTURA4_26
DATAF VLV_KP_26
DATAF VLV_KD_26
DATAF VLV_ERROR_26
DATAF VLV_OLDERROR_26
DATAF VLV_U_26
DATAF VLV_SENTIDO_26
DATAF VLV_LECTURA_26
DATAF VLV_LECTURAIZQ_26
DATAF VLV_LECTURADCH_26
DATAF VLV_LECTURA1_27
DATAF VLV_LECTURA3_27
DATAF VLV_LECTURA4_27
DATAF VLV_KP_27
DATAF VLV_KD_27
DATAF VLV_ERROR_27
DATAF VLV_OLDERROR_27
DATAF VLV_U_27
DATAF VLV_SENTIDO_27
DATAF VLV_STARTC_27
DATAF VLV_ENCODERC_27
DATAF VLV_LECTURA1_28
DATAF VLV_LECTURA3_28
DATAF VLV_LECTURA4_28
DATAF VLV_KP_28
DATAF VLV_KD_28
DATAF VLV_ERROR_28
DATAF VLV_OLDERROR_28
DATAF VLV_U_28
DATAF VLV_SENTIDO_28
DATAF VLV_STARTC_28
DATAF VLV_ENCODERC_28
DATAF VLV_MODE_29
DATAF VLV_LECTURA1_29
DATAF VLV_LECTURA3_29
DATAF VLV_LECTURA4_29
DATAF VLV_KP_29
DATAF VLV_KD_29
DATAF VLV_ERROR_29
DATAF VLV_OLDERROR_29
DATAF VLV_U_29
DATAF VLV_SENTIDO_29
DATAF VLV_MODE_30
DATAF VLV_LECTURA1_30
DATAF VLV_LECTURA3_30
DATAF VLV_LECTURA4_30
DATAF VLV_KP_30
DATAF VLV_KD_30
DATAF VLV_ERROR_30
DATAF VLV_OLDERROR_30
DATAF VLV_U_30
DATAF VLV_SENTIDO_30
DATAF VLV_SENS_MODE_31
DATAF VLV_RED_31
DATAF VLV_YELLOW_31
DATAF VLV_GREEN_31
DATAF VLV_BLUE_31
DATAF VLV_HUE_31
DATAF VLV_SAT_31
DATAF VLV_VALUE_31
ARRAY16 VLV_RNORMARRAY_31 2
ARRAY16 VLV_GNORMARRAY_31 2
ARRAY16 VLV_BNORMARRAY_31 2
DATAF VLV_J_31
ARRAY16 VLV_RGB_31 2
DATAF VLV_RRAW_31
DATAF VLV_GRAW_31
DATAF VLV_BRAW_31
DATAF VLV_RNORM_31
DATAF VLV_GNORM_31
DATAF VLV_BNORM_31
DATAF VLV_MAX_31
DATAF VLV_MIN_31
DATAF VLV_RGBGREY_31
DATA32 RUNCOUNTER_F_CONTROLBRAZO_0
DATA32 RUNCOUNTER_F_DETECTA_0

vmthread MAIN
{
    MOVE32_32 0 STOPLCDUPDATE
    MOVE32_32 0 NUMMAILBOXES
    OUTPUT_RESET 0 15

	WRITE8 0 0 MOTORISINVERTED
	WRITE8 0 1 MOTORISINVERTED
	WRITE8 0 2 MOTORISINVERTED
	WRITE8 0 3 MOTORISINVERTED
	WRITE8 0 0 FIRSTOF2
	WRITE8 0 1 FIRSTOF2
	WRITE8 0 2 FIRSTOF2
	WRITE8 1 3 FIRSTOF2
	WRITE8 0 4 FIRSTOF2
	WRITE8 1 5 FIRSTOF2
	WRITE8 2 6 FIRSTOF2
	WRITE8 0 7 FIRSTOF2
	WRITE8 0 8 FIRSTOF2
	WRITE8 1 9 FIRSTOF2
	WRITE8 2 10 FIRSTOF2
	WRITE8 0 11 FIRSTOF2
	WRITE8 4 12 FIRSTOF2
	WRITE8 0 13 FIRSTOF2
	WRITE8 0 14 FIRSTOF2
	WRITE8 0 15 FIRSTOF2
    INPUT_DEVICE CLR_ALL -1
    ARRAY CREATE8 0 LOCKS
    MOVE32_32 0 s1out1
	MOVE32_32 0 s1out2
	MOVE32_32 0 s1out3
    MOVE32_32 0 s2out1
	MOVE32_32 0 s2out2
	MOVE32_32 0 s2out3
    MOVE32_32 0 s3out1
	MOVE32_32 0 s3out2
	MOVE32_32 0 s3out3
    MOVE32_32 0 s4out1
	MOVE32_32 0 s4out2
	MOVE32_32 0 s4out3
    MOVE32_32 0 timeMC1
	MOVE32_32 0 timeMC2
	MOVE32_32 0 timeMC3
	MOVE32_32 0 timeMC4
	MOVE32_32 0 timeMC5
	MOVE32_32 0 timeMC6
	MOVE32_32 0 timeMC7
	MOVE32_32 0 timeMC8
	MOVE32_32 0 timeMC9
    MOVEF_F 0.0 VPR_GIRO_G1
    MOVEF_F 0.0 VPR_RGB_VALUENEGRO
    MOVEF_F 0.0 VPR_RGB_VALUEBLANCO
    MOVEF_F 0.0 VPR_RECTO_DIAMETRO
    MOVEF_F 0.0 VPR_GIRO_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_DIAMETRO
    MOVEF_F 0.0 VPR_SMART_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO4
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO4
    MOVEF_F 0.0 VPR_SMART_NEGRO1
    MOVEF_F 0.0 VPR_SMART_NEGRO3
    MOVEF_F 0.0 VPR_SMART_NEGRO4
    MOVEF_F 0.0 VPR_SMART_BLANCO1
    MOVEF_F 0.0 VPR_SMART_BLANCO3
    MOVEF_F 0.0 VPR_SMART_BLANCO4
    MOVEF_F 0.0 VPR_RECTO_NEGRO
    MOVEF_F 0.0 VPR_RECTO_BLANCO
    MOVEF_F 0.0 VPR_GIRO_NEGRO
    MOVEF_F 0.0 VPR_GIRO_BLANCO
    MOVEF_F 0.0 VPR_RGB_RWHITE
    MOVEF_F 0.0 VPR_RGB_GWHITE
    MOVEF_F 0.0 VPR_RGB_BWHITE
    MOVEF_F 0.0 VLV_VELOCIDAD_9
    MOVEF_F 0.0 VLV_TIMER_9
    MOVEF_F 0.0 VLV_VELOCIDAD_4
    MOVEF_F 0.0 VLV_ENCODER_4
    MOVEF_F 0.0 VLV_VELOCIDAD_10
    MOVEF_F 0.0 VLV_ENCODER_10
    MOVEF_F 0.0 VLV_VELOCIDAD_11
    MOVEF_F 0.0 VLV_TIEMPO_11
    MOVEF_F 0.0 VLV_VELOCIDAD_12
    MOVEF_F 0.0 VLV_DISTANCIA_12
    MOVEF_F 0.0 VLV_VELOCIDAD1_19
    MOVEF_F 0.0 VLV_VELOCIDAD2_19
    MOVEF_F 0.0 VLV_GRADOS_19
    MOVEF_F 0.0 VLV_V0_13
    MOVEF_F 0.0 VLV_VMAX_13
    MOVEF_F 0.0 VLV_DISTANCIAACCEL_13
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_13
    MOVEF_F 0.0 VLV_DISTANCIADECEL_13
    MOVEF_F 0.0 VLV_VELOCIDAD1_20
    MOVEF_F 0.0 VLV_VELOCIDAD2_20
    MOVEF_F 0.0 VLV_TIEMPO_20
    MOVEF_F 0.0 VLV_V0_14
    MOVEF_F 0.0 VLV_VMAX_14
    MOVEF_F 0.0 VLV_DISTANCIAACCEL_14
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_14
    MOVEF_F 0.0 VLV_DISTANCIADECEL_14
    MOVEF_F 0.0 VLV_VELOCIDAD_15
    MOVEF_F 0.0 VLV_DISTANCIA_15
    MOVEF_F 0.0 VLV_VELOCIDAD_16
    MOVEF_F 0.0 VLV_SENSOR_16
    MOVEF_F 0.0 VLV_VELOCIDAD_25
    MOVEF_F 0.0 VLV_ENCODER_25
    MOVEF_F 0.0 VLV_VELOCIDAD_26
    MOVEF_F 0.0 VLV_READER_26
    MOVEF_F 0.0 VLV_VELOCIDAD_27
    MOVEF_F 0.0 VLV_ENCODER_27
    MOVEF_F 0.0 VLV_VELOCIDAD1_21
    MOVEF_F 0.0 VLV_VELOCIDAD2_21
    MOVEF_F 0.0 VLV_GRADOS_21
    MOVEF_F 0.0 VLV_VELOCIDAD_17
    MOVEF_F 0.0 VLV_SENSOR_17
    MOVEF_F 0.0 VLV_COLOR_17
    MOVEF_F 0.0 VLV_VELOCIDAD1_22
    MOVEF_F 0.0 VLV_VELOCIDAD2_22
    MOVEF_F 0.0 VLV_DISTANCIA_22
    MOVEF_F 0.0 VLV_VELOCIDAD1_23
    MOVEF_F 0.0 VLV_VELOCIDAD2_23
    MOVEF_F 0.0 VLV_SENS_23
    MOVEF_F 0.0 VLV_COLOR_23
    MOVEF_F 0.0 VLV_VELOCIDAD1_24
    MOVEF_F 0.0 VLV_VELOCIDAD2_24
    MOVEF_F 0.0 VLV_DISTANCIA_24
    MOVEF_F 0.0 VLV_VELOCIDAD_28
    MOVEF_F 0.0 VLV_ENCODER_28
    MOVEF_F 0.0 VLV_ALTURA_3
    MOVEF_F 0.0 VLV_VELOCIDAD_29
    MOVEF_F 0.0 VLV_COLOR_29
    MOVEF_F 0.0 VLV_VELOCIDAD_18
    MOVEF_F 0.0 VLV_SENSOR_18
    MOVEF_F 0.0 VLV_COLOR_18
    MOVEF_F 0.0 VLV_VELOCIDAD_30
    MOVEF_F 0.0 VLV_COLOR_30
    MOVEF_F 0.0 VLV_SENS_31
    MOVEF_F 0.0 VLV_REPS_31
    MOVEF_F 0.0 VLV_COLOR_31
    MOVEF_F 0.0 VLV_COLOR_32
    MOVEF_F 0.0 VLV_NUMERO_7
    MOVEF_F 0.0 VGV_COLOR
    MOVEF_F 0.0 VGV_ENCODERA
    MOVEF_F 0.0 VGV_ENCODERD
    MOVEF_F 0.0 VGV_ERRORA
    MOVEF_F 0.0 VGV_OLDERRORA
    MOVEF_F 0.0 VGV_ERRORD
    MOVEF_F 0.0 VGV_OLDERRORD
    MOVEF_F 0.0 VGV_DIAMETRO
    MOVEF_F 0.0 VGV_NEGRO1
    MOVEF_F 0.0 VGV_NEGRO3
    MOVEF_F 0.0 VGV_NEGRO4
    MOVEF_F 0.0 VGV_BLANCO1
    MOVEF_F 0.0 VGV_BLANCO3
    MOVEF_F 0.0 VGV_BLANCO4
    MOVEF_F 0.0 VGV_TIEMPOHASTACRUCE
    MOVEF_F 0.0 VGV_I
    CALL ARRAYCREATE_FLOAT VGV_BLOQUE
    MOVEF_F 0.0 VGV_CORRECCIONA
    MOVEF_F 0.0 VLV_ENCDIFF_4
    MOVEF_F 0.0 VLV_SIGNO_4
    MOVEF_F 0.0 VLV_SAFETYTIMER_4
    MOVEF_F 0.0 VLV_VOLTAJE_8
    MOVEF_F 0.0 VLV_ENCDIFF_10
    MOVEF_F 0.0 VLV_SIGNO_10
    MOVEF_F 0.0 VLV_SAFETYTIMER_10
    MOVEF_F 0.0 VLV_CORRECCION_11
    MOVEF_F 0.0 VLV_CORRECCION_12
    MOVEF_F 0.0 VLV_ENC_12
    MOVEF_F 0.0 VLV_STARTB_13
    MOVEF_F 0.0 VLV_STARTC_13
    MOVEF_F 0.0 VLV_ENCODERB_13
    MOVEF_F 0.0 VLV_ENCODERC_13
    MOVEF_F 0.0 VLV_SIGNO_13
    MOVEF_F 0.0 VLV_VEL_13
    MOVEF_F 0.0 VLV_KP_13
    MOVEF_F 0.0 VLV_KD_13
    MOVEF_F 0.0 VLV_ERROR_13
    MOVEF_F 0.0 VLV_OLDERROR_13
    MOVEF_F 0.0 VLV_GRADOSACCEL_13
    MOVEF_F 0.0 VLV_GRADOSCRUCERO_13
    MOVEF_F 0.0 VLV_GRADOSDECEL_13
    MOVEF_F 0.0 VLV_PENDIENTE_13
    MOVEF_F 0.0 VLV_CORRECCION_13
    MOVEF_F 0.0 VLV_STARTB_14
    MOVEF_F 0.0 VLV_STARTC_14
    MOVEF_F 0.0 VLV_ENCODERB_14
    MOVEF_F 0.0 VLV_ENCODERC_14
    MOVEF_F 0.0 VLV_SIGNO_14
    MOVEF_F 0.0 VLV_VEL_14
    MOVEF_F 0.0 VLV_KP_14
    MOVEF_F 0.0 VLV_KD_14
    MOVEF_F 0.0 VLV_ERROR_14
    MOVEF_F 0.0 VLV_OLDERROR_14
    MOVEF_F 0.0 VLV_GRADOSACCEL_14
    MOVEF_F 0.0 VLV_GRADOSCRUCERO_14
    MOVEF_F 0.0 VLV_GRADOSDECEL_14
    MOVEF_F 0.0 VLV_PENDIENTE_14
    MOVEF_F 0.0 VLV_CORRECCION_14
    MOVEF_F 0.0 VLV_CORRECCION_15
    MOVEF_F 0.0 VLV_ENC_15
    MOVEF_F 0.0 VLV_CORRECCION_16
    MOVEF_F 0.0 VLV_LECTURA_16
    MOVEF_F 0.0 VLV_CORRECCION_17
    MOVEF_F 0.0 VLV_MODE_17
    MOVEF_F 0.0 VLV_CORRECCION_18
    MOVEF_F 0.0 VLV_MODE_18
    MOVEF_F 0.0 VLV_SIGNO_19
    MOVEF_F 0.0 VLV_VMIN_19
    MOVEF_F 0.0 VLV_VMAX_19
    MOVEF_F 0.0 VLV_ENCODER_19
    MOVEF_F 0.0 VLV_SIGNO_21
    MOVEF_F 0.0 VLV_VMIN_21
    MOVEF_F 0.0 VLV_VMAX_21
    MOVEF_F 0.0 VLV_ENCODER_21
    MOVEF_F 0.0 VLV_ENCODER_22
    MOVEF_F 0.0 VLV_MODE_23
    MOVEF_F 0.0 VLV_ENCODER_24
    MOVEF_F 0.0 VLV_LECTURA1_25
    MOVEF_F 0.0 VLV_LECTURA3_25
    MOVEF_F 0.0 VLV_LECTURA4_25
    MOVEF_F 0.0 VLV_KP_25
    MOVEF_F 0.0 VLV_KD_25
    MOVEF_F 0.0 VLV_DISTANCIA_25
    MOVEF_F 0.0 VLV_ERROR_25
    MOVEF_F 0.0 VLV_OLDERROR_25
    MOVEF_F 0.0 VLV_U_25
    MOVEF_F 0.0 VLV_SENTIDO_25
    MOVEF_F 0.0 VLV_STARTVELOCIDAD_25
    MOVEF_F 0.0 VLV_STARTKP_25
    MOVEF_F 0.0 VLV_STARTKD_25
    MOVEF_F 0.0 VLV_STARTC_25
    MOVEF_F 0.0 VLV_ENCODERC_25
    MOVEF_F 0.0 VLV_LECTURA1_26
    MOVEF_F 0.0 VLV_LECTURA3_26
    MOVEF_F 0.0 VLV_LECTURA4_26
    MOVEF_F 0.0 VLV_KP_26
    MOVEF_F 0.0 VLV_KD_26
    MOVEF_F 0.0 VLV_ERROR_26
    MOVEF_F 0.0 VLV_OLDERROR_26
    MOVEF_F 0.0 VLV_U_26
    MOVEF_F 0.0 VLV_SENTIDO_26
    MOVEF_F 0.0 VLV_LECTURA_26
    MOVEF_F 0.0 VLV_LECTURAIZQ_26
    MOVEF_F 0.0 VLV_LECTURADCH_26
    MOVEF_F 0.0 VLV_LECTURA1_27
    MOVEF_F 0.0 VLV_LECTURA3_27
    MOVEF_F 0.0 VLV_LECTURA4_27
    MOVEF_F 0.0 VLV_KP_27
    MOVEF_F 0.0 VLV_KD_27
    MOVEF_F 0.0 VLV_ERROR_27
    MOVEF_F 0.0 VLV_OLDERROR_27
    MOVEF_F 0.0 VLV_U_27
    MOVEF_F 0.0 VLV_SENTIDO_27
    MOVEF_F 0.0 VLV_STARTC_27
    MOVEF_F 0.0 VLV_ENCODERC_27
    MOVEF_F 0.0 VLV_LECTURA1_28
    MOVEF_F 0.0 VLV_LECTURA3_28
    MOVEF_F 0.0 VLV_LECTURA4_28
    MOVEF_F 0.0 VLV_KP_28
    MOVEF_F 0.0 VLV_KD_28
    MOVEF_F 0.0 VLV_ERROR_28
    MOVEF_F 0.0 VLV_OLDERROR_28
    MOVEF_F 0.0 VLV_U_28
    MOVEF_F 0.0 VLV_SENTIDO_28
    MOVEF_F 0.0 VLV_STARTC_28
    MOVEF_F 0.0 VLV_ENCODERC_28
    MOVEF_F 0.0 VLV_MODE_29
    MOVEF_F 0.0 VLV_LECTURA1_29
    MOVEF_F 0.0 VLV_LECTURA3_29
    MOVEF_F 0.0 VLV_LECTURA4_29
    MOVEF_F 0.0 VLV_KP_29
    MOVEF_F 0.0 VLV_KD_29
    MOVEF_F 0.0 VLV_ERROR_29
    MOVEF_F 0.0 VLV_OLDERROR_29
    MOVEF_F 0.0 VLV_U_29
    MOVEF_F 0.0 VLV_SENTIDO_29
    MOVEF_F 0.0 VLV_MODE_30
    MOVEF_F 0.0 VLV_LECTURA1_30
    MOVEF_F 0.0 VLV_LECTURA3_30
    MOVEF_F 0.0 VLV_LECTURA4_30
    MOVEF_F 0.0 VLV_KP_30
    MOVEF_F 0.0 VLV_KD_30
    MOVEF_F 0.0 VLV_ERROR_30
    MOVEF_F 0.0 VLV_OLDERROR_30
    MOVEF_F 0.0 VLV_U_30
    MOVEF_F 0.0 VLV_SENTIDO_30
    MOVEF_F 0.0 VLV_SENS_MODE_31
    MOVEF_F 0.0 VLV_RED_31
    MOVEF_F 0.0 VLV_YELLOW_31
    MOVEF_F 0.0 VLV_GREEN_31
    MOVEF_F 0.0 VLV_BLUE_31
    MOVEF_F 0.0 VLV_HUE_31
    MOVEF_F 0.0 VLV_SAT_31
    MOVEF_F 0.0 VLV_VALUE_31
    CALL ARRAYCREATE_FLOAT VLV_RNORMARRAY_31
    CALL ARRAYCREATE_FLOAT VLV_GNORMARRAY_31
    CALL ARRAYCREATE_FLOAT VLV_BNORMARRAY_31
    MOVEF_F 0.0 VLV_J_31
    CALL ARRAYCREATE_FLOAT VLV_RGB_31
    MOVEF_F 0.0 VLV_RRAW_31
    MOVEF_F 0.0 VLV_GRAW_31
    MOVEF_F 0.0 VLV_BRAW_31
    MOVEF_F 0.0 VLV_RNORM_31
    MOVEF_F 0.0 VLV_GNORM_31
    MOVEF_F 0.0 VLV_BNORM_31
    MOVEF_F 0.0 VLV_MAX_31
    MOVEF_F 0.0 VLV_MIN_31
    MOVEF_F 0.0 VLV_RGBGREY_31
    MOVE32_32 0 RUNCOUNTER_F_CONTROLBRAZO_0
    MOVE32_32 0 RUNCOUNTER_F_DETECTA_0
    ARRAY CREATE8 1 LOCKS
    CALL PROGRAM_MAIN -1
    PROGRAM_STOP -1
}
vmthread TF_CONTROLBRAZO_0
{
    DATA32 tmp
  launch:
    CALL PROGRAM_F_CONTROLBRAZO_0 0
    CALL GETANDINC32 RUNCOUNTER_F_CONTROLBRAZO_0 -1 RUNCOUNTER_F_CONTROLBRAZO_0 tmp
    JR_GT32 tmp 1 launch
}
vmthread TF_DETECTA_0
{
    DATA32 tmp
  launch:
    CALL PROGRAM_F_DETECTA_0 1
    CALL GETANDINC32 RUNCOUNTER_F_DETECTA_0 -1 RUNCOUNTER_F_DETECTA_0 tmp
    JR_GT32 tmp 1 launch
}
subcall PROGRAM_MAIN
subcall PROGRAM_F_CONTROLBRAZO_0
subcall PROGRAM_F_DETECTA_0
{
    IN_32 SUBPROGRAM
    DATA32 INDEX
    ARRAY8 STACKPOINTER 4
    DATAF F.0
    DATAF F.1
    DATAF F.2
    DATAF F.3
    DATAF F.4
    ARRAY32 RETURNSTACK2 128
    ARRAY32 RETURNSTACK 128
    DATAS S.0 252
    DATAS S.1 252
    MOVE8_8 0 STACKPOINTER
    JR_NEQ32 SUBPROGRAM 0 dispatch972
    WRITE32 ENDSUB_F_CONTROLBRAZO_0:ENDTHREAD STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_CONTROLBRAZO_0
  dispatch972:
    JR_NEQ32 SUBPROGRAM 1 dispatch973
    WRITE32 ENDSUB_F_DETECTA_0:ENDTHREAD STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_DETECTA_0
  dispatch973:
    MOVEF_F 0.0 VPR_GIRO_G1
    MOVEF_F 0.0 VPR_RGB_VALUENEGRO
    MOVEF_F 0.0 VPR_RGB_VALUEBLANCO
    MOVEF_F 0.0 VPR_RECTO_DIAMETRO
    MOVEF_F 0.0 VPR_GIRO_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_DIAMETRO
    MOVEF_F 0.0 VPR_SMART_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO4
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO4
    MOVEF_F 0.0 VPR_SMART_NEGRO1
    MOVEF_F 0.0 VPR_SMART_NEGRO3
    MOVEF_F 0.0 VPR_SMART_NEGRO4
    MOVEF_F 0.0 VPR_SMART_BLANCO1
    MOVEF_F 0.0 VPR_SMART_BLANCO3
    MOVEF_F 0.0 VPR_SMART_BLANCO4
    MOVEF_F 0.0 VPR_RECTO_NEGRO
    MOVEF_F 0.0 VPR_RECTO_BLANCO
    MOVEF_F 0.0 VPR_GIRO_NEGRO
    MOVEF_F 0.0 VPR_GIRO_BLANCO
    MOVEF_F 0.0 VPR_RGB_RWHITE
    MOVEF_F 0.0 VPR_RGB_GWHITE
    MOVEF_F 0.0 VPR_RGB_BWHITE
    MOVEF_F 0.0 VLV_VELOCIDAD_9
    MOVEF_F 0.0 VLV_TIMER_9
    MOVEF_F 0.0 VLV_VELOCIDAD_4
    MOVEF_F 0.0 VLV_ENCODER_4
    MOVEF_F 0.0 VLV_VELOCIDAD_10
    MOVEF_F 0.0 VLV_ENCODER_10
    MOVEF_F 0.0 VLV_VELOCIDAD_11
    MOVEF_F 0.0 VLV_TIEMPO_11
    MOVEF_F 0.0 VLV_VELOCIDAD_12
    MOVEF_F 0.0 VLV_DISTANCIA_12
    MOVEF_F 0.0 VLV_VELOCIDAD1_19
    MOVEF_F 0.0 VLV_VELOCIDAD2_19
    MOVEF_F 0.0 VLV_GRADOS_19
    MOVEF_F 0.0 VLV_V0_13
    MOVEF_F 0.0 VLV_VMAX_13
    MOVEF_F 0.0 VLV_DISTANCIAACCEL_13
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_13
    MOVEF_F 0.0 VLV_DISTANCIADECEL_13
    MOVEF_F 0.0 VLV_VELOCIDAD1_20
    MOVEF_F 0.0 VLV_VELOCIDAD2_20
    MOVEF_F 0.0 VLV_TIEMPO_20
    MOVEF_F 0.0 VLV_V0_14
    MOVEF_F 0.0 VLV_VMAX_14
    MOVEF_F 0.0 VLV_DISTANCIAACCEL_14
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_14
    MOVEF_F 0.0 VLV_DISTANCIADECEL_14
    MOVEF_F 0.0 VLV_VELOCIDAD_15
    MOVEF_F 0.0 VLV_DISTANCIA_15
    MOVEF_F 0.0 VLV_VELOCIDAD_16
    MOVEF_F 0.0 VLV_SENSOR_16
    MOVEF_F 0.0 VLV_VELOCIDAD_25
    MOVEF_F 0.0 VLV_ENCODER_25
    MOVEF_F 0.0 VLV_VELOCIDAD_26
    MOVEF_F 0.0 VLV_READER_26
    MOVEF_F 0.0 VLV_VELOCIDAD_27
    MOVEF_F 0.0 VLV_ENCODER_27
    MOVEF_F 0.0 VLV_VELOCIDAD1_21
    MOVEF_F 0.0 VLV_VELOCIDAD2_21
    MOVEF_F 0.0 VLV_GRADOS_21
    MOVEF_F 0.0 VLV_VELOCIDAD_17
    MOVEF_F 0.0 VLV_SENSOR_17
    MOVEF_F 0.0 VLV_COLOR_17
    MOVEF_F 0.0 VLV_VELOCIDAD1_22
    MOVEF_F 0.0 VLV_VELOCIDAD2_22
    MOVEF_F 0.0 VLV_DISTANCIA_22
    MOVEF_F 0.0 VLV_VELOCIDAD1_23
    MOVEF_F 0.0 VLV_VELOCIDAD2_23
    MOVEF_F 0.0 VLV_SENS_23
    MOVEF_F 0.0 VLV_COLOR_23
    MOVEF_F 0.0 VLV_VELOCIDAD1_24
    MOVEF_F 0.0 VLV_VELOCIDAD2_24
    MOVEF_F 0.0 VLV_DISTANCIA_24
    MOVEF_F 0.0 VLV_VELOCIDAD_28
    MOVEF_F 0.0 VLV_ENCODER_28
    MOVEF_F 0.0 VLV_ALTURA_3
    MOVEF_F 0.0 VLV_VELOCIDAD_29
    MOVEF_F 0.0 VLV_COLOR_29
    MOVEF_F 0.0 VLV_VELOCIDAD_18
    MOVEF_F 0.0 VLV_SENSOR_18
    MOVEF_F 0.0 VLV_COLOR_18
    MOVEF_F 0.0 VLV_VELOCIDAD_30
    MOVEF_F 0.0 VLV_COLOR_30
    MOVEF_F 0.0 VLV_SENS_31
    MOVEF_F 0.0 VLV_REPS_31
    MOVEF_F 0.0 VLV_COLOR_31
    MOVEF_F 0.0 VLV_COLOR_32
    MOVEF_F 0.0 VLV_NUMERO_7
    MOVEF_F 0.0 VGV_COLOR
    MOVEF_F 0.0 VGV_ENCODERA
    MOVEF_F 0.0 VGV_ENCODERD
    MOVEF_F 0.0 VGV_ERRORA
    MOVEF_F 0.0 VGV_OLDERRORA
    MOVEF_F 0.0 VGV_ERRORD
    MOVEF_F 0.0 VGV_OLDERRORD
    MOVEF_F 0.0 VGV_DIAMETRO
    MOVEF_F 0.0 VGV_NEGRO1
    MOVEF_F 0.0 VGV_NEGRO3
    MOVEF_F 0.0 VGV_NEGRO4
    MOVEF_F 0.0 VGV_BLANCO1
    MOVEF_F 0.0 VGV_BLANCO3
    MOVEF_F 0.0 VGV_BLANCO4
    MOVEF_F 0.0 VGV_TIEMPOHASTACRUCE
    MOVEF_F 0.0 VGV_I
    MOVEF_F 0.0 VGV_ENCODERA
    MOVEF_F 0.0 VGV_ENCODERD
    MOVEF_F 0.0 VGV_ERRORA
    MOVEF_F 0.0 VGV_OLDERRORA
    MOVEF_F 0.0 VGV_ERRORD
    MOVEF_F 0.0 VGV_OLDERRORD
    WRITE32 ENDSUB_F_SETUP_0:CALLSUB0 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SETUP_0
CALLSUB0:
    DATA32 tmp1
    CALL GETANDINC32 RUNCOUNTER_F_CONTROLBRAZO_0 1  RUNCOUNTER_F_CONTROLBRAZO_0 tmp1
    JR_NEQ32 0 tmp1 alreadylaunched1
    OBJECT_START TF_CONTROLBRAZO_0
  alreadylaunched1:
    WRITE32 ENDSUB_F_MAIN_0:CALLSUB2 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_MAIN_0
CALLSUB2:
ENDTHREAD:
    RETURN
SUB_F_SETUP_0:
    DATA8 layer3
	DATA8 no3
	DATA8 mode83
	
	MOVEF_8 1.0 no3
	SUB8 no3 1 no3
	DIV8 no3 4 layer3
	MATH MOD8 no3 4 no3

	MOVEF_8 0.0 mode83
	
	INPUT_DEVICE READY_RAW layer3 no3 0 mode83 0
    DATA8 layer4
	DATA8 no4
	DATA8 mode84
	
	MOVEF_8 2.0 no4
	SUB8 no4 1 no4
	DIV8 no4 4 layer4
	MATH MOD8 no4 4 no4

	MOVEF_8 2.0 mode84
	
	INPUT_DEVICE READY_RAW layer4 no4 0 mode84 0
    DATA8 layer5
	DATA8 no5
	DATA8 mode85
	
	MOVEF_8 3.0 no5
	SUB8 no5 1 no5
	DIV8 no5 4 layer5
	MATH MOD8 no5 4 no5

	MOVEF_8 0.0 mode85
	
	INPUT_DEVICE READY_RAW layer5 no5 0 mode85 0
    DATA8 layer6
	DATA8 no6
	DATA8 mode86
	
	MOVEF_8 4.0 no6
	SUB8 no6 1 no6
	DIV8 no6 4 layer6
	MATH MOD8 no6 4 no6

	MOVEF_8 0.0 mode86
	
	INPUT_DEVICE READY_RAW layer6 no6 0 mode86 0
    MOVEF_F 6.24 VGV_DIAMETRO
    MOVEF_F 2.68055555555556 VPR_GIRO_G1
    MOVEF_F 10.0 VGV_NEGRO1
    MOVEF_F 10.0 VGV_NEGRO3
    MOVEF_F 8.0 VGV_NEGRO4
    MOVEF_F 76.0 VGV_BLANCO1
    MOVEF_F 76.0 VGV_BLANCO3
    MOVEF_F 61.0 VGV_BLANCO4
    MOVEF_F 4.0 VPR_RGB_VALUENEGRO
    MOVEF_F 52.0 VPR_RGB_VALUEBLANCO
    MOVEF_F VGV_DIAMETRO VPR_RECTO_DIAMETRO
    MOVEF_F VGV_DIAMETRO VPR_GIRO_DIAMETRO
    MOVEF_F VGV_DIAMETRO VPR_SIGUELINEAS_DIAMETRO
    MOVEF_F VGV_DIAMETRO VPR_SMART_DIAMETRO
    MOVEF_F VGV_NEGRO1 VPR_SIGUELINEAS_NEGRO1
    MOVEF_F VGV_NEGRO3 VPR_SIGUELINEAS_NEGRO3
    MOVEF_F VGV_NEGRO4 VPR_SIGUELINEAS_NEGRO4
    MOVEF_F VGV_BLANCO1 VPR_SIGUELINEAS_BLANCO1
    MOVEF_F VGV_BLANCO3 VPR_SIGUELINEAS_BLANCO3
    MOVEF_F VGV_BLANCO4 VPR_SIGUELINEAS_BLANCO4
    MOVEF_F VGV_NEGRO1 VPR_SMART_NEGRO1
    MOVEF_F VGV_NEGRO3 VPR_SMART_NEGRO3
    MOVEF_F VGV_NEGRO4 VPR_SMART_NEGRO4
    MOVEF_F VGV_BLANCO1 VPR_SMART_BLANCO1
    MOVEF_F VGV_BLANCO3 VPR_SMART_BLANCO3
    MOVEF_F VGV_BLANCO4 VPR_SMART_BLANCO4
    ADDF VGV_NEGRO1 VGV_NEGRO3 F.1
    ADDF F.1 VGV_NEGRO4 F.0
    DATAF tmpf9
    DATA8 flag9
    DIVF F.0 3.0 tmpf9
    CP_EQF 0.0 3.0 flag9
    SELECTF flag9 0.0 tmpf9 VPR_RECTO_NEGRO

    ADDF VGV_BLANCO1 VGV_BLANCO3 F.1
    ADDF F.1 VGV_BLANCO4 F.0
    DATAF tmpf12
    DATA8 flag12
    DIVF F.0 3.0 tmpf12
    CP_EQF 0.0 3.0 flag12
    SELECTF flag12 0.0 tmpf12 VPR_RECTO_BLANCO

    ADDF VGV_NEGRO1 VGV_NEGRO3 F.1
    ADDF F.1 VGV_NEGRO4 F.0
    DATAF tmpf15
    DATA8 flag15
    DIVF F.0 3.0 tmpf15
    CP_EQF 0.0 3.0 flag15
    SELECTF flag15 0.0 tmpf15 VPR_GIRO_NEGRO

    ADDF VGV_BLANCO1 VGV_BLANCO3 F.1
    ADDF F.1 VGV_BLANCO4 F.0
    DATAF tmpf18
    DATA8 flag18
    DIVF F.0 3.0 tmpf18
    CP_EQF 0.0 3.0 flag18
    SELECTF flag18 0.0 tmpf18 VPR_GIRO_BLANCO

RETSUB_F_SETUP_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SETUP_0:
SUB_F_STARTARM_0:
    MOVEF_F -50.0 VLV_VELOCIDAD_9
    MOVEF_F 800.0 VLV_TIMER_9
    WRITE32 ENDSUB_M_BRAZO_DTIMER_2:CALLSUB19 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DTIMER_2
CALLSUB19:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -1300.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB20 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB20:
    MOVEF_F 0.0 VGV_ENCODERA
    OUTPUT_CLR_COUNT 0 1
    OUTPUT_CLR_COUNT 0 8
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F 650.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB23 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB23:
    OUTPUT_CLR_COUNT 0 1
    OUTPUT_CLR_COUNT 0 8
    MOVEF_F 0.0 VGV_ENCODERA
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 80.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB26 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB26:
RETSUB_F_STARTARM_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_STARTARM_0:
SUB_F_MAIN_0:
    WRITE32 ENDSUB_F_GRITARVOLTAJE_0:CALLSUB27 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARVOLTAJE_0
CALLSUB27:
    WRITE32 ENDSUB_F_STARTARM_0:CALLSUB28 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_STARTARM_0
CALLSUB28:
    MOVEF_F -80.0 VLV_VELOCIDAD_11
    MOVEF_F 600.0 VLV_TIEMPO_11
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB29 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB29:
    MOVEF_F 55.0 VLV_VELOCIDAD_12
    MOVEF_F 4.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB30 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB30:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 320.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB31 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB31:
    MOVEF_F 63.0 VLV_VELOCIDAD1_19
    MOVEF_F -18.9 VLV_VELOCIDAD2_19
    MOVEF_F 102.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB32 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB32:
    MOVEF_F 15.0 VLV_V0_13
    MOVEF_F 30.0 VLV_VMAX_13
    MOVEF_F 3.5 VLV_DISTANCIAACCEL_13
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_13
    MOVEF_F 3.5 VLV_DISTANCIADECEL_13
    WRITE32 ENDSUB_M_RECTO_ACCELDECEL_5:CALLSUB33 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ACCELDECEL_5
CALLSUB33:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F -20.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB34 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB34:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -200.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB35 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB35:
    WRITE32 ENDSUB_F_COGER_0:CALLSUB36 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COGER_0
CALLSUB36:
    MOVEF_F -60.0 VLV_VELOCIDAD_12
    MOVEF_F 14.5 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB37 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB37:
    MOVEF_F 60.0 VLV_VELOCIDAD_10
    MOVEF_F 200.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB38 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB38:
    MOVEF_F -80.0 VLV_VELOCIDAD1_19
    MOVEF_F 40.0 VLV_VELOCIDAD2_19
    MOVEF_F 105.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB39 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB39:
    MOVEF_F -80.0 VLV_VELOCIDAD1_20
    MOVEF_F -20.0 VLV_VELOCIDAD2_20
    MOVEF_F 800.0 VLV_TIEMPO_20
    WRITE32 ENDSUB_M_GIRO_TIEMPO_3:CALLSUB40 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_TIEMPO_3
CALLSUB40:
    MOVEF_F 15.0 VLV_V0_14
    MOVEF_F 89.0 VLV_VMAX_14
    MOVEF_F 10.0 VLV_DISTANCIAACCEL_14
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_14
    MOVEF_F 0.0 VLV_DISTANCIADECEL_14
    WRITE32 ENDSUB_M_RECTO_ACCELDECELF_5:CALLSUB41 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ACCELDECELF_5
CALLSUB41:
    MOVEF_F 89.0 VLV_VELOCIDAD_15
    MOVEF_F 52.0 VLV_DISTANCIA_15
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB42 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB42:
    MOVEF_F 50.0 VLV_VELOCIDAD_16
    MOVEF_F 3.0 VLV_SENSOR_16
    WRITE32 ENDSUB_M_RECTO_BLANCO1F_2:CALLSUB43 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_BLANCO1F_2
CALLSUB43:
    MOVEF_F 45.0 VLV_VELOCIDAD1_19
    MOVEF_F -18.0 VLV_VELOCIDAD2_19
    MOVEF_F 95.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB44 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB44:
    TIMER_READ timeMC1
    MOVEF_F 80.0 VLV_VELOCIDAD_25
    MOVEF_F 8.0 VLV_ENCODER_25
    WRITE32 ENDSUB_M_SMART_ENCODER31F_2:CALLSUB46 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SMART_ENCODER31F_2
CALLSUB46:
    MOVEF_F 80.0 VLV_VELOCIDAD_26
    MOVEF_F 4.0 VLV_READER_26
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:CALLSUB47 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2
CALLSUB47:
    TIMER_READ timeMC1tmp
	SUB32 timeMC1tmp timeMC1 timeMC1tmp
	MOVE32_F timeMC1tmp VGV_TIEMPOHASTACRUCE
    JR_LTEQF VGV_TIEMPOHASTACRUCE 1400.0 else49_1
    MOVEF_F 80.0 VLV_VELOCIDAD_27
    MOVEF_F 5.0 VLV_ENCODER_27
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB50 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB50:
    MOVEF_F 80.0 VLV_VELOCIDAD_12
    MOVEF_F 23.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB51 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB51:
    MOVEF_F 30.0 VLV_VELOCIDAD1_19
    MOVEF_F -27.0 VLV_VELOCIDAD2_19
    MOVEF_F 86.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB52 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB52:
    MOVEF_F 50.0 VLV_VELOCIDAD_15
    MOVEF_F 20.0 VLV_DISTANCIA_15
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB53 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB53:
    MOVEF_F -50.0 VLV_VELOCIDAD_11
    MOVEF_F 1500.0 VLV_TIEMPO_11
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB54 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB54:
    MOVEF_F 50.0 VLV_VELOCIDAD_12
    MOVEF_F 6.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB55 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB55:
    MOVEF_F -60.0 VLV_VELOCIDAD1_19
    MOVEF_F 60.0 VLV_VELOCIDAD2_19
    MOVEF_F 105.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB56 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB56:
    MOVEF_F 70.0 VLV_VELOCIDAD_15
    MOVEF_F 40.0 VLV_DISTANCIA_15
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB57 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB57:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 650.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB58 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB58:
    MOVEF_F -60.0 VLV_VELOCIDAD_12
    MOVEF_F 10.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB59 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB59:
    MOVEF_F 50.0 VLV_VELOCIDAD1_21
    MOVEF_F -20.0 VLV_VELOCIDAD2_21
    MOVEF_F 205.0 VLV_GRADOS_21
    WRITE32 ENDSUB_M_GIRO_GRADOSF_3:CALLSUB60 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOSF_3
CALLSUB60:
    MOVEF_F 55.0 VLV_VELOCIDAD_12
    MOVEF_F 15.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB61 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB61:
    MOVEF_F 30.0 VLV_VELOCIDAD_17
    MOVEF_F 3.0 VLV_SENSOR_17
    MOVEF_F 5.0 VLV_COLOR_17
    WRITE32 ENDSUB_M_RECTO_COLOR1_3:CALLSUB62 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_COLOR1_3
CALLSUB62:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F 2.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB63 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB63:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 260.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB64 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB64:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F 0.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB65 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB65:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F -10.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB66 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB66:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -150.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB67 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB67:
    MOVEF_F 0.0 VGV_I
  for68:
    JR_GTF VGV_I 2.0 endfor68
  forbody68:
    WRITE32 ENDSUB_F_COGER_0:CALLSUB69 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COGER_0
CALLSUB69:
    ADDF VGV_I 1.0 VGV_I
    JR_LTEQF VGV_I 2.0 forbody68
  endfor68:
    MOVEF_F 52.75 VLV_VELOCIDAD1_19
    MOVEF_F 81.25 VLV_VELOCIDAD2_19
    MOVEF_F 90.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB71 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB71:
    MOVEF_F 15.0 VLV_V0_14
    MOVEF_F 89.0 VLV_VMAX_14
    MOVEF_F 8.0 VLV_DISTANCIAACCEL_14
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_14
    MOVEF_F 0.0 VLV_DISTANCIADECEL_14
    WRITE32 ENDSUB_M_RECTO_ACCELDECELF_5:CALLSUB72 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ACCELDECELF_5
CALLSUB72:
    MOVEF_F 89.0 VLV_VELOCIDAD_12
    MOVEF_F 28.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB73 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB73:
    MOVEF_F -40.0 VLV_VELOCIDAD1_19
    MOVEF_F 40.0 VLV_VELOCIDAD2_19
    MOVEF_F 250.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB74 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB74:
    MOVEF_F -65.0 VLV_VELOCIDAD_11
    MOVEF_F 1000.0 VLV_TIEMPO_11
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB75 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB75:
    MOVEF_F 20.0 VLV_VELOCIDAD_12
    MOVEF_F 3.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB76 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB76:
    MOVEF_F 50.0 VLV_VELOCIDAD1_19
    MOVEF_F -18.0 VLV_VELOCIDAD2_19
    MOVEF_F 115.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB77 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB77:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 400.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB78 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB78:
    MOVEF_F 30.0 VLV_VELOCIDAD1_22
    MOVEF_F 25.0 VLV_VELOCIDAD2_22
    MOVEF_F 8.0 VLV_DISTANCIA_22
    WRITE32 ENDSUB_M_GIRO_ENCODERF_3:CALLSUB79 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODERF_3
CALLSUB79:
    MOVEF_F 23.0 VLV_VELOCIDAD1_23
    MOVEF_F 20.0 VLV_VELOCIDAD2_23
    MOVEF_F 4.0 VLV_SENS_23
    MOVEF_F 5.0 VLV_COLOR_23
    WRITE32 ENDSUB_M_GIRO_COLOR1_4:CALLSUB80 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_COLOR1_4
CALLSUB80:
    DATA32 tmp81
    CALL GETANDINC32 RUNCOUNTER_F_DETECTA_0 1  RUNCOUNTER_F_DETECTA_0 tmp81
    JR_NEQ32 0 tmp81 alreadylaunched81
    OBJECT_START TF_DETECTA_0
  alreadylaunched81:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 350.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB82 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB82:
    MOVEF_F 15.0 VLV_V0_13
    MOVEF_F 30.0 VLV_VMAX_13
    MOVEF_F 11.5 VLV_DISTANCIAACCEL_13
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_13
    MOVEF_F 0.0 VLV_DISTANCIADECEL_13
    WRITE32 ENDSUB_M_RECTO_ACCELDECEL_5:CALLSUB83 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ACCELDECEL_5
CALLSUB83:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 240.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB84 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB84:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F 0.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB85 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB85:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F -10.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB86 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB86:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -150.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB87 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB87:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 350.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB88 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB88:
    WRITE32 ENDSUB_F_COGER_0:CALLSUB89 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COGER_0
CALLSUB89:
    MOVEF_F 60.0 VLV_VELOCIDAD_10
    MOVEF_F 400.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB90 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB90:
    MOVEF_F 0.0 VLV_VELOCIDAD1_24
    MOVEF_F 30.0 VLV_VELOCIDAD2_24
    MOVEF_F 5.0 VLV_DISTANCIA_24
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB91 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB91:
    MOVEF_F -50.0 VLV_VELOCIDAD1_19
    MOVEF_F 20.0 VLV_VELOCIDAD2_19
    MOVEF_F 40.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB92 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB92:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F 3.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB93 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB93:
    MOVEF_F -50.0 VLV_VELOCIDAD1_19
    MOVEF_F 20.0 VLV_VELOCIDAD2_19
    MOVEF_F 85.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB94 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB94:
    MOVEF_F -40.0 VLV_VELOCIDAD1_20
    MOVEF_F -20.0 VLV_VELOCIDAD2_20
    MOVEF_F 800.0 VLV_TIEMPO_20
    WRITE32 ENDSUB_M_GIRO_TIEMPO_3:CALLSUB95 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_TIEMPO_3
CALLSUB95:
    MOVEF_F 50.0 VLV_VELOCIDAD1_19
    MOVEF_F 20.0 VLV_VELOCIDAD2_19
    MOVEF_F 30.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB96 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB96:
    MOVEF_F 20.0 VLV_VELOCIDAD1_19
    MOVEF_F 50.0 VLV_VELOCIDAD2_19
    MOVEF_F 30.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB97 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB97:
    MOVEF_F 20.0 VLV_VELOCIDAD_28
    MOVEF_F 13.0 VLV_ENCODER_28
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB98 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB98:
    MOVEF_F 10.0 VLV_VELOCIDAD1_24
    MOVEF_F 40.0 VLV_VELOCIDAD2_24
    MOVEF_F 6.0 VLV_DISTANCIA_24
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB99 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB99:
    MOVEF_F 4.0 VLV_ALTURA_3
    WRITE32 ENDSUB_F_SOLTAR_1:CALLSUB100 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SOLTAR_1
CALLSUB100:
    MOVEF_F 0.0 VLV_VELOCIDAD1_19
    MOVEF_F -60.0 VLV_VELOCIDAD2_19
    MOVEF_F 90.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB101 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB101:
    MOVEF_F 50.0 VLV_VELOCIDAD_12
    MOVEF_F 32.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB102 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB102:
    MOVEF_F -30.0 VLV_VELOCIDAD1_19
    MOVEF_F 30.0 VLV_VELOCIDAD2_19
    MOVEF_F 102.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB103 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB103:
    MOVEF_F 50.0 VLV_VELOCIDAD_12
    MOVEF_F 16.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB104 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB104:
    MOVEF_F 4.0 VLV_ALTURA_3
    WRITE32 ENDSUB_F_SOLTAR_1:CALLSUB105 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SOLTAR_1
CALLSUB105:
    MOVEF_F -60.0 VLV_VELOCIDAD1_19
    MOVEF_F 22.0 VLV_VELOCIDAD2_19
    MOVEF_F 100.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB106 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB106:
    MOVEF_F 70.0 VLV_VELOCIDAD_29
    MOVEF_F 5.0 VLV_COLOR_29
    WRITE32 ENDSUB_M_SIGUELINEAS_COLOR31_2:CALLSUB107 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_COLOR31_2
CALLSUB107:
    MOVEF_F 8.0 VLV_VELOCIDAD1_19
    MOVEF_F 20.0 VLV_VELOCIDAD2_19
    MOVEF_F 44.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB108 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB108:
    MOVEF_F 20.0 VLV_VELOCIDAD1_19
    MOVEF_F 8.0 VLV_VELOCIDAD2_19
    MOVEF_F 44.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB109 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB109:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 600.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB110 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB110:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F 9.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB111 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB111:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 400.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB112 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB112:
    WRITE32 ENDSUB_F_COGERALTO_0:CALLSUB113 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COGERALTO_0
CALLSUB113:
    MOVEF_F 40.0 VLV_VELOCIDAD1_19
    MOVEF_F -40.0 VLV_VELOCIDAD2_19
    MOVEF_F 90.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB114 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB114:
    MOVEF_F -60.0 VLV_VELOCIDAD_15
    MOVEF_F 15.0 VLV_DISTANCIA_15
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB115 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB115:
    MOVEF_F -40.0 VLV_VELOCIDAD_11
    MOVEF_F 500.0 VLV_TIEMPO_11
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB116 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB116:
    MOVEF_F 40.0 VLV_VELOCIDAD_12
    MOVEF_F 35.5 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB117 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB117:
    MOVEF_F -20.0 VLV_VELOCIDAD1_19
    MOVEF_F 40.0 VLV_VELOCIDAD2_19
    MOVEF_F 95.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB118 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB118:
    MOVEF_F 40.0 VLV_VELOCIDAD_12
    MOVEF_F 15.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB119 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB119:
    MOVEF_F 0.0 VLV_VELOCIDAD1_19
    MOVEF_F 15.0 VLV_VELOCIDAD2_19
    MOVEF_F 14.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB120 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB120:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 320.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB121 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB121:
    MOVEF_F 10.0 VLV_VELOCIDAD_12
    MOVEF_F 11.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB122 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB122:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 800.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB123 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB123:
    MOVEF_F 30.0 VLV_VELOCIDAD1_19
    MOVEF_F -40.0 VLV_VELOCIDAD2_19
    MOVEF_F 50.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB124 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB124:
    MOVEF_F -30.0 VLV_VELOCIDAD1_19
    MOVEF_F 40.0 VLV_VELOCIDAD2_19
    MOVEF_F 50.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB125 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB125:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 320.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB126 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB126:
    MOVEF_F -10.0 VLV_VELOCIDAD_12
    MOVEF_F 11.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB127 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB127:
    JR endif49
  else49_1:
    MOVEF_F 85.0 VLV_VELOCIDAD_27
    MOVEF_F 30.0 VLV_ENCODER_27
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB128 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB128:
    MOVEF_F 50.0 VLV_VELOCIDAD_12
    MOVEF_F 15.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB129 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB129:
    MOVEF_F 50.0 VLV_VELOCIDAD1_19
    MOVEF_F -10.0 VLV_VELOCIDAD2_19
    MOVEF_F 92.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB130 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB130:
    MOVEF_F 40.0 VLV_VELOCIDAD_12
    MOVEF_F 12.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB131 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB131:
    MOVEF_F -45.0 VLV_VELOCIDAD1_24
    MOVEF_F -80.0 VLV_VELOCIDAD2_24
    MOVEF_F 21.0 VLV_DISTANCIA_24
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB132 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB132:
    MOVEF_F -80.0 VLV_VELOCIDAD1_24
    MOVEF_F -45.0 VLV_VELOCIDAD2_24
    MOVEF_F 21.0 VLV_DISTANCIA_24
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB133 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB133:
    MOVEF_F -40.0 VLV_VELOCIDAD_11
    MOVEF_F 400.0 VLV_TIEMPO_11
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB134 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB134:
    MOVEF_F 20.0 VLV_VELOCIDAD_12
    MOVEF_F 2.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB135 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB135:
    MOVEF_F 50.0 VLV_VELOCIDAD1_19
    MOVEF_F -18.0 VLV_VELOCIDAD2_19
    MOVEF_F 100.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB136 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB136:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 400.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB137 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB137:
    MOVEF_F 20.0 VLV_VELOCIDAD_18
    MOVEF_F 4.0 VLV_SENSOR_18
    MOVEF_F 5.0 VLV_COLOR_18
    WRITE32 ENDSUB_M_RECTO_COLOR1F_3:CALLSUB138 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_COLOR1F_3
CALLSUB138:
    MOVEF_F 20.0 VLV_VELOCIDAD_12
    MOVEF_F 2.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB139 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB139:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 260.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB140 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB140:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F 0.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB141 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB141:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F -10.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB142 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB142:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -150.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB143 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB143:
    MOVEF_F 0.0 VGV_I
  for144:
    JR_GTF VGV_I 2.0 endfor144
  forbody144:
    WRITE32 ENDSUB_F_COGER_0:CALLSUB145 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COGER_0
CALLSUB145:
    ADDF VGV_I 1.0 VGV_I
    JR_LTEQF VGV_I 2.0 forbody144
  endfor144:
    MOVEF_F 0.0 VLV_VELOCIDAD1_19
    MOVEF_F 60.0 VLV_VELOCIDAD2_19
    MOVEF_F 38.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB147 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB147:
    MOVEF_F 80.0 VLV_VELOCIDAD_12
    MOVEF_F 111.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB148 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB148:
    MOVEF_F 30.0 VLV_VELOCIDAD1_19
    MOVEF_F 20.0 VLV_VELOCIDAD2_19
    MOVEF_F 20.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB149 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB149:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 700.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB150 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB150:
    MOVEF_F -25.0 VLV_VELOCIDAD1_19
    MOVEF_F -60.0 VLV_VELOCIDAD2_19
    MOVEF_F 130.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB151 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB151:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 50.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB152 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB152:
    MOVEF_F -70.0 VLV_VELOCIDAD_11
    MOVEF_F 500.0 VLV_TIEMPO_11
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB153 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB153:
    MOVEF_F 50.0 VLV_VELOCIDAD_12
    MOVEF_F 4.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB154 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB154:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 350.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB155 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB155:
    MOVEF_F 50.0 VLV_VELOCIDAD1_20
    MOVEF_F -15.0 VLV_VELOCIDAD2_20
    MOVEF_F 1100.0 VLV_TIEMPO_20
    WRITE32 ENDSUB_M_GIRO_TIEMPO_3:CALLSUB156 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_TIEMPO_3
CALLSUB156:
    MOVEF_F 30.0 VLV_VELOCIDAD1_22
    MOVEF_F 27.0 VLV_VELOCIDAD2_22
    MOVEF_F 7.0 VLV_DISTANCIA_22
    WRITE32 ENDSUB_M_GIRO_ENCODERF_3:CALLSUB157 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODERF_3
CALLSUB157:
    MOVEF_F 30.0 VLV_VELOCIDAD1_23
    MOVEF_F 20.0 VLV_VELOCIDAD2_23
    MOVEF_F 4.0 VLV_SENS_23
    MOVEF_F 5.0 VLV_COLOR_23
    WRITE32 ENDSUB_M_GIRO_COLOR1_4:CALLSUB158 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_COLOR1_4
CALLSUB158:
    DATA32 tmp159
    CALL GETANDINC32 RUNCOUNTER_F_DETECTA_0 1  RUNCOUNTER_F_DETECTA_0 tmp159
    JR_NEQ32 0 tmp159 alreadylaunched159
    OBJECT_START TF_DETECTA_0
  alreadylaunched159:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 350.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB160 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB160:
    MOVEF_F 15.0 VLV_V0_13
    MOVEF_F 30.0 VLV_VMAX_13
    MOVEF_F 8.0 VLV_DISTANCIAACCEL_13
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_13
    MOVEF_F 0.0 VLV_DISTANCIADECEL_13
    WRITE32 ENDSUB_M_RECTO_ACCELDECEL_5:CALLSUB161 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ACCELDECEL_5
CALLSUB161:
    MOVEF_F 30.0 VLV_VELOCIDAD1_22
    MOVEF_F 27.0 VLV_VELOCIDAD2_22
    MOVEF_F 16.0 VLV_DISTANCIA_22
    WRITE32 ENDSUB_M_GIRO_ENCODERF_3:CALLSUB162 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODERF_3
CALLSUB162:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 240.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB163 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB163:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F 0.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB164 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB164:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F -10.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB165 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB165:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -150.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB166 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB166:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 350.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB167 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB167:
    WRITE32 ENDSUB_F_COGER_0:CALLSUB168 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COGER_0
CALLSUB168:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 10.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB169 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB169:
    MOVEF_F -30.0 VLV_VELOCIDAD1_24
    MOVEF_F -35.0 VLV_VELOCIDAD2_24
    MOVEF_F 22.5 VLV_DISTANCIA_24
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB170 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB170:
    MOVEF_F -10.0 VLV_VELOCIDAD1_19
    MOVEF_F 40.0 VLV_VELOCIDAD2_19
    MOVEF_F 105.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB171 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB171:
    MOVEF_F -30.0 VLV_VELOCIDAD_11
    MOVEF_F 800.0 VLV_TIEMPO_11
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB172 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB172:
    MOVEF_F 49.0 VLV_VELOCIDAD1_24
    MOVEF_F 50.0 VLV_VELOCIDAD2_24
    MOVEF_F 39.0 VLV_DISTANCIA_24
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB173 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB173:
    MOVEF_F 4.0 VLV_ALTURA_3
    WRITE32 ENDSUB_F_SOLTAR_1:CALLSUB174 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SOLTAR_1
CALLSUB174:
    MOVEF_F -40.0 VLV_VELOCIDAD1_24
    MOVEF_F -5.0 VLV_VELOCIDAD2_24
    MOVEF_F 7.0 VLV_DISTANCIA_24
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB175 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB175:
    MOVEF_F -35.0 VLV_VELOCIDAD1_19
    MOVEF_F 35.0 VLV_VELOCIDAD2_19
    MOVEF_F 42.5 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB176 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB176:
    MOVEF_F 50.0 VLV_VELOCIDAD_12
    MOVEF_F 12.5 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB177 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB177:
    MOVEF_F 4.0 VLV_ALTURA_3
    WRITE32 ENDSUB_F_SOLTAR_1:CALLSUB178 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SOLTAR_1
CALLSUB178:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 10.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB179 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB179:
    MOVEF_F -40.0 VLV_VELOCIDAD_12
    MOVEF_F 8.5 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB180 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB180:
    MOVEF_F -30.0 VLV_VELOCIDAD1_19
    MOVEF_F 30.0 VLV_VELOCIDAD2_19
    MOVEF_F 42.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB181 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB181:
    MOVEF_F -30.0 VLV_VELOCIDAD_12
    MOVEF_F 22.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB182 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB182:
    MOVEF_F 20.0 VLV_VELOCIDAD_27
    MOVEF_F 5.0 VLV_ENCODER_27
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB183 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB183:
    MOVEF_F 70.0 VLV_VELOCIDAD_30
    MOVEF_F 5.0 VLV_COLOR_30
    WRITE32 ENDSUB_M_SIGUELINEAS_COLOR31F_2:CALLSUB184 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_COLOR31F_2
CALLSUB184:
    DATA32 tmp185
    CALL GETANDINC32 RUNCOUNTER_F_DETECTA_0 1  RUNCOUNTER_F_DETECTA_0 tmp185
    JR_NEQ32 0 tmp185 alreadylaunched185
    OBJECT_START TF_DETECTA_0
  alreadylaunched185:
    MOVEF_F 60.0 VLV_VELOCIDAD_12
    MOVEF_F 54.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB186 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB186:
    MOVEF_F -10.0 VLV_VELOCIDAD1_19
    MOVEF_F 10.0 VLV_VELOCIDAD2_19
    MOVEF_F 10.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB187 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB187:
    MOVEF_F 20.0 VLV_VELOCIDAD_12
    MOVEF_F 9.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB188 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB188:
    MOVEF_F 10.0 VLV_VELOCIDAD1_20
    MOVEF_F -10.0 VLV_VELOCIDAD2_20
    MOVEF_F 500.0 VLV_TIEMPO_20
    WRITE32 ENDSUB_M_GIRO_TIEMPO_3:CALLSUB189 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_TIEMPO_3
CALLSUB189:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 700.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB190 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB190:
    MOVEF_F 20.0 VLV_VELOCIDAD1_19
    MOVEF_F -3.0 VLV_VELOCIDAD2_19
    MOVEF_F 25.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB191 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB191:
    MOVEF_F 20.0 VLV_VELOCIDAD1_19
    MOVEF_F -40.0 VLV_VELOCIDAD2_19
    MOVEF_F 10.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB192 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB192:
    MOVEF_F -70.0 VLV_VELOCIDAD_12
    MOVEF_F 20.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB193 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB193:
    MOVEF_F 70.0 VLV_VELOCIDAD1_19
    MOVEF_F -70.0 VLV_VELOCIDAD2_19
    MOVEF_F 160.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB194 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB194:
    MOVEF_F 60.0 VLV_VELOCIDAD_12
    MOVEF_F 50.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB195 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB195:
    MOVEF_F 30.0 VLV_VELOCIDAD_17
    MOVEF_F 4.0 VLV_SENSOR_17
    MOVEF_F 4.0 VLV_COLOR_17
    WRITE32 ENDSUB_M_RECTO_COLOR1_3:CALLSUB196 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_COLOR1_3
CALLSUB196:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 300.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB197 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB197:
    MOVEF_F 20.0 VLV_VELOCIDAD_4
    MOVEF_F -50.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB198 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB198:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F 6.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB199 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB199:
    MOVEF_F 2.0 VLV_SENS_31
    MOVEF_F 5.0 VLV_REPS_31
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB200 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB200:
    CALL ARRAYSTORE_FLOAT 0.0 VLV_COLOR_31 VGV_BLOQUE
    CALL ARRAYGET_FLOAT 0.0 VLV_COLOR_32 VGV_BLOQUE
    WRITE32 ENDSUB_M_RGB_GRITAR_1:CALLSUB203 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_GRITAR_1
CALLSUB203:
    WRITE32 ENDSUB_F_COGERCOLOR_0:CALLSUB204 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COGERCOLOR_0
CALLSUB204:
    MOVEF_F 30.0 VLV_VELOCIDAD_12
    MOVEF_F 4.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB205 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB205:
    MOVEF_F 2.0 VLV_SENS_31
    MOVEF_F 5.0 VLV_REPS_31
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB206 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB206:
    CALL ARRAYSTORE_FLOAT 0.0 VLV_COLOR_31 VGV_BLOQUE
    CALL ARRAYGET_FLOAT 0.0 VLV_COLOR_32 VGV_BLOQUE
    WRITE32 ENDSUB_M_RGB_GRITAR_1:CALLSUB209 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_GRITAR_1
CALLSUB209:
    WRITE32 ENDSUB_F_COGERCOLOR_0:CALLSUB210 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COGERCOLOR_0
CALLSUB210:
    MOVEF_F 41.5 VLV_VELOCIDAD1_19
    MOVEF_F 80.0 VLV_VELOCIDAD2_19
    MOVEF_F 90.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB211 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB211:
    MOVEF_F 80.0 VLV_VELOCIDAD1_19
    MOVEF_F 41.5 VLV_VELOCIDAD2_19
    MOVEF_F 90.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB212 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB212:
    MOVEF_F 20.0 VLV_VELOCIDAD_12
    MOVEF_F 13.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB213 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB213:
    MOVEF_F 80.0 VLV_VELOCIDAD_10
    MOVEF_F 650.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB214 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB214:
    MOVEF_F 80.0 VLV_VELOCIDAD_10
    MOVEF_F 0.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB215 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB215:
    DATA32 milliseconds216
	MOVEF_32 150.0 milliseconds216
	DATA32 timer216
	TIMER_WAIT milliseconds216 timer216
	TIMER_READY timer216
    MOVEF_F -70.0 VLV_VELOCIDAD_12
    MOVEF_F 25.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB217 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB217:
    DATA32 milliseconds218
	MOVEF_32 150.0 milliseconds218
	DATA32 timer218
	TIMER_WAIT milliseconds218 timer218
	TIMER_READY timer218
    MOVEF_F 40.0 VLV_VELOCIDAD1_19
    MOVEF_F -40.0 VLV_VELOCIDAD2_19
    MOVEF_F 88.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB219 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB219:
    DATA32 milliseconds220
	MOVEF_32 150.0 milliseconds220
	DATA32 timer220
	TIMER_WAIT milliseconds220 timer220
	TIMER_READY timer220
    MOVEF_F -50.0 VLV_VELOCIDAD_12
    MOVEF_F 45.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB221 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB221:
    MOVEF_F -50.0 VLV_VELOCIDAD_11
    MOVEF_F 750.0 VLV_TIEMPO_11
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB222 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB222:
    MOVEF_F 70.0 VLV_VELOCIDAD_12
    MOVEF_F 12.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB223 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB223:
    MOVEF_F -40.0 VLV_VELOCIDAD1_19
    MOVEF_F 40.0 VLV_VELOCIDAD2_19
    MOVEF_F 90.0 VLV_GRADOS_19
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB224 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB224:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 700.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB225 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB225:
    MOVEF_F 60.0 VLV_VELOCIDAD_12
    MOVEF_F 13.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB226 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB226:
    MOVEF_F 2.0 VLV_SENS_31
    MOVEF_F 5.0 VLV_REPS_31
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB227 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB227:
    CALL ARRAYSTORE_FLOAT 0.0 VLV_COLOR_31 VGV_BLOQUE
    CALL ARRAYGET_FLOAT 0.0 VLV_COLOR_32 VGV_BLOQUE
    WRITE32 ENDSUB_M_RGB_GRITAR_1:CALLSUB230 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_GRITAR_1
CALLSUB230:
    WRITE32 ENDSUB_F_COGERCOLOR_0:CALLSUB231 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_COGERCOLOR_0
CALLSUB231:
  else49_2:
  endif49:
RETSUB_F_MAIN_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_MAIN_0:
SUB_F_CONTROLBRAZO_0:
  while232:
  whilebody232:
    OUTPUT_GET_COUNT 0 0 getTachoA
	MOVE32_F getTachoA F.0
    SUBF VGV_ENCODERA F.0 VGV_ERRORA
    MULF VGV_ERRORA 1.0 F.0
    SUBF VGV_ERRORA VGV_OLDERRORA F.2
    MULF F.2 0.6 F.1
    ADDF F.0 F.1 VGV_CORRECCIONA
    MOVEF_8 VGV_CORRECCIONA setSpeedA
	OUTPUT_SPEED 0 1 setSpeedA
	OUTPUT_START 0 1
    JR whilebody232
  endwhile232:
RETSUB_F_CONTROLBRAZO_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_CONTROLBRAZO_0:
SUB_F_DETECTA_0:
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Connect'
RETSUB_F_DETECTA_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_DETECTA_0:
SUB_F_COGER_0:
    MOVEF_F 70.0 VLV_VELOCIDAD_10
    MOVEF_F 350.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB241 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB241:
    MOVEF_F 15.0 VLV_V0_13
    MOVEF_F 30.0 VLV_VMAX_13
    MOVEF_F 5.0 VLV_DISTANCIAACCEL_13
    MOVEF_F 0.0 VLV_DISTANCIACRUCERO_13
    MOVEF_F 4.75 VLV_DISTANCIADECEL_13
    WRITE32 ENDSUB_M_RECTO_ACCELDECEL_5:CALLSUB242 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ACCELDECEL_5
CALLSUB242:
    MOVEF_F 70.0 VLV_VELOCIDAD_10
    MOVEF_F 250.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB243 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB243:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F 0.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB244 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB244:
    MOVEF_F 70.0 VLV_VELOCIDAD_10
    MOVEF_F -10.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB245 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB245:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -175.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB246 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB246:
    MOVEF_F 70.0 VLV_VELOCIDAD_10
    MOVEF_F 100.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB247 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB247:
RETSUB_F_COGER_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_COGER_0:
SUB_F_COGERALTO_0:
    MOVEF_F 20.0 VLV_VELOCIDAD_12
    MOVEF_F 6.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB248 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB248:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 400.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB249 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB249:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F 0.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB250 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB250:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 140.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB251 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB251:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -175.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB252 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB252:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 500.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB253 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB253:
    MOVEF_F -40.0 VLV_VELOCIDAD_12
    MOVEF_F 20.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB254 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB254:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 100.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB255 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB255:
RETSUB_F_COGERALTO_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_COGERALTO_0:
SUB_F_SOLTAR_1:
    MULF VLV_ALTURA_3 0.75 VLV_ALTURA_3
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 50.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB257 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB257:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F 50.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB258 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB258:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MULF 245.0 VLV_ALTURA_3 F.0
    DATA8 flag260
	CP_LTF F.0 2000.0 flag260
	SELECTF flag260 F.0 2000.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB261 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB261:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -250.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB262 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB262:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    OUTPUT_GET_COUNT 0 3 getTachoD
	MOVE32_F getTachoD F.0
    ADDF F.0 200.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB265 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB265:
    DATA32 milliseconds266
	MOVEF_32 500.0 milliseconds266
	DATA32 timer266
	TIMER_WAIT milliseconds266 timer266
	TIMER_READY timer266
    MOVEF_F -10.0 VLV_VELOCIDAD_12
    MOVEF_F 10.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB267 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB267:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 350.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB268 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB268:
RETSUB_F_SOLTAR_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SOLTAR_1:
SUB_F_AENCODER_2:
    OUTPUT_GET_COUNT 0 0 getTachoA
	MOVE32_F getTachoA F.0
    SUBF VLV_ENCODER_4 F.0 VLV_ENCDIFF_4
    MATH ABS VLV_ENCDIFF_4 F.0
    DATAF tmpf272
    DATA8 flag272
    DIVF F.0 VLV_ENCDIFF_4 tmpf272
    CP_EQF 0.0 VLV_ENCDIFF_4 flag272
    SELECTF flag272 0.0 tmpf272 VLV_SIGNO_4

    MOVEF_F 1200.0 VLV_SAFETYTIMER_4
    TIMER_READ timeMC3
    JR_EQF VLV_ENCDIFF_4 0.0 else274_1
  while275:
    OUTPUT_GET_COUNT 0 0 getTachoA
	MOVE32_F getTachoA F.2
    SUBF F.2 VLV_ENCODER_4 F.1
    MATH ABS F.1 F.0
    JR_LTEQF F.0 15.0 endwhile275
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_GTEQF F.0 VLV_SAFETYTIMER_4 endwhile275
  whilebody275:
    DATAF tmpf280
    DATA8 flag280
    DIVF VLV_VELOCIDAD_4 15.5 tmpf280
    CP_EQF 0.0 15.5 flag280
    SELECTF flag280 0.0 tmpf280 F.1

    MULF F.1 VLV_SIGNO_4 F.0
    ADDF VGV_ENCODERA F.0 VGV_ENCODERA
    JR_LTEQF VLV_SIGNO_4 0.0 else283_1
    DATA8 flag284
	CP_LTF VGV_ENCODERA VLV_ENCODER_4 flag284
	SELECTF flag284 VGV_ENCODERA VLV_ENCODER_4 VGV_ENCODERA
    JR endif283
  else283_1:
    DATA8 flag285
	CP_GTF VGV_ENCODERA VLV_ENCODER_4 flag285
	SELECTF flag285 VGV_ENCODERA VLV_ENCODER_4 VGV_ENCODERA
  else283_2:
  endif283:
    OUTPUT_GET_COUNT 0 0 getTachoA
	MOVE32_F getTachoA F.2
    SUBF F.2 VLV_ENCODER_4 F.1
    MATH ABS F.1 F.0
    JR_LTEQF F.0 15.0 and286
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_LTF F.0 VLV_SAFETYTIMER_4 whilebody275
  and286:
  endwhile275:
    MOVEF_F VLV_ENCODER_4 VGV_ENCODERA
    OUTPUT_POWER 0 1 0
	OUTPUT_STOP 0 1 1
  else274_1:
  endif274:
RETSUB_F_AENCODER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_AENCODER_2:
SUB_F_COGERCOLOR_0:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 350.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB292 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB292:
    MOVEF_F 50.0 VLV_VELOCIDAD_12
    MOVEF_F 5.0 VLV_DISTANCIA_12
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB293 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB293:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 250.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB294 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB294:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F 0.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB295 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB295:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F -35.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB296 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB296:
    MOVEF_F 50.0 VLV_VELOCIDAD_4
    MOVEF_F -175.0 VLV_ENCODER_4
    WRITE32 ENDSUB_F_AENCODER_2:CALLSUB297 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_AENCODER_2
CALLSUB297:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 300.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_DENCODER_2:CALLSUB298 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_DENCODER_2
CALLSUB298:
RETSUB_F_COGERCOLOR_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_COGERCOLOR_0:
SUB_F_GRITARNUMERO_1:
    JR_NEQF VLV_NUMERO_7 0.0 else299_1
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/ZERO'
    JR endif299
  else299_1:
    JR_NEQF VLV_NUMERO_7 1.0 else299_2
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/One'
    JR endif299
  else299_2:
    JR_NEQF VLV_NUMERO_7 2.0 else299_3
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Two'
    JR endif299
  else299_3:
    JR_NEQF VLV_NUMERO_7 3.0 else299_4
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Three'
    JR endif299
  else299_4:
    JR_NEQF VLV_NUMERO_7 4.0 else299_5
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Four'
    JR endif299
  else299_5:
    JR_NEQF VLV_NUMERO_7 5.0 else299_6
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Five'
    JR endif299
  else299_6:
    JR_NEQF VLV_NUMERO_7 6.0 else299_7
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Six'
    JR endif299
  else299_7:
    JR_NEQF VLV_NUMERO_7 7.0 else299_8
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Seven'
    JR endif299
  else299_8:
    JR_NEQF VLV_NUMERO_7 8.0 else299_9
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Eight'
    JR endif299
  else299_9:
    JR_NEQF VLV_NUMERO_7 9.0 else299_10
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Nine'
    JR endif299
  else299_10:
    JR_NEQF VLV_NUMERO_7 10.0 else299_11
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Ten'
  else299_11:
  endif299:
    SOUND_READY
RETSUB_F_GRITARNUMERO_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_GRITARNUMERO_1:
SUB_F_GRITARVOLTAJE_0:
    CALL EV3.BATTERYVOLTAGE VLV_VOLTAJE_8
    MATH FLOOR VLV_VOLTAJE_8 VLV_NUMERO_7
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB314 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB314:
    MULF VLV_VOLTAJE_8 10.0 F.1
    MATH FLOOR F.1 F.0
    MATH FLOOR VLV_VOLTAJE_8 F.2
    MULF F.2 10.0 F.1
    SUBF F.0 F.1 VLV_NUMERO_7
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB320 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB320:
    MULF VLV_VOLTAJE_8 100.0 F.1
    MATH FLOOR F.1 F.0
    MATH FLOOR VLV_VOLTAJE_8 F.2
    MULF F.2 100.0 F.1
    SUBF F.0 F.1 VLV_NUMERO_7
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB326 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB326:
RETSUB_F_GRITARVOLTAJE_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_GRITARVOLTAJE_0:
SUB_M_BRAZO_DTIMER_2:
    TIMER_READ timeMC1
  while328:
    TIMER_READ timeMC1tmp
	SUB32 timeMC1tmp timeMC1 timeMC1tmp
	MOVE32_F timeMC1tmp F.0
    JR_GTEQF F.0 VLV_TIMER_9 endwhile328
  whilebody328:
    MOVEF_8 VLV_VELOCIDAD_9 setSpeedD
	OUTPUT_SPEED 0 8 setSpeedD
	OUTPUT_START 0 8
    TIMER_READ timeMC1tmp
	SUB32 timeMC1tmp timeMC1 timeMC1tmp
	MOVE32_F timeMC1tmp F.0
    JR_LTF F.0 VLV_TIMER_9 whilebody328
  endwhile328:
    OUTPUT_POWER 0 8 0
	OUTPUT_STOP 0 8 1
RETSUB_M_BRAZO_DTIMER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_BRAZO_DTIMER_2:
SUB_M_BRAZO_DENCODER_2:
    CALL MOTOR.GETCOUNT 'D' F.0
    SUBF VLV_ENCODER_10 F.0 VLV_ENCDIFF_10
    MATH ABS VLV_ENCDIFF_10 F.0
    DATAF tmpf336
    DATA8 flag336
    DIVF VLV_ENCDIFF_10 F.0 tmpf336
    CP_EQF 0.0 F.0 flag336
    SELECTF flag336 0.0 tmpf336 VLV_SIGNO_10

    MATH ABS VLV_ENCDIFF_10 F.4
    DATAF tmpf338
    DATA8 flag338
    DIVF F.4 100.0 tmpf338
    CP_EQF 0.0 100.0 flag338
    SELECTF flag338 0.0 tmpf338 F.3

    DATAF tmpf339
    DATA8 flag339
    DIVF VLV_VELOCIDAD_10 20.0 tmpf339
    CP_EQF 0.0 20.0 flag339
    SELECTF flag339 0.0 tmpf339 F.4

    DATAF tmpf340
    DATA8 flag340
    DIVF F.3 F.4 tmpf340
    CP_EQF 0.0 F.4 flag340
    SELECTF flag340 0.0 tmpf340 F.2

    MULF F.2 650.0 F.1
    MULF F.1 2.0 F.0
    DATA8 flag343
	CP_GTF F.0 400.0 flag343
	SELECTF flag343 F.0 400.0 VLV_SAFETYTIMER_10
    TIMER_READ timeMC3
    JR_EQF VLV_ENCDIFF_10 0.0 else345_1
  while346:
    CALL MOTOR.GETCOUNT 'D' F.2
    SUBF F.2 VLV_ENCODER_10 F.1
    MATH ABS F.1 F.0
    JR_LTEQF F.0 15.0 endwhile346
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_GTEQF F.0 VLV_SAFETYTIMER_10 endwhile346
  whilebody346:
    MULF VLV_SIGNO_10 VLV_VELOCIDAD_10 F.0
    MOVEF_8 F.0 setSpeedD
	OUTPUT_SPEED 0 8 setSpeedD
	OUTPUT_START 0 8
    CALL LCD.CLEAR
    STRINGS VALUE_FORMATTED VLV_SAFETYTIMER_10 '%g' 99 S.1
    CALL TEXT.APPEND 'safetyTimer: ' S.1 S.0
    CALL LCD.WRITE 5.0 30.0 S.0
    CALL MOTOR.GETCOUNT 'D' F.2
    SUBF F.2 VLV_ENCODER_10 F.1
    MATH ABS F.1 F.0
    JR_LTEQF F.0 15.0 and357
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_LTF F.0 VLV_SAFETYTIMER_10 whilebody346
  and357:
  endwhile346:
    CALL MOTOR.STOP 'D' 'True'
  else345_1:
  endif345:
RETSUB_M_BRAZO_DENCODER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_BRAZO_DENCODER_2:
SUB_M_RECTO_TIEMPO_2:
    MOVEF_F 0.0 VLV_CORRECCION_11
    TIMER_READ timeMC3
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
  while365:
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_GTEQF F.0 VLV_TIEMPO_11 endwhile365
  whilebody365:
    MATH NEGATE VLV_VELOCIDAD_11 F.1
    ADDF F.1 VLV_CORRECCION_11 F.0
    ADDF VLV_VELOCIDAD_11 VLV_CORRECCION_11 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_LTF F.0 VLV_TIEMPO_11 whilebody365
  endwhile365:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_RECTO_TIEMPO_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_TIEMPO_2:
SUB_M_RECTO_ENCODER_2:
    SUBF VLV_VELOCIDAD_12 20.0 F.0
    MULF F.0 0.05 VLV_CORRECCION_12
    SUBF VLV_DISTANCIA_12 VLV_CORRECCION_12 F.2
    MULF F.2 360.0 F.1
    MOVEF_F 3.1415926535897932384 F.2
    DATAF tmpf378
    DATA8 flag378
    DIVF F.1 F.2 tmpf378
    CP_EQF 0.0 F.2 flag378
    SELECTF flag378 0.0 tmpf378 F.0

    DATAF tmpf379
    DATA8 flag379
    DIVF F.0 VPR_RECTO_DIAMETRO tmpf379
    CP_EQF 0.0 VPR_RECTO_DIAMETRO flag379
    SELECTF flag379 0.0 tmpf379 VLV_ENC_12

    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds381
	MOVEF_32 100.0 milliseconds381
	DATA32 timer381
	TIMER_WAIT milliseconds381 timer381
	TIMER_READY timer381
    MATH NEGATE VLV_VELOCIDAD_12 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD_12 VLV_ENC_12 'True'

	DATA8 layer383
	DATA8 nos383
	DATA8 busy383
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer383 nos383
	JR_EQ8 0 nos383 motornotbusy383
  motorwaiting383:
	OUTPUT_TEST layer383 nos383 busy383
	JR_EQ8 busy383 0 motornotbusy383
	SLEEP
	JR motorwaiting383
  motornotbusy383:
RETSUB_M_RECTO_ENCODER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_ENCODER_2:
SUB_M_RECTO_ACCELDECEL_5:
    CALL MOTOR.GETCOUNT 'B' VLV_STARTB_13
    CALL MOTOR.GETCOUNT 'C' VLV_STARTC_13
    MOVEF_F 0.0 VLV_ENCODERB_13
    MOVEF_F 0.0 VLV_ENCODERC_13
    MATH ABS VLV_V0_13 F.0
    DATAF tmpf387
    DATA8 flag387
    DIVF VLV_V0_13 F.0 tmpf387
    CP_EQF 0.0 F.0 flag387
    SELECTF flag387 0.0 tmpf387 VLV_SIGNO_13

    MATH ABS VLV_V0_13 F.1
    DATA8 flag389
	CP_GTF 8.0 F.1 flag389
	SELECTF flag389 8.0 F.1 F.0
    MULF F.0 VLV_SIGNO_13 VLV_V0_13
    MATH ABS VLV_VMAX_13 F.1
    DATA8 flag392
	CP_LTF 90.0 F.1 flag392
	SELECTF flag392 90.0 F.1 F.0
    MULF F.0 VLV_SIGNO_13 VLV_VMAX_13
    MOVEF_F 0.0 VLV_VEL_13
    MOVEF_F 0.4 VLV_KP_13
    MOVEF_F 0.5 VLV_KD_13
    MOVEF_F 0.0 VLV_ERROR_13
    MOVEF_F 0.0 VLV_OLDERROR_13
    MULF VLV_DISTANCIAACCEL_13 360.0 F.0
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_RECTO_DIAMETRO F.2 F.1
    DATAF tmpf397
    DATA8 flag397
    DIVF F.0 F.1 tmpf397
    CP_EQF 0.0 F.1 flag397
    SELECTF flag397 0.0 tmpf397 VLV_GRADOSACCEL_13

    MULF VLV_DISTANCIACRUCERO_13 360.0 F.0
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_RECTO_DIAMETRO F.2 F.1
    DATAF tmpf401
    DATA8 flag401
    DIVF F.0 F.1 tmpf401
    CP_EQF 0.0 F.1 flag401
    SELECTF flag401 0.0 tmpf401 VLV_GRADOSCRUCERO_13

    MULF VLV_DISTANCIADECEL_13 360.0 F.0
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_RECTO_DIAMETRO F.2 F.1
    DATAF tmpf405
    DATA8 flag405
    DIVF F.0 F.1 tmpf405
    CP_EQF 0.0 F.1 flag405
    SELECTF flag405 0.0 tmpf405 VLV_GRADOSDECEL_13

  while406:
    MATH ABS VLV_ENCODERC_13 F.0
    ADDF VLV_GRADOSACCEL_13 VLV_GRADOSCRUCERO_13 F.2
    ADDF F.2 VLV_GRADOSDECEL_13 F.1
    JR_GTEQF F.0 F.1 endwhile406
  whilebody406:
    CALL MOTOR.GETCOUNT 'B' F.1
    MULF F.1 1.0 F.0
    SUBF F.0 VLV_STARTB_13 VLV_ENCODERB_13
    CALL MOTOR.GETCOUNT 'C' F.0
    SUBF F.0 VLV_STARTC_13 VLV_ENCODERC_13
    MATH ABS VLV_ENCODERC_13 F.0
    ADDF VLV_GRADOSACCEL_13 VLV_GRADOSCRUCERO_13 F.1
    JR_GTEQF F.0 F.1 else415_1
    SUBF VLV_VMAX_13 VLV_V0_13 F.1
    DATAF tmpf419
    DATA8 flag419
    DIVF F.1 VLV_GRADOSACCEL_13 tmpf419
    CP_EQF 0.0 VLV_GRADOSACCEL_13 flag419
    SELECTF flag419 0.0 tmpf419 F.0

    MULF F.0 VLV_SIGNO_13 VLV_PENDIENTE_13
    JR_LTEQF VLV_SIGNO_13 0.0 else421_1
    MULF VLV_PENDIENTE_13 VLV_ENCODERC_13 F.1
    ADDF F.1 VLV_V0_13 F.0
    DATA8 flag424
	CP_LTF VLV_VMAX_13 F.0 flag424
	SELECTF flag424 VLV_VMAX_13 F.0 VLV_VEL_13
    JR endif421
  else421_1:
    MULF VLV_PENDIENTE_13 VLV_ENCODERC_13 F.1
    ADDF F.1 VLV_V0_13 F.0
    DATA8 flag427
	CP_GTF VLV_VMAX_13 F.0 flag427
	SELECTF flag427 VLV_VMAX_13 F.0 VLV_VEL_13
  else421_2:
  endif421:
    JR endif415
  else415_1:
    SUBF VLV_V0_13 VLV_VMAX_13 F.1
    DATAF tmpf429
    DATA8 flag429
    DIVF F.1 VLV_GRADOSDECEL_13 tmpf429
    CP_EQF 0.0 VLV_GRADOSDECEL_13 flag429
    SELECTF flag429 0.0 tmpf429 F.0

    MULF F.0 VLV_SIGNO_13 VLV_PENDIENTE_13
    JR_LTEQF VLV_SIGNO_13 0.0 else431_1
    SUBF VLV_ENCODERC_13 VLV_GRADOSACCEL_13 F.3
    SUBF F.3 VLV_GRADOSCRUCERO_13 F.2
    MULF VLV_PENDIENTE_13 F.2 F.1
    ADDF F.1 VLV_VMAX_13 F.0
    DATA8 flag436
	CP_GTF VLV_V0_13 F.0 flag436
	SELECTF flag436 VLV_V0_13 F.0 VLV_VEL_13
    JR endif431
  else431_1:
    ADDF VLV_ENCODERC_13 VLV_GRADOSACCEL_13 F.3
    ADDF F.3 VLV_GRADOSCRUCERO_13 F.2
    MULF VLV_PENDIENTE_13 F.2 F.1
    ADDF F.1 VLV_VMAX_13 F.0
    DATA8 flag441
	CP_LTF VLV_V0_13 F.0 flag441
	SELECTF flag441 VLV_V0_13 F.0 VLV_VEL_13
  else431_2:
  endif431:
  else415_2:
  endif415:
    MULF -1.0 VLV_ENCODERB_13 F.1
    SUBF F.1 VLV_ENCODERC_13 F.0
    MULF F.0 1.0 VLV_ERROR_13
    MULF VLV_ERROR_13 VLV_KP_13 F.0
    SUBF VLV_ERROR_13 VLV_OLDERROR_13 F.2
    MULF F.2 VLV_KD_13 F.1
    ADDF F.0 F.1 VLV_CORRECCION_13
    SUBF VLV_VEL_13 VLV_CORRECCION_13 F.1
    MATH NEGATE F.1 F.0
    ADDF VLV_VEL_13 VLV_CORRECCION_13 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_13 VLV_OLDERROR_13
    MATH ABS VLV_ENCODERC_13 F.0
    ADDF VLV_GRADOSACCEL_13 VLV_GRADOSCRUCERO_13 F.2
    ADDF F.2 VLV_GRADOSDECEL_13 F.1
    JR_LTF F.0 F.1 whilebody406
  endwhile406:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_RECTO_ACCELDECEL_5:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_ACCELDECEL_5:
SUB_M_RECTO_ACCELDECELF_5:
    CALL MOTOR.GETCOUNT 'B' VLV_STARTB_14
    CALL MOTOR.GETCOUNT 'C' VLV_STARTC_14
    MOVEF_F 0.0 VLV_ENCODERB_14
    MOVEF_F 0.0 VLV_ENCODERC_14
    MATH ABS VLV_V0_14 F.0
    DATAF tmpf460
    DATA8 flag460
    DIVF VLV_V0_14 F.0 tmpf460
    CP_EQF 0.0 F.0 flag460
    SELECTF flag460 0.0 tmpf460 VLV_SIGNO_14

    MATH ABS VLV_V0_14 F.1
    DATA8 flag462
	CP_GTF 8.0 F.1 flag462
	SELECTF flag462 8.0 F.1 F.0
    MULF F.0 VLV_SIGNO_14 VLV_V0_14
    MATH ABS VLV_VMAX_14 F.1
    DATA8 flag465
	CP_LTF 90.0 F.1 flag465
	SELECTF flag465 90.0 F.1 F.0
    MULF F.0 VLV_SIGNO_14 VLV_VMAX_14
    MOVEF_F 0.0 VLV_VEL_14
    MOVEF_F 0.4 VLV_KP_14
    MOVEF_F 0.5 VLV_KD_14
    MOVEF_F 0.0 VLV_ERROR_14
    MOVEF_F 0.0 VLV_OLDERROR_14
    MULF VLV_DISTANCIAACCEL_14 360.0 F.0
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_RECTO_DIAMETRO F.2 F.1
    DATAF tmpf470
    DATA8 flag470
    DIVF F.0 F.1 tmpf470
    CP_EQF 0.0 F.1 flag470
    SELECTF flag470 0.0 tmpf470 VLV_GRADOSACCEL_14

    MULF VLV_DISTANCIACRUCERO_14 360.0 F.0
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_RECTO_DIAMETRO F.2 F.1
    DATAF tmpf474
    DATA8 flag474
    DIVF F.0 F.1 tmpf474
    CP_EQF 0.0 F.1 flag474
    SELECTF flag474 0.0 tmpf474 VLV_GRADOSCRUCERO_14

    MULF VLV_DISTANCIADECEL_14 360.0 F.0
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_RECTO_DIAMETRO F.2 F.1
    DATAF tmpf478
    DATA8 flag478
    DIVF F.0 F.1 tmpf478
    CP_EQF 0.0 F.1 flag478
    SELECTF flag478 0.0 tmpf478 VLV_GRADOSDECEL_14

  while479:
    MATH ABS VLV_ENCODERC_14 F.0
    ADDF VLV_GRADOSACCEL_14 VLV_GRADOSCRUCERO_14 F.2
    ADDF F.2 VLV_GRADOSDECEL_14 F.1
    JR_GTEQF F.0 F.1 endwhile479
  whilebody479:
    CALL MOTOR.GETCOUNT 'B' F.1
    MULF F.1 1.0 F.0
    SUBF F.0 VLV_STARTB_14 VLV_ENCODERB_14
    CALL MOTOR.GETCOUNT 'C' F.0
    SUBF F.0 VLV_STARTC_14 VLV_ENCODERC_14
    MATH ABS VLV_ENCODERC_14 F.0
    ADDF VLV_GRADOSACCEL_14 VLV_GRADOSCRUCERO_14 F.1
    JR_GTEQF F.0 F.1 else488_1
    SUBF VLV_VMAX_14 VLV_V0_14 F.1
    DATAF tmpf492
    DATA8 flag492
    DIVF F.1 VLV_GRADOSACCEL_14 tmpf492
    CP_EQF 0.0 VLV_GRADOSACCEL_14 flag492
    SELECTF flag492 0.0 tmpf492 F.0

    MULF F.0 VLV_SIGNO_14 VLV_PENDIENTE_14
    JR_LTEQF VLV_SIGNO_14 0.0 else494_1
    MULF VLV_PENDIENTE_14 VLV_ENCODERC_14 F.1
    ADDF F.1 VLV_V0_14 F.0
    DATA8 flag497
	CP_LTF VLV_VMAX_14 F.0 flag497
	SELECTF flag497 VLV_VMAX_14 F.0 VLV_VEL_14
    JR endif494
  else494_1:
    MULF VLV_PENDIENTE_14 VLV_ENCODERC_14 F.1
    ADDF F.1 VLV_V0_14 F.0
    DATA8 flag500
	CP_GTF VLV_VMAX_14 F.0 flag500
	SELECTF flag500 VLV_VMAX_14 F.0 VLV_VEL_14
  else494_2:
  endif494:
    JR endif488
  else488_1:
    SUBF VLV_V0_14 VLV_VMAX_14 F.1
    DATAF tmpf502
    DATA8 flag502
    DIVF F.1 VLV_GRADOSDECEL_14 tmpf502
    CP_EQF 0.0 VLV_GRADOSDECEL_14 flag502
    SELECTF flag502 0.0 tmpf502 F.0

    MULF F.0 VLV_SIGNO_14 VLV_PENDIENTE_14
    JR_LTEQF VLV_SIGNO_14 0.0 else504_1
    SUBF VLV_ENCODERC_14 VLV_GRADOSACCEL_14 F.3
    SUBF F.3 VLV_GRADOSCRUCERO_14 F.2
    MULF VLV_PENDIENTE_14 F.2 F.1
    ADDF F.1 VLV_VMAX_14 F.0
    DATA8 flag509
	CP_GTF VLV_V0_14 F.0 flag509
	SELECTF flag509 VLV_V0_14 F.0 VLV_VEL_14
    JR endif504
  else504_1:
    ADDF VLV_ENCODERC_14 VLV_GRADOSACCEL_14 F.3
    ADDF F.3 VLV_GRADOSCRUCERO_14 F.2
    MULF VLV_PENDIENTE_14 F.2 F.1
    ADDF F.1 VLV_VMAX_14 F.0
    DATA8 flag514
	CP_LTF VLV_V0_14 F.0 flag514
	SELECTF flag514 VLV_V0_14 F.0 VLV_VEL_14
  else504_2:
  endif504:
  else488_2:
  endif488:
    MULF -1.0 VLV_ENCODERB_14 F.1
    SUBF F.1 VLV_ENCODERC_14 F.0
    MULF F.0 1.0 VLV_ERROR_14
    MULF VLV_ERROR_14 VLV_KP_14 F.0
    SUBF VLV_ERROR_14 VLV_OLDERROR_14 F.2
    MULF F.2 VLV_KD_14 F.1
    ADDF F.0 F.1 VLV_CORRECCION_14
    SUBF VLV_VEL_14 VLV_CORRECCION_14 F.1
    MATH NEGATE F.1 F.0
    ADDF VLV_VEL_14 VLV_CORRECCION_14 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_14 VLV_OLDERROR_14
    MATH ABS VLV_ENCODERC_14 F.0
    ADDF VLV_GRADOSACCEL_14 VLV_GRADOSCRUCERO_14 F.2
    ADDF F.2 VLV_GRADOSDECEL_14 F.1
    JR_LTF F.0 F.1 whilebody479
  endwhile479:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_RECTO_ACCELDECELF_5:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_ACCELDECELF_5:
SUB_M_RECTO_ENCODERF_2:
    SUBF VLV_VELOCIDAD_15 20.0 F.0
    MULF F.0 0.05 VLV_CORRECCION_15
    SUBF VLV_DISTANCIA_15 VLV_CORRECCION_15 F.2
    MULF F.2 360.0 F.1
    MOVEF_F 3.1415926535897932384 F.2
    DATAF tmpf535
    DATA8 flag535
    DIVF F.1 F.2 tmpf535
    CP_EQF 0.0 F.2 flag535
    SELECTF flag535 0.0 tmpf535 F.0

    DATAF tmpf536
    DATA8 flag536
    DIVF F.0 VPR_RECTO_DIAMETRO tmpf536
    CP_EQF 0.0 VPR_RECTO_DIAMETRO flag536
    SELECTF flag536 0.0 tmpf536 VLV_ENC_15

    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds538
	MOVEF_32 100.0 milliseconds538
	DATA32 timer538
	TIMER_WAIT milliseconds538 timer538
	TIMER_READY timer538
    MATH NEGATE VLV_VELOCIDAD_15 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD_15 VLV_ENC_15 'False'

	DATA8 layer540
	DATA8 nos540
	DATA8 busy540
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer540 nos540
	JR_EQ8 0 nos540 motornotbusy540
  motorwaiting540:
	OUTPUT_TEST layer540 nos540 busy540
	JR_EQ8 busy540 0 motornotbusy540
	SLEEP
	JR motorwaiting540
  motornotbusy540:
RETSUB_M_RECTO_ENCODERF_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_ENCODERF_2:
SUB_M_RECTO_BLANCO1F_2:
    MOVEF_F 0.0 VLV_CORRECCION_16
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MOVEF_F 50.0 VLV_LECTURA_16
  while542:
    JR_GTEQF VLV_LECTURA_16 60.0 endwhile542
  whilebody542:
    CALL SENSOR.READPERCENT VLV_SENSOR_16 F.2
    SUBF F.2 VPR_RECTO_NEGRO F.1
    DATAF tmpf545
    DATA8 flag545
    DIVF F.1 VPR_RECTO_BLANCO tmpf545
    CP_EQF 0.0 VPR_RECTO_BLANCO flag545
    SELECTF flag545 0.0 tmpf545 F.0

    SUBF 100.0 VPR_RECTO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_16
    MATH NEGATE VLV_VELOCIDAD_16 F.1
    ADDF F.1 VLV_CORRECCION_16 F.0
    ADDF VLV_VELOCIDAD_16 VLV_CORRECCION_16 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    JR_LTF VLV_LECTURA_16 60.0 whilebody542
  endwhile542:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_RECTO_BLANCO1F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_BLANCO1F_2:
SUB_M_RECTO_COLOR1_3:
    MOVEF_F 0.0 VLV_CORRECCION_17
    CALL SENSOR.GETMODE VLV_SENSOR_17 VLV_MODE_17
    DATA8 layer554
	DATA8 no554
	DATA8 mode8554
	
	MOVEF_8 VLV_SENSOR_17 no554
	SUB8 no554 1 no554
	DIV8 no554 4 layer554
	MATH MOD8 no554 4 no554

	MOVEF_8 2.0 mode8554
	
	INPUT_DEVICE READY_RAW layer554 no554 0 mode8554 0
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
  while556:
    CALL SENSOR.READRAWVALUE VLV_SENSOR_17 0.0 F.0
    JR_EQF F.0 VLV_COLOR_17 endwhile556
  whilebody556:
    MATH NEGATE VLV_VELOCIDAD_17 F.1
    ADDF F.1 VLV_CORRECCION_17 F.0
    ADDF VLV_VELOCIDAD_17 VLV_CORRECCION_17 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    CALL SENSOR.READRAWVALUE VLV_SENSOR_17 0.0 F.0
    JR_NEQF F.0 VLV_COLOR_17 whilebody556
  endwhile556:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
    DATA8 layer564
	DATA8 no564
	DATA8 mode8564
	
	MOVEF_8 VLV_SENSOR_17 no564
	SUB8 no564 1 no564
	DIV8 no564 4 layer564
	MATH MOD8 no564 4 no564

	MOVEF_8 VLV_MODE_17 mode8564
	
	INPUT_DEVICE READY_RAW layer564 no564 0 mode8564 0
RETSUB_M_RECTO_COLOR1_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_COLOR1_3:
SUB_M_RECTO_COLOR1F_3:
    MOVEF_F 0.0 VLV_CORRECCION_18
    CALL SENSOR.GETMODE VLV_SENSOR_18 VLV_MODE_18
    DATA8 layer566
	DATA8 no566
	DATA8 mode8566
	
	MOVEF_8 VLV_SENSOR_18 no566
	SUB8 no566 1 no566
	DIV8 no566 4 layer566
	MATH MOD8 no566 4 no566

	MOVEF_8 2.0 mode8566
	
	INPUT_DEVICE READY_RAW layer566 no566 0 mode8566 0
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
  while568:
    CALL SENSOR.READRAWVALUE VLV_SENSOR_18 0.0 F.0
    JR_EQF F.0 VLV_COLOR_18 endwhile568
  whilebody568:
    MATH NEGATE VLV_VELOCIDAD_18 F.1
    ADDF F.1 VLV_CORRECCION_18 F.0
    ADDF VLV_VELOCIDAD_18 VLV_CORRECCION_18 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    CALL SENSOR.READRAWVALUE VLV_SENSOR_18 0.0 F.0
    JR_NEQF F.0 VLV_COLOR_18 whilebody568
  endwhile568:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA8 layer576
	DATA8 no576
	DATA8 mode8576
	
	MOVEF_8 VLV_SENSOR_18 no576
	SUB8 no576 1 no576
	DIV8 no576 4 layer576
	MATH MOD8 no576 4 no576

	MOVEF_8 VLV_MODE_18 mode8576
	
	INPUT_DEVICE READY_RAW layer576 no576 0 mode8576 0
RETSUB_M_RECTO_COLOR1F_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_COLOR1F_3:
SUB_M_GIRO_GRADOS_3:
    DATAF tmpf577
    DATA8 flag577
    DIVF VLV_VELOCIDAD1_19 VLV_VELOCIDAD2_19 tmpf577
    CP_EQF 0.0 VLV_VELOCIDAD2_19 flag577
    SELECTF flag577 0.0 tmpf577 F.0

    DATAF tmpf578
    DATA8 flag578
    DIVF VLV_VELOCIDAD1_19 VLV_VELOCIDAD2_19 tmpf578
    CP_EQF 0.0 VLV_VELOCIDAD2_19 flag578
    SELECTF flag578 0.0 tmpf578 F.2

    MATH ABS F.2 F.1
    DATAF tmpf580
    DATA8 flag580
    DIVF F.0 F.1 tmpf580
    CP_EQF 0.0 F.1 flag580
    SELECTF flag580 0.0 tmpf580 VLV_SIGNO_19

    MATH ABS VLV_VELOCIDAD1_19 F.0
    MATH ABS VLV_VELOCIDAD2_19 F.1
    DATA8 flag583
	CP_LTF F.0 F.1 flag583
	SELECTF flag583 F.0 F.1 VLV_VMIN_19
    MATH ABS VLV_VELOCIDAD1_19 F.0
    MATH ABS VLV_VELOCIDAD2_19 F.1
    DATA8 flag586
	CP_GTF F.0 F.1 flag586
	SELECTF flag586 F.0 F.1 VLV_VMAX_19
    MULF VLV_GRADOS_19 VPR_GIRO_G1 F.0
    MULF VLV_SIGNO_19 VLV_VMIN_19 F.4
    DATAF tmpf589
    DATA8 flag589
    DIVF F.4 VLV_VMAX_19 tmpf589
    CP_EQF 0.0 VLV_VMAX_19 flag589
    SELECTF flag589 0.0 tmpf589 F.3

    SUBF F.3 1.0 F.2
    DATAF tmpf591
    DATA8 flag591
    DIVF -2.0 F.2 tmpf591
    CP_EQF 0.0 F.2 flag591
    SELECTF flag591 0.0 tmpf591 F.1

    MULF F.0 F.1 VLV_ENCODER_19
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds594
	MOVEF_32 100.0 milliseconds594
	DATA32 timer594
	TIMER_WAIT milliseconds594 timer594
	TIMER_READY timer594
    MATH NEGATE VLV_VELOCIDAD1_19 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_19 VLV_ENCODER_19 'True'

	DATA8 layer596
	DATA8 nos596
	DATA8 busy596
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer596 nos596
	JR_EQ8 0 nos596 motornotbusy596
  motorwaiting596:
	OUTPUT_TEST layer596 nos596 busy596
	JR_EQ8 busy596 0 motornotbusy596
	SLEEP
	JR motorwaiting596
  motornotbusy596:
    MOVEF_F 0.0 VLV_VELOCIDAD1_19
    MOVEF_F 0.0 VLV_VELOCIDAD2_19
    MOVEF_F 0.0 VLV_GRADOS_19
    DATA32 milliseconds597
	MOVEF_32 100.0 milliseconds597
	DATA32 timer597
	TIMER_WAIT milliseconds597 timer597
	TIMER_READY timer597
RETSUB_M_GIRO_GRADOS_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_GRADOS_3:
SUB_M_GIRO_TIEMPO_3:
    TIMER_READ timeMC3
  while599:
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_GTEQF F.0 VLV_TIEMPO_20 endwhile599
  whilebody599:
    MATH NEGATE VLV_VELOCIDAD1_20 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD2_20
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_LTF F.0 VLV_TIEMPO_20 whilebody599
  endwhile599:
    CALL MOTOR.STOP 'BC' 'True'
RETSUB_M_GIRO_TIEMPO_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_TIEMPO_3:
SUB_M_GIRO_GRADOSF_3:
    DATAF tmpf605
    DATA8 flag605
    DIVF VLV_VELOCIDAD1_21 VLV_VELOCIDAD2_21 tmpf605
    CP_EQF 0.0 VLV_VELOCIDAD2_21 flag605
    SELECTF flag605 0.0 tmpf605 F.0

    DATAF tmpf606
    DATA8 flag606
    DIVF VLV_VELOCIDAD1_21 VLV_VELOCIDAD2_21 tmpf606
    CP_EQF 0.0 VLV_VELOCIDAD2_21 flag606
    SELECTF flag606 0.0 tmpf606 F.2

    MATH ABS F.2 F.1
    DATAF tmpf608
    DATA8 flag608
    DIVF F.0 F.1 tmpf608
    CP_EQF 0.0 F.1 flag608
    SELECTF flag608 0.0 tmpf608 VLV_SIGNO_21

    MATH ABS VLV_VELOCIDAD1_21 F.0
    MATH ABS VLV_VELOCIDAD2_21 F.1
    DATA8 flag611
	CP_LTF F.0 F.1 flag611
	SELECTF flag611 F.0 F.1 VLV_VMIN_21
    MATH ABS VLV_VELOCIDAD1_21 F.0
    MATH ABS VLV_VELOCIDAD2_21 F.1
    DATA8 flag614
	CP_GTF F.0 F.1 flag614
	SELECTF flag614 F.0 F.1 VLV_VMAX_21
    MULF VLV_GRADOS_21 VPR_GIRO_G1 F.0
    MULF VLV_SIGNO_21 VLV_VMIN_21 F.4
    DATAF tmpf617
    DATA8 flag617
    DIVF F.4 VLV_VMAX_21 tmpf617
    CP_EQF 0.0 VLV_VMAX_21 flag617
    SELECTF flag617 0.0 tmpf617 F.3

    SUBF F.3 1.0 F.2
    DATAF tmpf619
    DATA8 flag619
    DIVF -2.0 F.2 tmpf619
    CP_EQF 0.0 F.2 flag619
    SELECTF flag619 0.0 tmpf619 F.1

    MULF F.0 F.1 VLV_ENCODER_21
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds622
	MOVEF_32 100.0 milliseconds622
	DATA32 timer622
	TIMER_WAIT milliseconds622 timer622
	TIMER_READY timer622
    MATH NEGATE VLV_VELOCIDAD1_21 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_21 VLV_ENCODER_21 'False'

	DATA8 layer624
	DATA8 nos624
	DATA8 busy624
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer624 nos624
	JR_EQ8 0 nos624 motornotbusy624
  motorwaiting624:
	OUTPUT_TEST layer624 nos624 busy624
	JR_EQ8 busy624 0 motornotbusy624
	SLEEP
	JR motorwaiting624
  motornotbusy624:
    MOVEF_F 0.0 VLV_VELOCIDAD1_21
    MOVEF_F 0.0 VLV_VELOCIDAD2_21
    MOVEF_F 0.0 VLV_GRADOS_21
    DATA32 milliseconds625
	MOVEF_32 100.0 milliseconds625
	DATA32 timer625
	TIMER_WAIT milliseconds625 timer625
	TIMER_READY timer625
RETSUB_M_GIRO_GRADOSF_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_GRADOSF_3:
SUB_M_GIRO_ENCODERF_3:
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_GIRO_DIAMETRO F.2 F.1
    DATAF tmpf628
    DATA8 flag628
    DIVF VLV_DISTANCIA_22 F.1 tmpf628
    CP_EQF 0.0 F.1 flag628
    SELECTF flag628 0.0 tmpf628 F.0

    MULF F.0 360.0 VLV_ENCODER_22
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MATH NEGATE VLV_VELOCIDAD1_22 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_22 VLV_ENCODER_22 'False'

	DATA8 layer632
	DATA8 nos632
	DATA8 busy632
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer632 nos632
	JR_EQ8 0 nos632 motornotbusy632
  motorwaiting632:
	OUTPUT_TEST layer632 nos632 busy632
	JR_EQ8 busy632 0 motornotbusy632
	SLEEP
	JR motorwaiting632
  motornotbusy632:
RETSUB_M_GIRO_ENCODERF_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_ENCODERF_3:
SUB_M_GIRO_COLOR1_4:
    CALL SENSOR.GETMODE VLV_SENS_23 VLV_MODE_23
    DATA8 layer634
	DATA8 no634
	DATA8 mode8634
	
	MOVEF_8 VLV_SENS_23 no634
	SUB8 no634 1 no634
	DIV8 no634 4 layer634
	MATH MOD8 no634 4 no634

	MOVEF_8 2.0 mode8634
	
	INPUT_DEVICE READY_RAW layer634 no634 0 mode8634 0
  while635:
    CALL SENSOR.READRAWVALUE VLV_SENS_23 0.0 F.0
    JR_EQF F.0 VLV_COLOR_23 endwhile635
  whilebody635:
    MATH NEGATE VLV_VELOCIDAD1_23 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD2_23
    CALL SENSOR.READRAWVALUE VLV_SENS_23 0.0 F.0
    JR_NEQF F.0 VLV_COLOR_23 whilebody635
  endwhile635:
    CALL MOTOR.STOP 'BC' 'True'
    DATA8 layer641
	DATA8 no641
	DATA8 mode8641
	
	MOVEF_8 VLV_SENS_23 no641
	SUB8 no641 1 no641
	DIV8 no641 4 layer641
	MATH MOD8 no641 4 no641

	MOVEF_8 VLV_MODE_23 mode8641
	
	INPUT_DEVICE READY_RAW layer641 no641 0 mode8641 0
RETSUB_M_GIRO_COLOR1_4:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_COLOR1_4:
SUB_M_GIRO_ENCODER_3:
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_GIRO_DIAMETRO F.2 F.1
    DATAF tmpf644
    DATA8 flag644
    DIVF VLV_DISTANCIA_24 F.1 tmpf644
    CP_EQF 0.0 F.1 flag644
    SELECTF flag644 0.0 tmpf644 F.0

    MULF F.0 360.0 VLV_ENCODER_24
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MATH NEGATE VLV_VELOCIDAD1_24 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_24 VLV_ENCODER_24 'True'

	DATA8 layer648
	DATA8 nos648
	DATA8 busy648
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer648 nos648
	JR_EQ8 0 nos648 motornotbusy648
  motorwaiting648:
	OUTPUT_TEST layer648 nos648 busy648
	JR_EQ8 busy648 0 motornotbusy648
	SLEEP
	JR motorwaiting648
  motornotbusy648:
RETSUB_M_GIRO_ENCODER_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_ENCODER_3:
SUB_M_SMART_ENCODER31F_2:
    MULF VLV_VELOCIDAD_25 1.0 VLV_VELOCIDAD_25
    MOVEF_F 50.0 VLV_LECTURA1_25
    MOVEF_F 50.0 VLV_LECTURA3_25
    MOVEF_F 50.0 VLV_LECTURA4_25
    DATAF tmpf650
    DATA8 flag650
    DIVF VLV_VELOCIDAD_25 220.0 tmpf650
    CP_EQF 0.0 220.0 flag650
    SELECTF flag650 0.0 tmpf650 VLV_KP_25

    MULF VLV_KP_25 28.0 VLV_KD_25
    MOVEF_F 3.1415926535897932384 F.1
    MULF VPR_SMART_DIAMETRO F.1 F.0
    DATAF tmpf654
    DATA8 flag654
    DIVF 2520.0 F.0 tmpf654
    CP_EQF 0.0 F.0 flag654
    SELECTF flag654 0.0 tmpf654 VLV_DISTANCIA_25

    MOVEF_F 0.0 VLV_ERROR_25
    MOVEF_F 0.0 VLV_OLDERROR_25
    MOVEF_F 0.0 VLV_U_25
    MATH ABS VLV_VELOCIDAD_25 F.0
    DATAF tmpf656
    DATA8 flag656
    DIVF VLV_VELOCIDAD_25 F.0 tmpf656
    CP_EQF 0.0 F.0 flag656
    SELECTF flag656 0.0 tmpf656 VLV_SENTIDO_25

    MOVEF_F VLV_VELOCIDAD_25 VLV_STARTVELOCIDAD_25
    MOVEF_F VLV_KP_25 VLV_STARTKP_25
    MOVEF_F VLV_KD_25 VLV_STARTKD_25
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SMART_DIAMETRO F.2 F.1
    DATAF tmpf659
    DATA8 flag659
    DIVF VLV_ENCODER_25 F.1 tmpf659
    CP_EQF 0.0 F.1 flag659
    SELECTF flag659 0.0 tmpf659 F.0

    MULF F.0 360.0 VLV_ENCODER_25
    CALL MOTOR.GETCOUNT 'C' VLV_STARTC_25
    MOVEF_F 0.0 VLV_ENCODERC_25
  while662:
    MATH ABS VLV_ENCODERC_25 F.0
    JR_GTEQF F.0 VLV_ENCODER_25 endwhile662
  whilebody662:
    CALL MOTOR.GETCOUNT 'C' F.0
    SUBF F.0 VLV_STARTC_25 VLV_ENCODERC_25
    JR_GTEQF VLV_ENCODERC_25 VLV_DISTANCIA_25 else666_1
    MOVEF_F 20.0 VLV_VELOCIDAD_25
    MOVEF_F 0.1 VLV_KP_25
    MULF VLV_KP_25 28.0 VLV_KD_25
    JR endif666
  else666_1:
    MOVEF_F VLV_STARTVELOCIDAD_25 VLV_VELOCIDAD_25
    MOVEF_F VLV_STARTKP_25 VLV_KP_25
    MOVEF_F VLV_STARTKD_25 VLV_KD_25
  else666_2:
  endif666:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SMART_NEGRO1 F.1
    DATAF tmpf670
    DATA8 flag670
    DIVF F.1 VPR_SMART_BLANCO1 tmpf670
    CP_EQF 0.0 VPR_SMART_BLANCO1 flag670
    SELECTF flag670 0.0 tmpf670 F.0

    SUBF 100.0 VPR_SMART_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_25
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SMART_NEGRO3 F.1
    DATAF tmpf675
    DATA8 flag675
    DIVF F.1 VPR_SMART_BLANCO3 tmpf675
    CP_EQF 0.0 VPR_SMART_BLANCO3 flag675
    SELECTF flag675 0.0 tmpf675 F.0

    SUBF 100.0 VPR_SMART_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_25
    SUBF VLV_LECTURA3_25 VLV_LECTURA1_25 F.1
    MULF F.1 VLV_SENTIDO_25 F.0
    MULF F.0 1.0 VLV_ERROR_25
    MULF VLV_ERROR_25 VLV_KP_25 F.0
    SUBF VLV_ERROR_25 VLV_OLDERROR_25 F.2
    MULF F.2 VLV_KD_25 F.1
    ADDF F.0 F.1 VLV_U_25
    ADDF VLV_VELOCIDAD_25 VLV_U_25 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_25 VLV_U_25 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_25 VLV_OLDERROR_25
    MATH ABS VLV_ENCODERC_25 F.0
    JR_LTF F.0 VLV_ENCODER_25 whilebody662
  endwhile662:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_SMART_ENCODER31F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SMART_ENCODER31F_2:
SUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:
    MULF VLV_VELOCIDAD_26 1.0 VLV_VELOCIDAD_26
    MOVEF_F 50.0 VLV_LECTURA1_26
    MOVEF_F 50.0 VLV_LECTURA3_26
    MOVEF_F 50.0 VLV_LECTURA4_26
    DATAF tmpf692
    DATA8 flag692
    DIVF VLV_VELOCIDAD_26 220.0 tmpf692
    CP_EQF 0.0 220.0 flag692
    SELECTF flag692 0.0 tmpf692 VLV_KP_26

    MULF VLV_KP_26 24.0 VLV_KD_26
    MOVEF_F 0.0 VLV_ERROR_26
    MOVEF_F 0.0 VLV_OLDERROR_26
    MOVEF_F 0.0 VLV_U_26
    MATH ABS VLV_VELOCIDAD_26 F.0
    DATAF tmpf695
    DATA8 flag695
    DIVF VLV_VELOCIDAD_26 F.0 tmpf695
    CP_EQF 0.0 F.0 flag695
    SELECTF flag695 0.0 tmpf695 VLV_SENTIDO_26

    MOVEF_F 50.0 VLV_LECTURA_26
  while696:
    JR_LTEQF VLV_LECTURA_26 10.0 endwhile696
  whilebody696:
    JR_NEQF VLV_READER_26 3.0 else697_1
    MOVEF_F VLV_LECTURA3_26 VLV_LECTURA_26
    MOVEF_F VLV_LECTURA1_26 VLV_LECTURAIZQ_26
    MOVEF_F VLV_LECTURA4_26 VLV_LECTURADCH_26
    JR endif697
  else697_1:
    MOVEF_F VLV_LECTURA4_26 VLV_LECTURA_26
    MOVEF_F VLV_LECTURA3_26 VLV_LECTURAIZQ_26
    MOVEF_F VLV_LECTURA1_26 VLV_LECTURADCH_26
  else697_2:
  endif697:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf700
    DATA8 flag700
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf700
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag700
    SELECTF flag700 0.0 tmpf700 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_26
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf705
    DATA8 flag705
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf705
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag705
    SELECTF flag705 0.0 tmpf705 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_26
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf710
    DATA8 flag710
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf710
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag710
    SELECTF flag710 0.0 tmpf710 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_26
    SUBF VLV_LECTURAIZQ_26 VLV_LECTURADCH_26 F.1
    MULF F.1 VLV_SENTIDO_26 F.0
    MULF F.0 1.0 VLV_ERROR_26
    MULF VLV_ERROR_26 VLV_KP_26 F.0
    SUBF VLV_ERROR_26 VLV_OLDERROR_26 F.2
    MULF F.2 VLV_KD_26 F.1
    ADDF F.0 F.1 VLV_U_26
    ADDF VLV_VELOCIDAD_26 VLV_U_26 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_26 VLV_U_26 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_26 VLV_OLDERROR_26
    JR_GTF VLV_LECTURA_26 10.0 whilebody696
  endwhile696:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:
SUB_M_SIGUELINEAS_ENCODER31F_2:
    MULF VLV_VELOCIDAD_27 1.0 VLV_VELOCIDAD_27
    MOVEF_F 50.0 VLV_LECTURA1_27
    MOVEF_F 50.0 VLV_LECTURA3_27
    MOVEF_F 50.0 VLV_LECTURA4_27
    DATAF tmpf726
    DATA8 flag726
    DIVF VLV_VELOCIDAD_27 220.0 tmpf726
    CP_EQF 0.0 220.0 flag726
    SELECTF flag726 0.0 tmpf726 VLV_KP_27

    MULF VLV_KP_27 24.0 VLV_KD_27
    MOVEF_F 0.0 VLV_ERROR_27
    MOVEF_F 0.0 VLV_OLDERROR_27
    MOVEF_F 0.0 VLV_U_27
    MATH ABS VLV_VELOCIDAD_27 F.0
    DATAF tmpf729
    DATA8 flag729
    DIVF VLV_VELOCIDAD_27 F.0 tmpf729
    CP_EQF 0.0 F.0 flag729
    SELECTF flag729 0.0 tmpf729 VLV_SENTIDO_27

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf732
    DATA8 flag732
    DIVF VLV_ENCODER_27 F.1 tmpf732
    CP_EQF 0.0 F.1 flag732
    SELECTF flag732 0.0 tmpf732 F.0

    MULF F.0 360.0 VLV_ENCODER_27
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_27
    MOVEF_F 0.0 VLV_ENCODERC_27
  while735:
    MATH ABS VLV_ENCODERC_27 F.0
    JR_GTEQF F.0 VLV_ENCODER_27 endwhile735
  whilebody735:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_27 VLV_ENCODERC_27
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf741
    DATA8 flag741
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf741
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag741
    SELECTF flag741 0.0 tmpf741 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_27
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf746
    DATA8 flag746
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf746
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag746
    SELECTF flag746 0.0 tmpf746 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_27
    SUBF VLV_LECTURA3_27 VLV_LECTURA1_27 F.1
    MULF F.1 VLV_SENTIDO_27 F.0
    MULF F.0 1.0 VLV_ERROR_27
    MULF VLV_ERROR_27 VLV_KP_27 F.0
    SUBF VLV_ERROR_27 VLV_OLDERROR_27 F.2
    MULF F.2 VLV_KD_27 F.1
    ADDF F.0 F.1 VLV_U_27
    ADDF VLV_VELOCIDAD_27 VLV_U_27 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_27 VLV_U_27 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_27 VLV_OLDERROR_27
    MATH ABS VLV_ENCODERC_27 F.0
    JR_LTF F.0 VLV_ENCODER_27 whilebody735
  endwhile735:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_SIGUELINEAS_ENCODER31F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER31F_2:
SUB_M_SIGUELINEAS_ENCODER14_2:
    MULF VLV_VELOCIDAD_28 1.0 VLV_VELOCIDAD_28
    MOVEF_F 50.0 VLV_LECTURA1_28
    MOVEF_F 50.0 VLV_LECTURA3_28
    MOVEF_F 50.0 VLV_LECTURA4_28
    DATAF tmpf763
    DATA8 flag763
    DIVF VLV_VELOCIDAD_28 220.0 tmpf763
    CP_EQF 0.0 220.0 flag763
    SELECTF flag763 0.0 tmpf763 VLV_KP_28

    MULF VLV_KP_28 24.0 VLV_KD_28
    MOVEF_F 0.0 VLV_ERROR_28
    MOVEF_F 0.0 VLV_OLDERROR_28
    MOVEF_F 0.0 VLV_U_28
    MATH ABS VLV_VELOCIDAD_28 F.0
    DATAF tmpf766
    DATA8 flag766
    DIVF VLV_VELOCIDAD_28 F.0 tmpf766
    CP_EQF 0.0 F.0 flag766
    SELECTF flag766 0.0 tmpf766 VLV_SENTIDO_28

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf769
    DATA8 flag769
    DIVF VLV_ENCODER_28 F.1 tmpf769
    CP_EQF 0.0 F.1 flag769
    SELECTF flag769 0.0 tmpf769 F.0

    MULF F.0 360.0 VLV_ENCODER_28
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_28
    MOVEF_F 0.0 VLV_ENCODERC_28
  while772:
    MATH ABS VLV_ENCODERC_28 F.0
    JR_GTEQF F.0 VLV_ENCODER_28 endwhile772
  whilebody772:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_28 VLV_ENCODERC_28
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf778
    DATA8 flag778
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf778
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag778
    SELECTF flag778 0.0 tmpf778 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_28
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf783
    DATA8 flag783
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf783
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag783
    SELECTF flag783 0.0 tmpf783 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_28
    SUBF VLV_LECTURA1_28 VLV_LECTURA4_28 F.1
    MULF F.1 VLV_SENTIDO_28 F.0
    MULF F.0 1.0 VLV_ERROR_28
    MULF VLV_ERROR_28 VLV_KP_28 F.0
    SUBF VLV_ERROR_28 VLV_OLDERROR_28 F.2
    MULF F.2 VLV_KD_28 F.1
    ADDF F.0 F.1 VLV_U_28
    ADDF VLV_VELOCIDAD_28 VLV_U_28 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_28 VLV_U_28 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_28 VLV_OLDERROR_28
    MATH ABS VLV_ENCODERC_28 F.0
    JR_LTF F.0 VLV_ENCODER_28 whilebody772
  endwhile772:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_SIGUELINEAS_ENCODER14_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER14_2:
SUB_M_SIGUELINEAS_COLOR31_2:
    CALL SENSOR.GETMODE 4.0 VLV_MODE_29
    DATA8 layer800
	DATA8 no800
	DATA8 mode8800
	
	MOVEF_8 4.0 no800
	SUB8 no800 1 no800
	DIV8 no800 4 layer800
	MATH MOD8 no800 4 no800

	MOVEF_8 2.0 mode8800
	
	INPUT_DEVICE READY_RAW layer800 no800 0 mode8800 0
    MULF VLV_VELOCIDAD_29 1.0 VLV_VELOCIDAD_29
    MOVEF_F 50.0 VLV_LECTURA1_29
    MOVEF_F 50.0 VLV_LECTURA3_29
    MOVEF_F 50.0 VLV_LECTURA4_29
    DATAF tmpf802
    DATA8 flag802
    DIVF VLV_VELOCIDAD_29 220.0 tmpf802
    CP_EQF 0.0 220.0 flag802
    SELECTF flag802 0.0 tmpf802 VLV_KP_29

    MULF VLV_KP_29 24.0 VLV_KD_29
    MOVEF_F 0.0 VLV_ERROR_29
    MOVEF_F 0.0 VLV_OLDERROR_29
    MOVEF_F 0.0 VLV_U_29
    MATH ABS VLV_VELOCIDAD_29 F.0
    DATAF tmpf805
    DATA8 flag805
    DIVF VLV_VELOCIDAD_29 F.0 tmpf805
    CP_EQF 0.0 F.0 flag805
    SELECTF flag805 0.0 tmpf805 VLV_SENTIDO_29

  while806:
    CALL SENSOR.READRAWVALUE 4.0 0.0 F.0
    JR_EQF F.0 VLV_COLOR_29 endwhile806
  whilebody806:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf810
    DATA8 flag810
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf810
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag810
    SELECTF flag810 0.0 tmpf810 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_29
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf815
    DATA8 flag815
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf815
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag815
    SELECTF flag815 0.0 tmpf815 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA3_29
    SUBF VLV_LECTURA3_29 VLV_LECTURA1_29 F.1
    MULF F.1 VLV_SENTIDO_29 F.0
    MULF F.0 1.0 VLV_ERROR_29
    MULF VLV_ERROR_29 VLV_KP_29 F.0
    SUBF VLV_ERROR_29 VLV_OLDERROR_29 F.2
    MULF F.2 VLV_KD_29 F.1
    ADDF F.0 F.1 VLV_U_29
    ADDF VLV_VELOCIDAD_29 VLV_U_29 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_29 VLV_U_29 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_29 VLV_OLDERROR_29
    CALL SENSOR.READRAWVALUE 4.0 0.0 F.0
    JR_NEQF F.0 VLV_COLOR_29 whilebody806
  endwhile806:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
    DATA8 layer831
	DATA8 no831
	DATA8 mode8831
	
	MOVEF_8 4.0 no831
	SUB8 no831 1 no831
	DIV8 no831 4 layer831
	MATH MOD8 no831 4 no831

	MOVEF_8 VLV_MODE_29 mode8831
	
	INPUT_DEVICE READY_RAW layer831 no831 0 mode8831 0
RETSUB_M_SIGUELINEAS_COLOR31_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_COLOR31_2:
SUB_M_SIGUELINEAS_COLOR31F_2:
    CALL SENSOR.GETMODE 4.0 VLV_MODE_30
    DATA8 layer833
	DATA8 no833
	DATA8 mode8833
	
	MOVEF_8 4.0 no833
	SUB8 no833 1 no833
	DIV8 no833 4 layer833
	MATH MOD8 no833 4 no833

	MOVEF_8 2.0 mode8833
	
	INPUT_DEVICE READY_RAW layer833 no833 0 mode8833 0
    MULF VLV_VELOCIDAD_30 1.0 VLV_VELOCIDAD_30
    MOVEF_F 50.0 VLV_LECTURA1_30
    MOVEF_F 50.0 VLV_LECTURA3_30
    MOVEF_F 50.0 VLV_LECTURA4_30
    DATAF tmpf835
    DATA8 flag835
    DIVF VLV_VELOCIDAD_30 220.0 tmpf835
    CP_EQF 0.0 220.0 flag835
    SELECTF flag835 0.0 tmpf835 VLV_KP_30

    MULF VLV_KP_30 24.0 VLV_KD_30
    MOVEF_F 0.0 VLV_ERROR_30
    MOVEF_F 0.0 VLV_OLDERROR_30
    MOVEF_F 0.0 VLV_U_30
    MATH ABS VLV_VELOCIDAD_30 F.0
    DATAF tmpf838
    DATA8 flag838
    DIVF VLV_VELOCIDAD_30 F.0 tmpf838
    CP_EQF 0.0 F.0 flag838
    SELECTF flag838 0.0 tmpf838 VLV_SENTIDO_30

  while839:
    CALL SENSOR.READRAWVALUE 4.0 0.0 F.0
    JR_EQF F.0 VLV_COLOR_30 endwhile839
  whilebody839:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf843
    DATA8 flag843
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf843
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag843
    SELECTF flag843 0.0 tmpf843 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_30
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf848
    DATA8 flag848
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf848
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag848
    SELECTF flag848 0.0 tmpf848 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA3_30
    SUBF VLV_LECTURA3_30 VLV_LECTURA1_30 F.1
    MULF F.1 VLV_SENTIDO_30 F.0
    MULF F.0 1.0 VLV_ERROR_30
    MULF VLV_ERROR_30 VLV_KP_30 F.0
    SUBF VLV_ERROR_30 VLV_OLDERROR_30 F.2
    MULF F.2 VLV_KD_30 F.1
    ADDF F.0 F.1 VLV_U_30
    ADDF VLV_VELOCIDAD_30 VLV_U_30 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_30 VLV_U_30 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_30 VLV_OLDERROR_30
    CALL SENSOR.READRAWVALUE 4.0 0.0 F.0
    JR_NEQF F.0 VLV_COLOR_30 whilebody839
  endwhile839:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA8 layer864
	DATA8 no864
	DATA8 mode8864
	
	MOVEF_8 4.0 no864
	SUB8 no864 1 no864
	DIV8 no864 4 layer864
	MATH MOD8 no864 4 no864

	MOVEF_8 VLV_MODE_30 mode8864
	
	INPUT_DEVICE READY_RAW layer864 no864 0 mode8864 0
RETSUB_M_SIGUELINEAS_COLOR31F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_COLOR31F_2:
SUB_M_RGB_DETECT_3:
    CALL SENSOR.GETMODE VLV_SENS_31 VLV_SENS_MODE_31
    DATA8 layer866
	DATA8 no866
	DATA8 mode8866
	
	MOVEF_8 VLV_SENS_31 no866
	SUB8 no866 1 no866
	DIV8 no866 4 layer866
	MATH MOD8 no866 4 no866

	MOVEF_8 4.0 mode8866
	
	INPUT_DEVICE READY_RAW layer866 no866 0 mode8866 0
    MOVEF_F 15.0 VLV_RED_31
    MOVEF_F 60.0 VLV_YELLOW_31
    MOVEF_F 170.0 VLV_GREEN_31
    MOVEF_F 330.0 VLV_BLUE_31
    MOVEF_F 0.0 VLV_HUE_31
    MOVEF_F 0.0 VLV_SAT_31
    MOVEF_F 0.0 VLV_VALUE_31
    MOVEF_F 0.0 VLV_COLOR_31
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_RNORMARRAY_31
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_GNORMARRAY_31
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_BNORMARRAY_31
    CALL LCD.CLEAR
    MOVEF_F 1.0 VLV_J_31
  for871:
    JR_GTF VLV_J_31 VLV_REPS_31 endfor871
  forbody871:
    CALL SENSOR.READRAW VLV_SENS_31 3.0 VLV_RGB_31
    CALL ARRAYGET_FLOAT 0.0 VLV_RRAW_31 VLV_RGB_31
    CALL ARRAYGET_FLOAT 1.0 VLV_GRAW_31 VLV_RGB_31
    CALL ARRAYGET_FLOAT 2.0 VLV_BRAW_31 VLV_RGB_31
    DATAF tmpf876
    DATA8 flag876
    DIVF VLV_RRAW_31 VPR_RGB_RWHITE tmpf876
    CP_EQF 0.0 VPR_RGB_RWHITE flag876
    SELECTF flag876 0.0 tmpf876 F.2

    MULF F.2 255.0 F.1
    MATH ROUND F.1 F.0
    CALL ARRAYSTORE_FLOAT VLV_J_31 F.0 VLV_RNORMARRAY_31
    DATAF tmpf880
    DATA8 flag880
    DIVF VLV_GRAW_31 VPR_RGB_GWHITE tmpf880
    CP_EQF 0.0 VPR_RGB_GWHITE flag880
    SELECTF flag880 0.0 tmpf880 F.2

    MULF F.2 255.0 F.1
    MATH ROUND F.1 F.0
    CALL ARRAYSTORE_FLOAT VLV_J_31 F.0 VLV_GNORMARRAY_31
    DATAF tmpf884
    DATA8 flag884
    DIVF VLV_BRAW_31 VPR_RGB_BWHITE tmpf884
    CP_EQF 0.0 VPR_RGB_BWHITE flag884
    SELECTF flag884 0.0 tmpf884 F.2

    MULF F.2 255.0 F.1
    MATH ROUND F.1 F.0
    CALL ARRAYSTORE_FLOAT VLV_J_31 F.0 VLV_BNORMARRAY_31
    DATA32 milliseconds888
	MOVEF_32 5.0 milliseconds888
	DATA32 timer888
	TIMER_WAIT milliseconds888 timer888
	TIMER_READY timer888
    ADDF VLV_J_31 1.0 VLV_J_31
    JR_LTEQF VLV_J_31 VLV_REPS_31 forbody871
  endfor871:
    MOVEF_F 1.0 VLV_J_31
  for890:
    JR_GTF VLV_J_31 VLV_REPS_31 endfor890
  forbody890:
    CALL ARRAYGET_FLOAT VLV_J_31 F.0 VLV_RNORMARRAY_31
    ADDF VLV_J_31 1.0 F.2
    CALL ARRAYGET_FLOAT F.2 F.1 VLV_RNORMARRAY_31
    ADDF F.0 F.1 VLV_RNORM_31
    CALL ARRAYGET_FLOAT VLV_J_31 F.0 VLV_GNORMARRAY_31
    ADDF VLV_J_31 1.0 F.2
    CALL ARRAYGET_FLOAT F.2 F.1 VLV_GNORMARRAY_31
    ADDF F.0 F.1 VLV_GNORM_31
    CALL ARRAYGET_FLOAT VLV_J_31 F.0 VLV_BNORMARRAY_31
    ADDF VLV_J_31 1.0 F.2
    CALL ARRAYGET_FLOAT F.2 F.1 VLV_BNORMARRAY_31
    ADDF F.0 F.1 VLV_BNORM_31
    ADDF VLV_J_31 2.0 VLV_J_31
    JR_LTEQF VLV_J_31 VLV_REPS_31 forbody890
  endfor890:
    DATAF tmpf904
    DATA8 flag904
    DIVF VLV_RNORM_31 VLV_REPS_31 tmpf904
    CP_EQF 0.0 VLV_REPS_31 flag904
    SELECTF flag904 0.0 tmpf904 VLV_RNORM_31

    DATAF tmpf905
    DATA8 flag905
    DIVF VLV_GNORM_31 VLV_REPS_31 tmpf905
    CP_EQF 0.0 VLV_REPS_31 flag905
    SELECTF flag905 0.0 tmpf905 VLV_GNORM_31

    DATAF tmpf906
    DATA8 flag906
    DIVF VLV_BNORM_31 VLV_REPS_31 tmpf906
    CP_EQF 0.0 VLV_REPS_31 flag906
    SELECTF flag906 0.0 tmpf906 VLV_BNORM_31

    DATA8 flag907
	CP_GTF VLV_RNORM_31 VLV_GNORM_31 flag907
	SELECTF flag907 VLV_RNORM_31 VLV_GNORM_31 F.0
    DATA8 flag908
	CP_GTF F.0 VLV_BNORM_31 flag908
	SELECTF flag908 F.0 VLV_BNORM_31 VLV_MAX_31
    DATA8 flag909
	CP_LTF VLV_RNORM_31 VLV_GNORM_31 flag909
	SELECTF flag909 VLV_RNORM_31 VLV_GNORM_31 F.0
    DATA8 flag910
	CP_LTF F.0 VLV_BNORM_31 flag910
	SELECTF flag910 F.0 VLV_BNORM_31 VLV_MIN_31
    JR_NEQF VLV_MAX_31 VLV_MIN_31 else911_1
    MOVEF_F 0.0 VLV_HUE_31
    JR endif911
  else911_1:
    JR_NEQF VLV_MAX_31 VLV_RNORM_31 else911_2
    JR_LTF VLV_GNORM_31 VLV_BNORM_31 else912_1
    SUBF VLV_GNORM_31 VLV_BNORM_31 F.1
    MULF 60.0 F.1 F.0
    SUBF VLV_MAX_31 VLV_MIN_31 F.1
    DATAF tmpf916
    DATA8 flag916
    DIVF F.0 F.1 tmpf916
    CP_EQF 0.0 F.1 flag916
    SELECTF flag916 0.0 tmpf916 VLV_HUE_31

    JR endif912
  else912_1:
    SUBF VLV_GNORM_31 VLV_BNORM_31 F.2
    MULF 60.0 F.2 F.1
    SUBF VLV_MAX_31 VLV_MIN_31 F.2
    DATAF tmpf920
    DATA8 flag920
    DIVF F.1 F.2 tmpf920
    CP_EQF 0.0 F.2 flag920
    SELECTF flag920 0.0 tmpf920 F.0

    ADDF F.0 360.0 VLV_HUE_31
  else912_2:
  endif912:
    JR endif911
  else911_2:
    JR_NEQF VLV_MAX_31 VLV_GNORM_31 else911_3
    SUBF VLV_BNORM_31 VLV_RNORM_31 F.2
    MULF 60.0 F.2 F.1
    SUBF VLV_MAX_31 VLV_MIN_31 F.2
    DATAF tmpf925
    DATA8 flag925
    DIVF F.1 F.2 tmpf925
    CP_EQF 0.0 F.2 flag925
    SELECTF flag925 0.0 tmpf925 F.0

    ADDF F.0 120.0 VLV_HUE_31
    JR endif911
  else911_3:
    SUBF VLV_RNORM_31 VLV_GNORM_31 F.2
    MULF 60.0 F.2 F.1
    SUBF VLV_MAX_31 VLV_MIN_31 F.2
    DATAF tmpf930
    DATA8 flag930
    DIVF F.1 F.2 tmpf930
    CP_EQF 0.0 F.2 flag930
    SELECTF flag930 0.0 tmpf930 F.0

    ADDF F.0 240.0 VLV_HUE_31
  else911_4:
  endif911:
    JR_NEQF VLV_MAX_31 0.0 else932_1
    MOVEF_F 0.0 VLV_SAT_31
    JR endif932
  else932_1:
    DATAF tmpf933
    DATA8 flag933
    DIVF VLV_MIN_31 VLV_MAX_31 tmpf933
    CP_EQF 0.0 VLV_MAX_31 flag933
    SELECTF flag933 0.0 tmpf933 F.0

    SUBF 1.0 F.0 VLV_SAT_31
  else932_2:
  endif932:
    MOVEF_F VLV_MAX_31 VLV_VALUE_31
    ADDF VPR_RGB_VALUEBLANCO VPR_RGB_VALUENEGRO F.0
    DATAF tmpf936
    DATA8 flag936
    DIVF F.0 2.0 tmpf936
    CP_EQF 0.0 2.0 flag936
    SELECTF flag936 0.0 tmpf936 VLV_RGBGREY_31

    ADDF VLV_RNORM_31 VLV_GNORM_31 F.1
    ADDF F.1 VLV_BNORM_31 F.0
    JR_GTF F.0 3.0 else937_1
    MOVEF_F 0.0 VLV_COLOR_31
    JR endif937
  else937_1:
    JR_GTEQF VLV_SAT_31 0.2 else940_1
    JR_LTEQF VLV_VALUE_31 VLV_RGBGREY_31 else941_1
    MOVEF_F 6.0 VLV_COLOR_31
    JR endif941
  else941_1:
    MOVEF_F 1.0 VLV_COLOR_31
  else941_2:
  endif941:
    JR endif940
  else940_1:
    JR_LTF VLV_HUE_31 0.0 else942_1
    JR_GTEQF VLV_HUE_31 VLV_RED_31 else942_1
    MOVEF_F 5.0 VLV_COLOR_31
    JR endif942
  else942_1:
    JR_LTF VLV_HUE_31 VLV_RED_31 else942_2
    JR_GTEQF VLV_HUE_31 VLV_YELLOW_31 else942_2
    MOVEF_F 4.0 VLV_COLOR_31
    JR endif942
  else942_2:
    JR_LTF VLV_HUE_31 VLV_YELLOW_31 else942_3
    JR_GTEQF VLV_HUE_31 VLV_GREEN_31 else942_3
    MOVEF_F 3.0 VLV_COLOR_31
    JR endif942
  else942_3:
    JR_LTF VLV_HUE_31 VLV_GREEN_31 else942_4
    JR_GTEQF VLV_HUE_31 VLV_BLUE_31 else942_4
    MOVEF_F 2.0 VLV_COLOR_31
    JR endif942
  else942_4:
    MOVEF_F 5.0 VLV_COLOR_31
  else942_5:
  endif942:
  else940_2:
  endif940:
  else937_2:
  endif937:
    MOVE32_32 1 STOPLCDUPDATE
    CALL LCD.CLEAR
    STRINGS VALUE_FORMATTED VLV_RRAW_31 '%g' 99 S.1
    CALL TEXT.APPEND 'R: ' S.1 S.0
    CALL LCD.WRITE 33.0 20.0 S.0
    STRINGS VALUE_FORMATTED VLV_GRAW_31 '%g' 99 S.1
    CALL TEXT.APPEND 'G: ' S.1 S.0
    CALL LCD.WRITE 33.0 35.0 S.0
    STRINGS VALUE_FORMATTED VLV_BRAW_31 '%g' 99 S.1
    CALL TEXT.APPEND 'B: ' S.1 S.0
    CALL LCD.WRITE 33.0 50.0 S.0
    STRINGS VALUE_FORMATTED VLV_COLOR_31 '%g' 99 S.1
    CALL TEXT.APPEND 'color: ' S.1 S.0
    CALL LCD.WRITE 33.0 70.0 S.0
    STRINGS VALUE_FORMATTED VLV_VALUE_31 '%g' 99 S.1
    CALL TEXT.APPEND 'Value: ' S.1 S.0
    CALL LCD.WRITE 33.0 90.0 S.0
    MOVE32_32 0 STOPLCDUPDATE
	UI_DRAW UPDATE
    DATA8 layer961
	DATA8 no961
	DATA8 mode8961
	
	MOVEF_8 VLV_SENS_31 no961
	SUB8 no961 1 no961
	DIV8 no961 4 layer961
	MATH MOD8 no961 4 no961

	MOVEF_8 VLV_SENS_MODE_31 mode8961
	
	INPUT_DEVICE READY_RAW layer961 no961 0 mode8961 0
RETSUB_M_RGB_DETECT_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RGB_DETECT_3:
SUB_M_RGB_GRITAR_1:
    JR_NEQF VLV_COLOR_32 0.0 else962_1
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Zero'
    JR endif962
  else962_1:
    JR_NEQF VLV_COLOR_32 1.0 else962_2
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Black'
    JR endif962
  else962_2:
    JR_NEQF VLV_COLOR_32 2.0 else962_3
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/BLUE'
    JR endif962
  else962_3:
    JR_NEQF VLV_COLOR_32 3.0 else962_4
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/GREEN'
    JR endif962
  else962_4:
    JR_NEQF VLV_COLOR_32 4.0 else962_5
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/YELLOW'
    JR endif962
  else962_5:
    JR_NEQF VLV_COLOR_32 5.0 else962_6
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/RED'
    JR endif962
  else962_6:
    JR_NEQF VLV_COLOR_32 6.0 else962_7
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/White'
    JR endif962
  else962_7:
    JR_NEQF VLV_COLOR_32 7.0 else962_8
    CALL SPEAKER.PLAY 100.0 'WRO2024/Media/Brown'
  else962_8:
  endif962:
    SOUND_READY
RETSUB_M_RGB_GRITAR_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RGB_GRITAR_1:
}
subcall ARRAYSTORE_FLOAT   // FFFV
{
	IN_F index
	IN_F value	
	IN_16 handle
	
	DATA32 index32
	DATA32 len	
	MOVEF_32 index index32

	ARRAY SIZE handle len
	JR_LT32 index32 0 negativeindex
	JR_LT32 index32 len arraybigenough

increasesize:	
	DATA32 doublelen
	ADD32 len len doublelen
	ARRAY RESIZE handle doublelen
writeloop:	
	ARRAY_WRITE handle len 0.0
	ADD32 len 1 len
	JR_LT32 len doublelen writeloop
	JR_GTEQ32 index32 len increasesize
	
arraybigenough:
	ARRAY_WRITE handle index32 value
negativeindex:
}
subcall ARRAYGET_FLOAT     // FFF
{
	IN_F index
	OUT_F value
	IN_16 handle
	
	DATA32 index32
	DATA32 len
	MOVEF_32 index index32
	
	ARRAY SIZE handle len
	JR_LT32 index32 0 outofbounds
	JR_GTEQ32 index32 len outofbounds
	
	ARRAY_READ handle index32 value
	RETURN
outofbounds:
	MOVE8_F 0 value	
}
subcall SPEAKER.PLAY    // FSV 
{
	IN_F volume
	IN_S filename 252	

	// prepend a path to really reach the target file from the current working directory
	DATA8 vol 
	DATAS fullname 300
	MOVEF_8 volume vol

	STRINGS ADD '../../../..' filename fullname  // when using absolute path, go to file system top from the VM directory and then back down
	JR_EQ8 filename 47 absolutepath               // filename begins with a '/' - using absolute path
	STRINGS ADD '../prjs/' filename fullname      // by default use path relative to prjs folder (must go from the current VM directory to there)
absolutepath:
	
	SOUND PLAY vol fullname
}
subcall EV3.BATTERYVOLTAGE  // F
{
	OUT_F voltage
	UI_READ GET_VBATT voltage
}
subcall MOTOR.GETCOUNT    // SF     MOTORDECODEPORTDESCRIPTOR
{
	IN_S port 8
	OUT_F result
	
	DATA8 layer
	DATA8 no
	DATA32 tacho
	
	CALL MOTORDECODEPORTDESCRIPTOR port layer no
	JR_LT8 no 0 noport
	
	OUTPUT_GET_COUNT layer no tacho
	MOVE32_F tacho result

	DATA8 nos
	RL8 1 no nos
	DATA8 inv
	READ8 MOTORISINVERTED layer inv 
	AND8 inv nos inv
	JR_EQ8 inv 0 noinvert
	SUBF 0.0 result result
noinvert:
	RETURN

noport:	
	MOVE8_F 0 result	
}
subcall MOTORDECODEPORTDESCRIPTOR  //  V
{
	IN_S descriptor 8
	OUT_8 layer
	OUT_8 no

	DATA8 i 
	DATA8 c

	MOVE8_8 0 layer
	MOVE8_8 -1 no
	MOVE8_8 0 i
loop:
	READ8 descriptor i c
	JR_EQ8 c 0 decoding_end
	
	JR_LT8 c 65 no_uppercase_port
	JR_GT8 c 68 no_uppercase_port
	SUB8 c 65 c
	MOVE8_8 c no
	JR loop_end
no_uppercase_port:
	JR_LT8 c 97 no_lowercase_port
	JR_GT8 c 100 no_lowercase_port
	SUB8 c 97 c
	MOVE8_8 c no
	JR loop_end
no_lowercase_port:
	JR_LT8 c 49 loop_end
	JR_GT8 c 52 loop_end
	SUB8 c 49 layer
loop_end:
	ADD8 1 i i
	JR loop	
	
decoding_end:
	RETURN
}
subcall LCD.CLEAR   // V
{
	UI_DRAW(TOPLINE,0)
	UI_DRAW(CLEAN)
	
	JR_NEQ32 0 STOPLCDUPDATE skipupdate
	UI_DRAW UPDATE
skipupdate:
}
subcall TEXT.APPEND     // SSS
{
	IN_S a 252
	IN_S b 252
    OUT_S result 252
	
	DATA16 len0
	DATA16 len1
	DATA16 sum

	STRINGS GET_SIZE a len0
	STRINGS GET_SIZE b len1
	ADD16 len0,len1,sum
	JR_GT16 sum,251,stringsizeexceeded

	STRINGS ADD a b result
	RETURN
	
stringsizeexceeded:	
    STRINGS DUPLICATE a result
}
subcall LCD.WRITE     // FFSV
{
	IN_F x
	IN_F y
	IN_S text 252
	
	DATA16 x_16
	DATA16 y_16
	MOVEF_16 x x_16
	MOVEF_16 y y_16
	
	UI_DRAW SELECT_FONT 1
	UI_DRAW TEXT 1 x_16 y_16 text

	JR_NEQ32 0 STOPLCDUPDATE skipupdate
	UI_DRAW UPDATE
skipupdate:
}
subcall MOTOR.STOP       // SSV      MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_S brake 8

	DATA8 layer
	DATA8 nos	
	DATA8 brk
	
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	JR_EQ8 nos 0 noport

	AND8888_32 brake -538976289 brake        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE brake 'TRUE' brk	
	
	OUTPUT_STOP layer nos brk
noport:
}
subcall MOTORDECODEPORTSDESCRIPTOR  //  V
{
	IN_S descriptor 8
	OUT_8 layer
	OUT_8 nos

	DATA8 i 
	DATA8 c

	MOVE8_8 0 layer
	MOVE8_8 0 nos	
	MOVE8_8 0 i
loop:
	READ8 descriptor i c
	JR_EQ8 c 0 decoding_end
	
	JR_LT8 c 65 no_uppercase_port
	JR_GT8 c 68 no_uppercase_port
	SUB8 c 65 c
	RL8  1 c c
	OR8  nos c nos
	JR loop_end
no_uppercase_port:
	JR_LT8 c 97 no_lowercase_port
	JR_GT8 c 100 no_lowercase_port
	SUB8 c 97 c
	RL8  1 c c
	OR8  nos c nos	
	JR loop_end
no_lowercase_port:
	JR_LT8 c 49 loop_end
	JR_GT8 c 52 loop_end
	SUB8 c 49 layer
loop_end:
	ADD8 1 i i
	JR loop	
	
decoding_end:
	RETURN
}
subcall MOTOR.STARTSYNC      // SFFV       MOTORSTARTSTEERIMPL
{
	IN_S ports 8
	IN_F speed1
	IN_F speed2

	JR_GTEQF speed1 -100.0 nottoosmall1
	MOVEF_F -100.0 speed1
nottoosmall1:
	JR_LTEQF speed1 100.0 nottoobig1
	MOVEF_F 100.0 speed1
nottoobig1:
	JR_GTEQF speed2 -100.0 nottoosmall2
	MOVEF_F -100.0 speed2
nottoosmall2:
	JR_LTEQF speed1 100.0 nottoobig2
	MOVEF_F 100.0 speed2
nottoobig2:

	DATAF speed  
	DATAF turn
	MOVE8_F 0 speed
	MOVE8_F 0 turn

	DATAF speed1abs
	DATAF speed2abs
	MATH ABS speed1 speed1abs
	MATH ABS speed2 speed2abs
	JR_LTF speed1abs speed2abs secondisfaster
	JR_EQF speed1abs 0.0 donecomputation
	 MOVEF_F speed1 speed
	 MULF 100.0 speed2 turn
	 DIVF turn speed1 turn
	 SUBF 100.0 turn turn
	JR donecomputation
secondisfaster:
	 MOVEF_F speed2 speed
	 MULF 100.0 speed1 turn
	 DIVF turn speed2 turn
	 SUBF turn 100.0 turn
donecomputation:

	CALL MOTORSTARTSTEERIMPL ports speed turn
}
subcall MOTORSTARTSTEERIMPL      // SFFV       MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_F speed
	IN_F turn

	DATA8 layer
	DATA8 nos	
	DATA8 first
	DATA8 second
	DATA8 invfirst
	DATA8 invsecond

	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	READ8 FIRSTOF2 nos first
	JR_EQ8 0 first not_two_ports
	XOR8 first nos second
	READ8 MOTORISINVERTED layer invfirst
	AND8 first invfirst invfirst
	READ8 MOTORISINVERTED layer invsecond
	AND8 second invsecond invsecond

	JR_LTF turn 0.0 second_is_master
first_is_master:
	JR_EQ8 invfirst 0 non_invert_first
	SUBF 0.0 speed speed
	JR_NEQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion
non_invert_first:
	JR_EQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion

second_is_master:
	JR_EQ8 invsecond 0 non_invert_second
	SUBF 0.0 speed speed
	JR_NEQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion
non_invert_second:
	JR_EQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion

done_inversion:
	DATA8 spd  
	DATA16 trn
	MOVEF_16 turn trn
	MOVEF_8 speed spd
	OUTPUT_STEP_SYNC layer nos spd trn 0 0
not_two_ports:
}
subcall MOTOR.SCHEDULESYNC   // SFFFSV    MOTORSCHEDULESTEERIMPL
{
	IN_S ports 8
	IN_F speed1
	IN_F speed2
	IN_F count
	IN_S brake 8
	
	JR_GTEQF speed1 -100.0 nottoosmall1
	MOVEF_F -100.0 speed1
nottoosmall1:
	JR_LTEQF speed1 100.0 nottoobig1
	MOVEF_F 100.0 speed1
nottoobig1:
	JR_GTEQF speed2 -100.0 nottoosmall2
	MOVEF_F -100.0 speed2
nottoosmall2:
	JR_LTEQF speed2 100.0 nottoobig2
	MOVEF_F 100.0 speed2
nottoobig2:

	DATAF speed  
	DATAF turn
	MOVE8_F 0 speed
	MOVE8_F 0 turn

	DATAF speed1abs
	DATAF speed2abs
	MATH ABS speed1 speed1abs
	MATH ABS speed2 speed2abs
	JR_LTF speed1abs speed2abs secondisfaster
	JR_EQF speed1abs 0.0 donecomputation
	 MOVEF_F speed1 speed
	 MULF 100.0 speed2 turn
	 DIVF turn speed1 turn
	 SUBF 100.0 turn turn
	JR donecomputation
secondisfaster:
	 MOVEF_F speed2 speed
	 MULF 100.0 speed1 turn
	 DIVF turn speed2 turn
	 SUBF turn 100.0 turn
donecomputation:
	
	CALL MOTORSCHEDULESTEERIMPL ports speed turn count brake
}
subcall MOTORSCHEDULESTEERIMPL   // SFFFSV    MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_F speed
	IN_F turn
	IN_F count
	IN_S brake 8
	
	DATA8 layer
	DATA8 nos	
	DATA8 first
	DATA8 second
	DATA8 invfirst
	DATA8 invsecond
	
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	READ8 FIRSTOF2 nos first
	JR_EQ8 0 first not_two_ports
	XOR8 first nos second
	READ8 MOTORISINVERTED layer invfirst
	AND8 first invfirst invfirst
	READ8 MOTORISINVERTED layer invsecond
	AND8 second invsecond invsecond

	JR_LTF turn 0.0 second_is_master
first_is_master:
	JR_EQ8 invfirst 0 non_invert_first
	SUBF 0.0 speed speed
	JR_NEQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion
non_invert_first:
	JR_EQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion

second_is_master:
	JR_EQ8 invsecond 0 non_invert_second
	SUBF 0.0 speed speed
	JR_NEQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion
non_invert_second:
	JR_EQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion

done_inversion:
	DATA32 cnt
	DATA8 brk
	MATH ABS count count
	MOVEF_32 count cnt
	AND8888_32 brake -538976289 brake        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE brake 'TRUE' brk	

	JR_LTEQ32 cnt 0 dontmove	

	DATA8 spd  
	DATA16 trn
	MOVEF_16 turn trn
	MOVEF_8 speed spd
	OUTPUT_STEP_SYNC layer nos spd trn cnt brk	
dontmove:	
not_two_ports:
}
subcall SENSOR.READPERCENT       // FF
{
	IN_F port
	OUT_F result

	DATA8 layer
	DATA8 no
	DATA8 percentage

	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no

	INPUT_READ layer no 0 -1 percentage
	JR_LT8 percentage 0 novalue
	
	MOVE8_F percentage result
	RETURN
novalue:	
	MOVE8_F 0 result
}
subcall SENSOR.GETMODE		// FF
{
	IN_F port
	OUT_F result
	
	DATA8 layer
	DATA8 no
	DATA8 type
	DATA8 mode
	
	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no
	
	INPUT_DEVICE GET_TYPEMODE layer no type mode
	MOVE8_F mode result
}
subcall SENSOR.READRAWVALUE            // FFF
{
	IN_F port
	IN_F index
	OUT_F result

	DATA8 layer
	DATA8 no
	DATA8 index8
		
	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no

	MOVEF_8 index index8
	JR_LT8 index8 0 outofbounds
	JR_GT8 index8 7 outofbounds

	DATA32 rawvalue0
	DATA32 rawvalue1
	DATA32 rawvalue2
	DATA32 rawvalue3
	DATA32 rawvalue4
	DATA32 rawvalue5
	DATA32 rawvalue6
	DATA32 rawvalue7
	INPUT_READEXT layer no 0 -1 18 8 rawvalue0 rawvalue1 rawvalue2 rawvalue3 rawvalue4 rawvalue5 rawvalue6 rawvalue7
	
	DATA32 rawtmp
	READ32 rawvalue0 index8 rawtmp

	JR_LT32 rawtmp -1000000000 nomoredata
	MOVE32_F rawtmp result
	RETURN

nomoredata:
outofbounds:
	MOVEF_F 0.0 result
}
subcall SENSOR.READRAW            // FFA
{
	IN_F port
	IN_F values
	IN_16 resultarray
	
	DATA8 layer
	DATA8 no
	DATA32 values32
		
	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no

	MOVEF_32 values values32

	JR_LTEQ32 values32 0 arrayempty
	ARRAY RESIZE resultarray values32

	DATA32 rawvalue0
	DATA32 rawvalue1
	DATA32 rawvalue2
	DATA32 rawvalue3
	DATA32 rawvalue4
	DATA32 rawvalue5
	DATA32 rawvalue6
	DATA32 rawvalue7
	INPUT_READEXT layer no 0 -1 18 8 rawvalue0 rawvalue1 rawvalue2 rawvalue3 rawvalue4 rawvalue5 rawvalue6 rawvalue7
	
	DATA32 i
	DATA32 rawtmp
	MOVE32_32 0 i
loop:
	DATA8 tmp8
	DATAF tmpf

	MOVEF_F 0.0 tmpf
	JR_GTEQ32 i 8 nomoredata

	MOVE32_8 i tmp8
	READ32 rawvalue0 tmp8 rawtmp
	JR_LT32 rawtmp -1000000000 nomoredata
	MOVE32_F rawtmp tmpf

nomoredata:	
	ARRAY_WRITE resultarray i tmpf

	ADD32 i 1 i
	JR_LT32 i values32 loop
	RETURN

arrayempty:
	ARRAY RESIZE resultarray 0
}
subcall ARRAYCREATE_FLOAT   // F
{
	OUT_16 handle
	
	ARRAY CREATEF 8 handle			// create with 8 elements
	ARRAY FILL handle 0.0
}
subcall GETANDINC32     // V
{
	IN_32 counterin
	IN_32 inc
	OUT_32 counterout
	OUT_32 prev

	MOVE32_32 counterin prev
	ADD32 counterin inc counterout
}
