DATA16 FD_NATIVECODECOMMAND
DATA16 FD_NATIVECODERESPONSE
DATA32 STOPLCDUPDATE
DATA32 NUMMAILBOXES
ARRAY8 MOTORISINVERTED 4     
ARRAY8 FIRSTOF2  16
ARRAY16 LOCKS 2           
DATA32 s1out1
DATA32 s1out2
DATA32 s1out3
DATA32 s2out1
DATA32 s2out2
DATA32 s2out3
DATA32 s3out1
DATA32 s3out2
DATA32 s3out3
DATA32 s4out1
DATA32 s4out2
DATA32 s4out3
DATA32 getTachoA
DATA32 tmpTachoA
DATA8 getSpeedA
DATA8 setSpeedA
DATA8 setPowerA
DATA32 getTachoB
DATA32 tmpTachoB
DATA8 getSpeedB
DATA8 setSpeedB
DATA8 setPowerB
DATA32 getTachoC
DATA32 tmpTachoC
DATA8 getSpeedC
DATA8 setSpeedC
DATA8 setPowerC
DATA32 getTachoD
DATA32 tmpTachoD
DATA8 getSpeedD
DATA8 setSpeedD
DATA8 setPowerD
DATA16 newArray1d
DATA32 newSize1d
DATA32 newIndex1d
DATA32 timeMC1
DATA32 timeMC2
DATA32 timeMC3
DATA32 timeMC4
DATA32 timeMC5
DATA32 timeMC6
DATA32 timeMC7
DATA32 timeMC8
DATA32 timeMC9
DATA32 timeMC1tmp
DATA32 timeMC2tmp
DATA32 timeMC3tmp
DATA32 timeMC4tmp
DATA32 timeMC5tmp
DATA32 timeMC6tmp
DATA32 timeMC7tmp
DATA32 timeMC8tmp
DATA32 timeMC9tmp
DATAF VPR_GIRO_G1
DATAF VPR_RGB_VALUENEGRO
DATAF VPR_RGB_VALUEBLANCO
DATAF VPR_RGB_RWHITE
DATAF VPR_RGB_GWHITE
DATAF VPR_RGB_BWHITE
DATAF VPR_RECTO_DIAMETRO
DATAF VPR_GIRO_DIAMETRO
DATAF VPR_SIGUELINEAS_DIAMETRO
DATAF VPR_SMART_DIAMETRO
DATAF VPR_SIGUELINEAS_NEGRO1
DATAF VPR_SIGUELINEAS_NEGRO3
DATAF VPR_SIGUELINEAS_NEGRO4
DATAF VPR_SIGUELINEAS_BLANCO1
DATAF VPR_SIGUELINEAS_BLANCO3
DATAF VPR_SIGUELINEAS_BLANCO4
DATAF VPR_SMART_NEGRO1
DATAF VPR_SMART_NEGRO3
DATAF VPR_SMART_NEGRO4
DATAF VPR_SMART_BLANCO1
DATAF VPR_SMART_BLANCO3
DATAF VPR_SMART_BLANCO4
DATAF VPR_RECTO_NEGRO
DATAF VPR_RECTO_BLANCO
DATAF VPR_GIRO_NEGRO
DATAF VPR_GIRO_BLANCO
DATAF VLV_NUMERO_2
DATAF VLV_VELOCIDAD_9
DATAF VLV_TIMER_9
DATAF VLV_VELOCIDAD_10
DATAF VLV_ENCODER_10
DATAF VLV_VELOCIDAD1_11
DATAF VLV_VELOCIDAD2_11
DATAF VLV_DISTANCIA_11
DATAF VLV_VELOCIDAD1_12
DATAF VLV_VELOCIDAD2_12
DATAF VLV_GRADOS_12
DATAF VLV_VELOCIDAD_19
DATAF VLV_SENSOR_19
DATAF VLV_VELOCIDAD1_13
DATAF VLV_VELOCIDAD2_13
DATAF VLV_GRADOS_13
DATAF VLV_VELOCIDAD_27
DATAF VLV_VELOCIDAD_28
DATAF VLV_ENCODER_28
DATAF VLV_VELOCIDAD_20
DATAF VLV_DISTANCIA_20
DATAF VLV_SENS_34
DATAF VLV_REPS_34
DATAF VLV_COLOR_34
DATAF VLV_VELOCIDAD_21
DATAF VLV_TIEMPO_21
DATAF VLV_VELOCIDAD1_14
DATAF VLV_VELOCIDAD2_14
DATAF VLV_SENS_14
DATAF VLV_VELOCIDAD_29
DATAF VLV_ENCODER_29
DATAF VLV_VELOCIDAD_22
DATAF VLV_DISTANCIA_22
DATAF VLV_VELOCIDAD1_15
DATAF VLV_VELOCIDAD2_15
DATAF VLV_SENS_15
DATAF VLV_VELOCIDAD_30
DATAF VLV_READER_30
DATAF VLV_VELOCIDAD_23
DATAF VLV_SENSOR_23
DATAF VLV_COLOR_23
DATAF VLV_VELOCIDAD1_16
DATAF VLV_VELOCIDAD2_16
DATAF VLV_DISTANCIA_16
DATAF VLV_VELOCIDAD_24
DATAF VLV_SENSOR_24
DATAF VLV_VELOCIDAD_31
DATAF VLV_READER_31
DATAF VLV_VELOCIDAD_25
DATAF VLV_SENSOR_25
ARRAY16 VLV_MARKING_6 2
DATAF VLV_VELOCIDAD1_17
DATAF VLV_VELOCIDAD2_17
DATAF VLV_TIEMPO_17
DATAF VLV_VELOCIDAD1_18
DATAF VLV_VELOCIDAD2_18
DATAF VLV_TIEMPO_18
DATAF VLV_VELOCIDAD_26
DATAF VLV_SENSOR_26
DATAF VLV_VELOCIDAD_32
DATAF VLV_ENCODER_32
DATAF VLV_VELOCIDAD_33
DATAF VLV_ENCODER_33
DATAF VLV_GRADOS_5
DATAF VLV_COLOR_35
ARRAY16 VLV_MARKING_4 2
DATAS VLV_CODIGO_4 252
DATAF VGV_MARKINGGRANDE
DATAS VLV_CODIGO_6 252
DATAF VGV_DIAMETRO
DATAF VGV_NEGRO1
DATAF VGV_NEGRO3
DATAF VGV_NEGRO4
DATAF VGV_BLANCO1
DATAF VGV_BLANCO3
DATAF VGV_BLANCO4
DATAF VGV_COLOR
ARRAY16 VGV_MARKING 2
DATAF VGV_TIEMPO
DATAF VLV_VOLTAJE_1
DATAF VLV_AUX_4
DATAF VLV_I_4
DATAF VLV_SIGNO_5
DATAF VLV_ENCDIFF_10
DATAF VLV_SIGNO_10
DATAF VLV_ENCODER_11
DATAF VLV_SIGNO_12
DATAF VLV_VMIN_12
DATAF VLV_VMAX_12
DATAF VLV_ENCODER_12
DATAF VLV_SIGNO_13
DATAF VLV_VMIN_13
DATAF VLV_VMAX_13
DATAF VLV_ENCODER_13
DATAF VLV_LECTURA_14
DATAF VLV_LECTURA_15
DATAF VLV_ENCODER_16
DATAF VLV_CORRECCION_19
DATAF VLV_LECTURA_19
DATAF VLV_SAFETYTIMER_20
DATAF VLV_CORRECCION_20
DATAF VLV_ENC_20
DATAF VLV_CORRECCION_21
DATAF VLV_SAFETYTIMER_22
DATAF VLV_CORRECCION_22
DATAF VLV_ENC_22
DATAF VLV_CORRECCION_23
DATAF VLV_MODE_23
DATAF VLV_CORRECCION_24
DATAF VLV_LECTURA_24
DATAF VLV_CORRECCION_25
DATAF VLV_LECTURA_25
DATAF VLV_CORRECCION_26
DATAF VLV_LECTURA_26
DATAF VLV_LECTURA1_27
DATAF VLV_LECTURA3_27
DATAF VLV_LECTURA4_27
DATAF VLV_KP_27
DATAF VLV_KD_27
DATAF VLV_ERROR_27
DATAF VLV_OLDERROR_27
DATAF VLV_U_27
DATAF VLV_SENTIDO_27
DATAF VLV_LECTURA1_28
DATAF VLV_LECTURA3_28
DATAF VLV_LECTURA4_28
DATAF VLV_KP_28
DATAF VLV_KD_28
DATAF VLV_ERROR_28
DATAF VLV_OLDERROR_28
DATAF VLV_U_28
DATAF VLV_SENTIDO_28
DATAF VLV_STARTC_28
DATAF VLV_ENCODERC_28
DATAF VLV_SAFETYTIMER_28
DATAF VLV_LECTURA1_29
DATAF VLV_LECTURA3_29
DATAF VLV_LECTURA4_29
DATAF VLV_KP_29
DATAF VLV_KD_29
DATAF VLV_ERROR_29
DATAF VLV_OLDERROR_29
DATAF VLV_U_29
DATAF VLV_SENTIDO_29
DATAF VLV_STARTC_29
DATAF VLV_ENCODERC_29
DATAF VLV_SAFETYTIMER_29
DATAF VLV_LECTURA1_30
DATAF VLV_LECTURA3_30
DATAF VLV_LECTURA4_30
DATAF VLV_KP_30
DATAF VLV_KD_30
DATAF VLV_ERROR_30
DATAF VLV_OLDERROR_30
DATAF VLV_U_30
DATAF VLV_SENTIDO_30
DATAF VLV_LECTURA_30
DATAF VLV_LECTURAIZQ_30
DATAF VLV_LECTURADCH_30
DATAF VLV_LECTURA1_31
DATAF VLV_LECTURA3_31
DATAF VLV_LECTURA4_31
DATAF VLV_KP_31
DATAF VLV_KD_31
DATAF VLV_ERROR_31
DATAF VLV_OLDERROR_31
DATAF VLV_U_31
DATAF VLV_SENTIDO_31
DATAF VLV_LECTURA_31
DATAF VLV_LECTURAIZQ_31
DATAF VLV_LECTURADCH_31
DATAF VLV_LECTURA1_32
DATAF VLV_LECTURA3_32
DATAF VLV_LECTURA4_32
DATAF VLV_KP_32
DATAF VLV_KD_32
DATAF VLV_ERROR_32
DATAF VLV_OLDERROR_32
DATAF VLV_U_32
DATAF VLV_SENTIDO_32
DATAF VLV_STARTC_32
DATAF VLV_ENCODERC_32
DATAF VLV_SAFETYTIMER_32
DATAF VLV_LECTURA1_33
DATAF VLV_LECTURA3_33
DATAF VLV_LECTURA4_33
DATAF VLV_KP_33
DATAF VLV_KD_33
DATAF VLV_ERROR_33
DATAF VLV_OLDERROR_33
DATAF VLV_U_33
DATAF VLV_SENTIDO_33
DATAF VLV_STARTC_33
DATAF VLV_ENCODERC_33
DATAF VLV_SAFETYTIMER_33
DATAF VLV_SENS_MODE_34
DATAF VLV_RED_34
DATAF VLV_YELLOW_34
DATAF VLV_GREEN_34
DATAF VLV_BLUE_34
DATAF VLV_HUE_34
DATAF VLV_SAT_34
DATAF VLV_VALUE_34
ARRAY16 VLV_RNORMARRAY_34 2
ARRAY16 VLV_GNORMARRAY_34 2
ARRAY16 VLV_BNORMARRAY_34 2
DATAF VLV_J_34
ARRAY16 VLV_RGB_34 2
DATAF VLV_RRAW_34
DATAF VLV_GRAW_34
DATAF VLV_BRAW_34
DATAF VLV_RNORM_34
DATAF VLV_GNORM_34
DATAF VLV_BNORM_34
DATAF VLV_MAX_34
DATAF VLV_MIN_34
DATAF VLV_RGBGREY_34
DATA32 RUNCOUNTER_F_GRITARCOLOR_0
DATA32 RUNCOUNTER_F_SAFETYTIMERBRAZO_0

vmthread MAIN
{
    MOVE32_32 0 STOPLCDUPDATE
    MOVE32_32 0 NUMMAILBOXES
    OUTPUT_RESET 0 15

	WRITE8 0 0 MOTORISINVERTED
	WRITE8 0 1 MOTORISINVERTED
	WRITE8 0 2 MOTORISINVERTED
	WRITE8 0 3 MOTORISINVERTED
	WRITE8 0 0 FIRSTOF2
	WRITE8 0 1 FIRSTOF2
	WRITE8 0 2 FIRSTOF2
	WRITE8 1 3 FIRSTOF2
	WRITE8 0 4 FIRSTOF2
	WRITE8 1 5 FIRSTOF2
	WRITE8 2 6 FIRSTOF2
	WRITE8 0 7 FIRSTOF2
	WRITE8 0 8 FIRSTOF2
	WRITE8 1 9 FIRSTOF2
	WRITE8 2 10 FIRSTOF2
	WRITE8 0 11 FIRSTOF2
	WRITE8 4 12 FIRSTOF2
	WRITE8 0 13 FIRSTOF2
	WRITE8 0 14 FIRSTOF2
	WRITE8 0 15 FIRSTOF2
    INPUT_DEVICE CLR_ALL -1
    ARRAY CREATE8 0 LOCKS
    MOVE32_32 0 s1out1
	MOVE32_32 0 s1out2
	MOVE32_32 0 s1out3
    MOVE32_32 0 s2out1
	MOVE32_32 0 s2out2
	MOVE32_32 0 s2out3
    MOVE32_32 0 s3out1
	MOVE32_32 0 s3out2
	MOVE32_32 0 s3out3
    MOVE32_32 0 s4out1
	MOVE32_32 0 s4out2
	MOVE32_32 0 s4out3
    MOVE32_32 0 timeMC1
	MOVE32_32 0 timeMC2
	MOVE32_32 0 timeMC3
	MOVE32_32 0 timeMC4
	MOVE32_32 0 timeMC5
	MOVE32_32 0 timeMC6
	MOVE32_32 0 timeMC7
	MOVE32_32 0 timeMC8
	MOVE32_32 0 timeMC9
    MOVEF_F 0.0 VPR_GIRO_G1
    MOVEF_F 0.0 VPR_RGB_VALUENEGRO
    MOVEF_F 0.0 VPR_RGB_VALUEBLANCO
    MOVEF_F 0.0 VPR_RGB_RWHITE
    MOVEF_F 0.0 VPR_RGB_GWHITE
    MOVEF_F 0.0 VPR_RGB_BWHITE
    MOVEF_F 0.0 VPR_RECTO_DIAMETRO
    MOVEF_F 0.0 VPR_GIRO_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_DIAMETRO
    MOVEF_F 0.0 VPR_SMART_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO4
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO4
    MOVEF_F 0.0 VPR_SMART_NEGRO1
    MOVEF_F 0.0 VPR_SMART_NEGRO3
    MOVEF_F 0.0 VPR_SMART_NEGRO4
    MOVEF_F 0.0 VPR_SMART_BLANCO1
    MOVEF_F 0.0 VPR_SMART_BLANCO3
    MOVEF_F 0.0 VPR_SMART_BLANCO4
    MOVEF_F 0.0 VPR_RECTO_NEGRO
    MOVEF_F 0.0 VPR_RECTO_BLANCO
    MOVEF_F 0.0 VPR_GIRO_NEGRO
    MOVEF_F 0.0 VPR_GIRO_BLANCO
    MOVEF_F 0.0 VLV_NUMERO_2
    MOVEF_F 0.0 VLV_VELOCIDAD_9
    MOVEF_F 0.0 VLV_TIMER_9
    MOVEF_F 0.0 VLV_VELOCIDAD_10
    MOVEF_F 0.0 VLV_ENCODER_10
    MOVEF_F 0.0 VLV_VELOCIDAD1_11
    MOVEF_F 0.0 VLV_VELOCIDAD2_11
    MOVEF_F 0.0 VLV_DISTANCIA_11
    MOVEF_F 0.0 VLV_VELOCIDAD1_12
    MOVEF_F 0.0 VLV_VELOCIDAD2_12
    MOVEF_F 0.0 VLV_GRADOS_12
    MOVEF_F 0.0 VLV_VELOCIDAD_19
    MOVEF_F 0.0 VLV_SENSOR_19
    MOVEF_F 0.0 VLV_VELOCIDAD1_13
    MOVEF_F 0.0 VLV_VELOCIDAD2_13
    MOVEF_F 0.0 VLV_GRADOS_13
    MOVEF_F 0.0 VLV_VELOCIDAD_27
    MOVEF_F 0.0 VLV_VELOCIDAD_28
    MOVEF_F 0.0 VLV_ENCODER_28
    MOVEF_F 0.0 VLV_VELOCIDAD_20
    MOVEF_F 0.0 VLV_DISTANCIA_20
    MOVEF_F 0.0 VLV_SENS_34
    MOVEF_F 0.0 VLV_REPS_34
    MOVEF_F 0.0 VLV_COLOR_34
    MOVEF_F 0.0 VLV_VELOCIDAD_21
    MOVEF_F 0.0 VLV_TIEMPO_21
    MOVEF_F 0.0 VLV_VELOCIDAD1_14
    MOVEF_F 0.0 VLV_VELOCIDAD2_14
    MOVEF_F 0.0 VLV_SENS_14
    MOVEF_F 0.0 VLV_VELOCIDAD_29
    MOVEF_F 0.0 VLV_ENCODER_29
    MOVEF_F 0.0 VLV_VELOCIDAD_22
    MOVEF_F 0.0 VLV_DISTANCIA_22
    MOVEF_F 0.0 VLV_VELOCIDAD1_15
    MOVEF_F 0.0 VLV_VELOCIDAD2_15
    MOVEF_F 0.0 VLV_SENS_15
    MOVEF_F 0.0 VLV_VELOCIDAD_30
    MOVEF_F 0.0 VLV_READER_30
    MOVEF_F 0.0 VLV_VELOCIDAD_23
    MOVEF_F 0.0 VLV_SENSOR_23
    MOVEF_F 0.0 VLV_COLOR_23
    MOVEF_F 0.0 VLV_VELOCIDAD1_16
    MOVEF_F 0.0 VLV_VELOCIDAD2_16
    MOVEF_F 0.0 VLV_DISTANCIA_16
    MOVEF_F 0.0 VLV_VELOCIDAD_24
    MOVEF_F 0.0 VLV_SENSOR_24
    MOVEF_F 0.0 VLV_VELOCIDAD_31
    MOVEF_F 0.0 VLV_READER_31
    MOVEF_F 0.0 VLV_VELOCIDAD_25
    MOVEF_F 0.0 VLV_SENSOR_25
    CALL ARRAYCREATE_FLOAT VLV_MARKING_6
    MOVEF_F 0.0 VLV_VELOCIDAD1_17
    MOVEF_F 0.0 VLV_VELOCIDAD2_17
    MOVEF_F 0.0 VLV_TIEMPO_17
    MOVEF_F 0.0 VLV_VELOCIDAD1_18
    MOVEF_F 0.0 VLV_VELOCIDAD2_18
    MOVEF_F 0.0 VLV_TIEMPO_18
    MOVEF_F 0.0 VLV_VELOCIDAD_26
    MOVEF_F 0.0 VLV_SENSOR_26
    MOVEF_F 0.0 VLV_VELOCIDAD_32
    MOVEF_F 0.0 VLV_ENCODER_32
    MOVEF_F 0.0 VLV_VELOCIDAD_33
    MOVEF_F 0.0 VLV_ENCODER_33
    MOVEF_F 0.0 VLV_GRADOS_5
    MOVEF_F 0.0 VLV_COLOR_35
    CALL ARRAYCREATE_FLOAT VLV_MARKING_4
    STRINGS DUPLICATE '' VLV_CODIGO_4
    MOVEF_F 0.0 VGV_MARKINGGRANDE
    STRINGS DUPLICATE '' VLV_CODIGO_6
    MOVEF_F 0.0 VGV_DIAMETRO
    MOVEF_F 0.0 VGV_NEGRO1
    MOVEF_F 0.0 VGV_NEGRO3
    MOVEF_F 0.0 VGV_NEGRO4
    MOVEF_F 0.0 VGV_BLANCO1
    MOVEF_F 0.0 VGV_BLANCO3
    MOVEF_F 0.0 VGV_BLANCO4
    MOVEF_F 0.0 VGV_COLOR
    CALL ARRAYCREATE_FLOAT VGV_MARKING
    MOVEF_F 0.0 VGV_TIEMPO
    MOVEF_F 0.0 VLV_VOLTAJE_1
    MOVEF_F 0.0 VLV_AUX_4
    MOVEF_F 0.0 VLV_I_4
    MOVEF_F 0.0 VLV_SIGNO_5
    MOVEF_F 0.0 VLV_ENCDIFF_10
    MOVEF_F 0.0 VLV_SIGNO_10
    MOVEF_F 0.0 VLV_ENCODER_11
    MOVEF_F 0.0 VLV_SIGNO_12
    MOVEF_F 0.0 VLV_VMIN_12
    MOVEF_F 0.0 VLV_VMAX_12
    MOVEF_F 0.0 VLV_ENCODER_12
    MOVEF_F 0.0 VLV_SIGNO_13
    MOVEF_F 0.0 VLV_VMIN_13
    MOVEF_F 0.0 VLV_VMAX_13
    MOVEF_F 0.0 VLV_ENCODER_13
    MOVEF_F 0.0 VLV_LECTURA_14
    MOVEF_F 0.0 VLV_LECTURA_15
    MOVEF_F 0.0 VLV_ENCODER_16
    MOVEF_F 0.0 VLV_CORRECCION_19
    MOVEF_F 0.0 VLV_LECTURA_19
    MOVEF_F 0.0 VLV_SAFETYTIMER_20
    MOVEF_F 0.0 VLV_CORRECCION_20
    MOVEF_F 0.0 VLV_ENC_20
    MOVEF_F 0.0 VLV_CORRECCION_21
    MOVEF_F 0.0 VLV_SAFETYTIMER_22
    MOVEF_F 0.0 VLV_CORRECCION_22
    MOVEF_F 0.0 VLV_ENC_22
    MOVEF_F 0.0 VLV_CORRECCION_23
    MOVEF_F 0.0 VLV_MODE_23
    MOVEF_F 0.0 VLV_CORRECCION_24
    MOVEF_F 0.0 VLV_LECTURA_24
    MOVEF_F 0.0 VLV_CORRECCION_25
    MOVEF_F 0.0 VLV_LECTURA_25
    MOVEF_F 0.0 VLV_CORRECCION_26
    MOVEF_F 0.0 VLV_LECTURA_26
    MOVEF_F 0.0 VLV_LECTURA1_27
    MOVEF_F 0.0 VLV_LECTURA3_27
    MOVEF_F 0.0 VLV_LECTURA4_27
    MOVEF_F 0.0 VLV_KP_27
    MOVEF_F 0.0 VLV_KD_27
    MOVEF_F 0.0 VLV_ERROR_27
    MOVEF_F 0.0 VLV_OLDERROR_27
    MOVEF_F 0.0 VLV_U_27
    MOVEF_F 0.0 VLV_SENTIDO_27
    MOVEF_F 0.0 VLV_LECTURA1_28
    MOVEF_F 0.0 VLV_LECTURA3_28
    MOVEF_F 0.0 VLV_LECTURA4_28
    MOVEF_F 0.0 VLV_KP_28
    MOVEF_F 0.0 VLV_KD_28
    MOVEF_F 0.0 VLV_ERROR_28
    MOVEF_F 0.0 VLV_OLDERROR_28
    MOVEF_F 0.0 VLV_U_28
    MOVEF_F 0.0 VLV_SENTIDO_28
    MOVEF_F 0.0 VLV_STARTC_28
    MOVEF_F 0.0 VLV_ENCODERC_28
    MOVEF_F 0.0 VLV_SAFETYTIMER_28
    MOVEF_F 0.0 VLV_LECTURA1_29
    MOVEF_F 0.0 VLV_LECTURA3_29
    MOVEF_F 0.0 VLV_LECTURA4_29
    MOVEF_F 0.0 VLV_KP_29
    MOVEF_F 0.0 VLV_KD_29
    MOVEF_F 0.0 VLV_ERROR_29
    MOVEF_F 0.0 VLV_OLDERROR_29
    MOVEF_F 0.0 VLV_U_29
    MOVEF_F 0.0 VLV_SENTIDO_29
    MOVEF_F 0.0 VLV_STARTC_29
    MOVEF_F 0.0 VLV_ENCODERC_29
    MOVEF_F 0.0 VLV_SAFETYTIMER_29
    MOVEF_F 0.0 VLV_LECTURA1_30
    MOVEF_F 0.0 VLV_LECTURA3_30
    MOVEF_F 0.0 VLV_LECTURA4_30
    MOVEF_F 0.0 VLV_KP_30
    MOVEF_F 0.0 VLV_KD_30
    MOVEF_F 0.0 VLV_ERROR_30
    MOVEF_F 0.0 VLV_OLDERROR_30
    MOVEF_F 0.0 VLV_U_30
    MOVEF_F 0.0 VLV_SENTIDO_30
    MOVEF_F 0.0 VLV_LECTURA_30
    MOVEF_F 0.0 VLV_LECTURAIZQ_30
    MOVEF_F 0.0 VLV_LECTURADCH_30
    MOVEF_F 0.0 VLV_LECTURA1_31
    MOVEF_F 0.0 VLV_LECTURA3_31
    MOVEF_F 0.0 VLV_LECTURA4_31
    MOVEF_F 0.0 VLV_KP_31
    MOVEF_F 0.0 VLV_KD_31
    MOVEF_F 0.0 VLV_ERROR_31
    MOVEF_F 0.0 VLV_OLDERROR_31
    MOVEF_F 0.0 VLV_U_31
    MOVEF_F 0.0 VLV_SENTIDO_31
    MOVEF_F 0.0 VLV_LECTURA_31
    MOVEF_F 0.0 VLV_LECTURAIZQ_31
    MOVEF_F 0.0 VLV_LECTURADCH_31
    MOVEF_F 0.0 VLV_LECTURA1_32
    MOVEF_F 0.0 VLV_LECTURA3_32
    MOVEF_F 0.0 VLV_LECTURA4_32
    MOVEF_F 0.0 VLV_KP_32
    MOVEF_F 0.0 VLV_KD_32
    MOVEF_F 0.0 VLV_ERROR_32
    MOVEF_F 0.0 VLV_OLDERROR_32
    MOVEF_F 0.0 VLV_U_32
    MOVEF_F 0.0 VLV_SENTIDO_32
    MOVEF_F 0.0 VLV_STARTC_32
    MOVEF_F 0.0 VLV_ENCODERC_32
    MOVEF_F 0.0 VLV_SAFETYTIMER_32
    MOVEF_F 0.0 VLV_LECTURA1_33
    MOVEF_F 0.0 VLV_LECTURA3_33
    MOVEF_F 0.0 VLV_LECTURA4_33
    MOVEF_F 0.0 VLV_KP_33
    MOVEF_F 0.0 VLV_KD_33
    MOVEF_F 0.0 VLV_ERROR_33
    MOVEF_F 0.0 VLV_OLDERROR_33
    MOVEF_F 0.0 VLV_U_33
    MOVEF_F 0.0 VLV_SENTIDO_33
    MOVEF_F 0.0 VLV_STARTC_33
    MOVEF_F 0.0 VLV_ENCODERC_33
    MOVEF_F 0.0 VLV_SAFETYTIMER_33
    MOVEF_F 0.0 VLV_SENS_MODE_34
    MOVEF_F 0.0 VLV_RED_34
    MOVEF_F 0.0 VLV_YELLOW_34
    MOVEF_F 0.0 VLV_GREEN_34
    MOVEF_F 0.0 VLV_BLUE_34
    MOVEF_F 0.0 VLV_HUE_34
    MOVEF_F 0.0 VLV_SAT_34
    MOVEF_F 0.0 VLV_VALUE_34
    CALL ARRAYCREATE_FLOAT VLV_RNORMARRAY_34
    CALL ARRAYCREATE_FLOAT VLV_GNORMARRAY_34
    CALL ARRAYCREATE_FLOAT VLV_BNORMARRAY_34
    MOVEF_F 0.0 VLV_J_34
    CALL ARRAYCREATE_FLOAT VLV_RGB_34
    MOVEF_F 0.0 VLV_RRAW_34
    MOVEF_F 0.0 VLV_GRAW_34
    MOVEF_F 0.0 VLV_BRAW_34
    MOVEF_F 0.0 VLV_RNORM_34
    MOVEF_F 0.0 VLV_GNORM_34
    MOVEF_F 0.0 VLV_BNORM_34
    MOVEF_F 0.0 VLV_MAX_34
    MOVEF_F 0.0 VLV_MIN_34
    MOVEF_F 0.0 VLV_RGBGREY_34
    MOVE32_32 0 RUNCOUNTER_F_GRITARCOLOR_0
    MOVE32_32 0 RUNCOUNTER_F_SAFETYTIMERBRAZO_0
    ARRAY CREATE8 1 LOCKS
    CALL PROGRAM_MAIN -1
    PROGRAM_STOP -1
}
vmthread TF_GRITARCOLOR_0
{
    DATA32 tmp
  launch:
    CALL PROGRAM_F_GRITARCOLOR_0 0
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 -1 RUNCOUNTER_F_GRITARCOLOR_0 tmp
    JR_GT32 tmp 1 launch
}
vmthread TF_SAFETYTIMERBRAZO_0
{
    DATA32 tmp
  launch:
    CALL PROGRAM_F_SAFETYTIMERBRAZO_0 1
    CALL GETANDINC32 RUNCOUNTER_F_SAFETYTIMERBRAZO_0 -1 RUNCOUNTER_F_SAFETYTIMERBRAZO_0 tmp
    JR_GT32 tmp 1 launch
}
subcall PROGRAM_MAIN
subcall PROGRAM_F_GRITARCOLOR_0
subcall PROGRAM_F_SAFETYTIMERBRAZO_0
{
    IN_32 SUBPROGRAM
    DATA32 INDEX
    ARRAY8 STACKPOINTER 4
    DATAF F.0
    DATAF F.1
    DATAF F.2
    DATAF F.3
    DATAF F.4
    ARRAY32 RETURNSTACK2 128
    ARRAY32 RETURNSTACK 128
    DATAS S.0 252
    DATAS S.1 252
    DATAS S.2 252
    MOVE8_8 0 STACKPOINTER
    JR_NEQ32 SUBPROGRAM 0 dispatch1087
    WRITE32 ENDSUB_F_GRITARCOLOR_0:ENDTHREAD STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARCOLOR_0
  dispatch1087:
    JR_NEQ32 SUBPROGRAM 1 dispatch1088
    WRITE32 ENDSUB_F_SAFETYTIMERBRAZO_0:ENDTHREAD STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SAFETYTIMERBRAZO_0
  dispatch1088:
    MOVEF_F 0.0 VPR_GIRO_G1
    MOVEF_F 0.0 VPR_RGB_VALUENEGRO
    MOVEF_F 0.0 VPR_RGB_VALUEBLANCO
    MOVEF_F 0.0 VPR_RGB_RWHITE
    MOVEF_F 0.0 VPR_RGB_GWHITE
    MOVEF_F 0.0 VPR_RGB_BWHITE
    MOVEF_F 0.0 VPR_RECTO_DIAMETRO
    MOVEF_F 0.0 VPR_GIRO_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_DIAMETRO
    MOVEF_F 0.0 VPR_SMART_DIAMETRO
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_NEGRO4
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO1
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO3
    MOVEF_F 0.0 VPR_SIGUELINEAS_BLANCO4
    MOVEF_F 0.0 VPR_SMART_NEGRO1
    MOVEF_F 0.0 VPR_SMART_NEGRO3
    MOVEF_F 0.0 VPR_SMART_NEGRO4
    MOVEF_F 0.0 VPR_SMART_BLANCO1
    MOVEF_F 0.0 VPR_SMART_BLANCO3
    MOVEF_F 0.0 VPR_SMART_BLANCO4
    MOVEF_F 0.0 VPR_RECTO_NEGRO
    MOVEF_F 0.0 VPR_RECTO_BLANCO
    MOVEF_F 0.0 VPR_GIRO_NEGRO
    MOVEF_F 0.0 VPR_GIRO_BLANCO
    MOVEF_F 0.0 VLV_NUMERO_2
    MOVEF_F 0.0 VLV_VELOCIDAD_9
    MOVEF_F 0.0 VLV_TIMER_9
    MOVEF_F 0.0 VLV_VELOCIDAD_10
    MOVEF_F 0.0 VLV_ENCODER_10
    MOVEF_F 0.0 VLV_VELOCIDAD1_11
    MOVEF_F 0.0 VLV_VELOCIDAD2_11
    MOVEF_F 0.0 VLV_DISTANCIA_11
    MOVEF_F 0.0 VLV_VELOCIDAD1_12
    MOVEF_F 0.0 VLV_VELOCIDAD2_12
    MOVEF_F 0.0 VLV_GRADOS_12
    MOVEF_F 0.0 VLV_VELOCIDAD_19
    MOVEF_F 0.0 VLV_SENSOR_19
    MOVEF_F 0.0 VLV_VELOCIDAD1_13
    MOVEF_F 0.0 VLV_VELOCIDAD2_13
    MOVEF_F 0.0 VLV_GRADOS_13
    MOVEF_F 0.0 VLV_VELOCIDAD_27
    MOVEF_F 0.0 VLV_VELOCIDAD_28
    MOVEF_F 0.0 VLV_ENCODER_28
    MOVEF_F 0.0 VLV_VELOCIDAD_20
    MOVEF_F 0.0 VLV_DISTANCIA_20
    MOVEF_F 0.0 VLV_SENS_34
    MOVEF_F 0.0 VLV_REPS_34
    MOVEF_F 0.0 VLV_COLOR_34
    MOVEF_F 0.0 VLV_VELOCIDAD_21
    MOVEF_F 0.0 VLV_TIEMPO_21
    MOVEF_F 0.0 VLV_VELOCIDAD1_14
    MOVEF_F 0.0 VLV_VELOCIDAD2_14
    MOVEF_F 0.0 VLV_SENS_14
    MOVEF_F 0.0 VLV_VELOCIDAD_29
    MOVEF_F 0.0 VLV_ENCODER_29
    MOVEF_F 0.0 VLV_VELOCIDAD_22
    MOVEF_F 0.0 VLV_DISTANCIA_22
    MOVEF_F 0.0 VLV_VELOCIDAD1_15
    MOVEF_F 0.0 VLV_VELOCIDAD2_15
    MOVEF_F 0.0 VLV_SENS_15
    MOVEF_F 0.0 VLV_VELOCIDAD_30
    MOVEF_F 0.0 VLV_READER_30
    MOVEF_F 0.0 VLV_VELOCIDAD_23
    MOVEF_F 0.0 VLV_SENSOR_23
    MOVEF_F 0.0 VLV_COLOR_23
    MOVEF_F 0.0 VLV_VELOCIDAD1_16
    MOVEF_F 0.0 VLV_VELOCIDAD2_16
    MOVEF_F 0.0 VLV_DISTANCIA_16
    MOVEF_F 0.0 VLV_VELOCIDAD_24
    MOVEF_F 0.0 VLV_SENSOR_24
    MOVEF_F 0.0 VLV_VELOCIDAD_31
    MOVEF_F 0.0 VLV_READER_31
    MOVEF_F 0.0 VLV_VELOCIDAD_25
    MOVEF_F 0.0 VLV_SENSOR_25
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_MARKING_6
    MOVEF_F 0.0 VLV_VELOCIDAD1_17
    MOVEF_F 0.0 VLV_VELOCIDAD2_17
    MOVEF_F 0.0 VLV_TIEMPO_17
    MOVEF_F 0.0 VLV_VELOCIDAD1_18
    MOVEF_F 0.0 VLV_VELOCIDAD2_18
    MOVEF_F 0.0 VLV_TIEMPO_18
    MOVEF_F 0.0 VLV_VELOCIDAD_26
    MOVEF_F 0.0 VLV_SENSOR_26
    MOVEF_F 0.0 VLV_VELOCIDAD_32
    MOVEF_F 0.0 VLV_ENCODER_32
    MOVEF_F 0.0 VLV_VELOCIDAD_33
    MOVEF_F 0.0 VLV_ENCODER_33
    MOVEF_F 0.0 VLV_GRADOS_5
    MOVEF_F 0.0 VLV_COLOR_35
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_MARKING_4
    STRINGS DUPLICATE '' VLV_CODIGO_4
    MOVEF_F 0.0 VGV_MARKINGGRANDE
    STRINGS DUPLICATE '' VLV_CODIGO_6
    MOVEF_F 0.0 VGV_DIAMETRO
    MOVEF_F 0.0 VGV_NEGRO1
    MOVEF_F 0.0 VGV_NEGRO3
    MOVEF_F 0.0 VGV_NEGRO4
    MOVEF_F 0.0 VGV_BLANCO1
    MOVEF_F 0.0 VGV_BLANCO3
    MOVEF_F 0.0 VGV_BLANCO4
    MOVEF_F 0.0 VGV_COLOR
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VGV_MARKING
    MOVEF_F 0.0 VGV_TIEMPO
    WRITE32 ENDSUB_F_SETUP_0:CALLSUB3 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SETUP_0
CALLSUB3:
    WRITE32 ENDSUB_F_MAIN_0:CALLSUB4 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_MAIN_0
CALLSUB4:
    TIMER_READ timeMC9tmp
	SUB32 timeMC9tmp timeMC9 timeMC9tmp
	MOVE32_F timeMC9tmp VGV_TIEMPO
    MOVE32_32 1 STOPLCDUPDATE
    CALL LCD.CLEAR
    DATAF tmpf8
    DATA8 flag8
    DIVF VGV_TIEMPO 1000.0 tmpf8
    CP_EQF 0.0 1000.0 flag8
    SELECTF flag8 0.0 tmpf8 F.0

    STRINGS VALUE_FORMATTED F.0 '%g' 99 S.2
    CALL TEXT.APPEND 'Tiempo: ' S.2 S.1
    CALL TEXT.APPEND S.1 ' s' S.0
    CALL LCD.WRITE 5.0 5.0 S.0
    MOVE32_32 0 STOPLCDUPDATE
	UI_DRAW UPDATE
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Good job'
    SOUND_READY
    DATAF tmpf16
    DATA8 flag16
    DIVF VGV_TIEMPO 100000.0 tmpf16
    CP_EQF 0.0 100000.0 flag16
    SELECTF flag16 0.0 tmpf16 F.0

    MATH FLOOR F.0 VLV_NUMERO_2
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB18 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB18:
    DATAF tmpf19
    DATA8 flag19
    DIVF VGV_TIEMPO 10000.0 tmpf19
    CP_EQF 0.0 10000.0 flag19
    SELECTF flag19 0.0 tmpf19 F.1

    MATH FLOOR F.1 F.0
    DATAF tmpf21
    DATA8 flag21
    DIVF VGV_TIEMPO 100000.0 tmpf21
    CP_EQF 0.0 100000.0 flag21
    SELECTF flag21 0.0 tmpf21 F.3

    MATH FLOOR F.3 F.2
    MULF F.2 10.0 F.1
    SUBF F.0 F.1 VLV_NUMERO_2
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB25 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB25:
    DATAF tmpf26
    DATA8 flag26
    DIVF VGV_TIEMPO 1000.0 tmpf26
    CP_EQF 0.0 1000.0 flag26
    SELECTF flag26 0.0 tmpf26 F.1

    MATH FLOOR F.1 F.0
    DATAF tmpf28
    DATA8 flag28
    DIVF VGV_TIEMPO 10000.0 tmpf28
    CP_EQF 0.0 10000.0 flag28
    SELECTF flag28 0.0 tmpf28 F.3

    MATH FLOOR F.3 F.2
    MULF F.2 10.0 F.1
    SUBF F.0 F.1 VLV_NUMERO_2
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB32 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB32:
    WRITE32 ENDSUB_F_S_0:CALLSUB33 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_S_0
CALLSUB33:
ENDTHREAD:
    RETURN
SUB_F_SETUP_0:
    DATA8 layer34
	DATA8 no34
	DATA8 mode834
	
	MOVEF_8 1.0 no34
	SUB8 no34 1 no34
	DIV8 no34 4 layer34
	MATH MOD8 no34 4 no34

	MOVEF_8 0.0 mode834
	
	INPUT_DEVICE READY_RAW layer34 no34 0 mode834 0
    DATA8 layer35
	DATA8 no35
	DATA8 mode835
	
	MOVEF_8 2.0 no35
	SUB8 no35 1 no35
	DIV8 no35 4 layer35
	MATH MOD8 no35 4 no35

	MOVEF_8 4.0 mode835
	
	INPUT_DEVICE READY_RAW layer35 no35 0 mode835 0
    DATA8 layer36
	DATA8 no36
	DATA8 mode836
	
	MOVEF_8 3.0 no36
	SUB8 no36 1 no36
	DIV8 no36 4 layer36
	MATH MOD8 no36 4 no36

	MOVEF_8 0.0 mode836
	
	INPUT_DEVICE READY_RAW layer36 no36 0 mode836 0
    DATA8 layer37
	DATA8 no37
	DATA8 mode837
	
	MOVEF_8 4.0 no37
	SUB8 no37 1 no37
	DIV8 no37 4 layer37
	MATH MOD8 no37 4 no37

	MOVEF_8 0.0 mode837
	
	INPUT_DEVICE READY_RAW layer37 no37 0 mode837 0
    MOVEF_F 6.24 VGV_DIAMETRO
    MOVEF_F 2.68055555555556 VPR_GIRO_G1
    MOVEF_F 10.0 VGV_NEGRO1
    MOVEF_F 9.0 VGV_NEGRO3
    MOVEF_F 8.0 VGV_NEGRO4
    MOVEF_F 65.0 VGV_BLANCO1
    MOVEF_F 59.0 VGV_BLANCO3
    MOVEF_F 55.0 VGV_BLANCO4
    MOVEF_F 4.0 VPR_RGB_VALUENEGRO
    MOVEF_F 32.0 VPR_RGB_VALUEBLANCO
    MOVEF_F 57.0 VPR_RGB_RWHITE
    MOVEF_F 71.0 VPR_RGB_GWHITE
    MOVEF_F 73.0 VPR_RGB_BWHITE
    MOVEF_F VGV_DIAMETRO VPR_RECTO_DIAMETRO
    MOVEF_F VGV_DIAMETRO VPR_GIRO_DIAMETRO
    MOVEF_F VGV_DIAMETRO VPR_SIGUELINEAS_DIAMETRO
    MOVEF_F VGV_DIAMETRO VPR_SMART_DIAMETRO
    MOVEF_F VGV_NEGRO1 VPR_SIGUELINEAS_NEGRO1
    MOVEF_F VGV_NEGRO3 VPR_SIGUELINEAS_NEGRO3
    MOVEF_F VGV_NEGRO4 VPR_SIGUELINEAS_NEGRO4
    MOVEF_F VGV_BLANCO1 VPR_SIGUELINEAS_BLANCO1
    MOVEF_F VGV_BLANCO3 VPR_SIGUELINEAS_BLANCO3
    MOVEF_F VGV_BLANCO4 VPR_SIGUELINEAS_BLANCO4
    MOVEF_F VGV_NEGRO1 VPR_SMART_NEGRO1
    MOVEF_F VGV_NEGRO3 VPR_SMART_NEGRO3
    MOVEF_F VGV_NEGRO4 VPR_SMART_NEGRO4
    MOVEF_F VGV_BLANCO1 VPR_SMART_BLANCO1
    MOVEF_F VGV_BLANCO3 VPR_SMART_BLANCO3
    MOVEF_F VGV_BLANCO4 VPR_SMART_BLANCO4
    ADDF VGV_NEGRO1 VGV_NEGRO3 F.1
    ADDF F.1 VGV_NEGRO4 F.0
    DATAF tmpf40
    DATA8 flag40
    DIVF F.0 3.0 tmpf40
    CP_EQF 0.0 3.0 flag40
    SELECTF flag40 0.0 tmpf40 VPR_RECTO_NEGRO

    ADDF VGV_BLANCO1 VGV_BLANCO3 F.1
    ADDF F.1 VGV_BLANCO4 F.0
    DATAF tmpf43
    DATA8 flag43
    DIVF F.0 3.0 tmpf43
    CP_EQF 0.0 3.0 flag43
    SELECTF flag43 0.0 tmpf43 VPR_RECTO_BLANCO

    ADDF VGV_NEGRO1 VGV_NEGRO3 F.1
    ADDF F.1 VGV_NEGRO4 F.0
    DATAF tmpf46
    DATA8 flag46
    DIVF F.0 3.0 tmpf46
    CP_EQF 0.0 3.0 flag46
    SELECTF flag46 0.0 tmpf46 VPR_GIRO_NEGRO

    ADDF VGV_BLANCO1 VGV_BLANCO3 F.1
    ADDF F.1 VGV_BLANCO4 F.0
    DATAF tmpf49
    DATA8 flag49
    DIVF F.0 3.0 tmpf49
    CP_EQF 0.0 3.0 flag49
    SELECTF flag49 0.0 tmpf49 VPR_GIRO_BLANCO

    MOVEF_F 0.0 VGV_COLOR
RETSUB_F_SETUP_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SETUP_0:
SUB_F_STARTARM_0:
    MOVEF_F 100.0 VLV_VELOCIDAD_9
    MOVEF_F 1000.0 VLV_TIMER_9
    WRITE32 ENDSUB_M_BRAZO_ATIMER_2:CALLSUB50 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_ATIMER_2
CALLSUB50:
    OUTPUT_CLR_COUNT 0 1
    DATA32 milliseconds52
	MOVEF_32 100.0 milliseconds52
	DATA32 timer52
	TIMER_WAIT milliseconds52 timer52
	TIMER_READY timer52
    MOVEF_F 35.0 VLV_VELOCIDAD_10
    MOVEF_F -200.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB53 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB53:
    OUTPUT_CLR_COUNT 0 1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Connect'
    SOUND_READY
RETSUB_F_STARTARM_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_STARTARM_0:
SUB_F_MAIN_0:
    WRITE32 ENDSUB_F_GRITARVOLTAJE_0:CALLSUB57 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARVOLTAJE_0
CALLSUB57:
    WRITE32 ENDSUB_F_STARTARM_0:CALLSUB58 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_STARTARM_0
CALLSUB58:
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/One'
    WRITE32 ENDSUB_F_S_0:CALLSUB60 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_S_0
CALLSUB60:
    TIMER_READ timeMC9
    DATA32 milliseconds62
	MOVEF_32 100.0 milliseconds62
	DATA32 timer62
	TIMER_WAIT milliseconds62 timer62
	TIMER_READY timer62
    MOVEF_F 35.0 VLV_VELOCIDAD_10
    MOVEF_F -260.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB63 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB63:
    MOVEF_F 80.0 VLV_VELOCIDAD1_11
    MOVEF_F 77.0 VLV_VELOCIDAD2_11
    MOVEF_F 27.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB64 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB64:
    MOVEF_F 10.0 VLV_VELOCIDAD1_12
    MOVEF_F 45.0 VLV_VELOCIDAD2_12
    MOVEF_F 72.0 VLV_GRADOS_12
    WRITE32 ENDSUB_M_GIRO_GRADOSF_3:CALLSUB65 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOSF_3
CALLSUB65:
    MOVEF_F 24.0 VLV_VELOCIDAD1_12
    MOVEF_F 5.0 VLV_VELOCIDAD2_12
    MOVEF_F 68.0 VLV_GRADOS_12
    WRITE32 ENDSUB_M_GIRO_GRADOSF_3:CALLSUB66 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOSF_3
CALLSUB66:
    MOVEF_F 50.0 VLV_VELOCIDAD1_11
    MOVEF_F 47.0 VLV_VELOCIDAD2_11
    MOVEF_F 44.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB67 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB67:
    MOVEF_F 50.0 VLV_VELOCIDAD_19
    MOVEF_F 4.0 VLV_SENSOR_19
    WRITE32 ENDSUB_M_RECTO_NEGRO1_2:CALLSUB68 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_NEGRO1_2
CALLSUB68:
    MOVEF_F 50.0 VLV_VELOCIDAD1_13
    MOVEF_F -17.0 VLV_VELOCIDAD2_13
    MOVEF_F 94.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB69 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB69:
    MOVEF_F 40.0 VLV_VELOCIDAD_27
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE14_1:CALLSUB70 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE14_1
CALLSUB70:
    MOVEF_F 70.0 VLV_VELOCIDAD1_13
    MOVEF_F -62.0 VLV_VELOCIDAD2_13
    MOVEF_F 185.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB71 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB71:
    MOVEF_F 30.0 VLV_VELOCIDAD_28
    MOVEF_F 40.0 VLV_ENCODER_28
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB72 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB72:
    MOVEF_F 30.0 VLV_VELOCIDAD_20
    MOVEF_F 9.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB73 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB73:
    MOVEF_F -30.0 VLV_VELOCIDAD1_13
    MOVEF_F 30.0 VLV_VELOCIDAD2_13
    MOVEF_F 90.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB74 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB74:
    MOVEF_F 20.0 VLV_VELOCIDAD_20
    MOVEF_F 13.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB75 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB75:
    MOVEF_F 20.0 VLV_VELOCIDAD1_13
    MOVEF_F -20.0 VLV_VELOCIDAD2_13
    MOVEF_F 90.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB76 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB76:
    DATA32 milliseconds77
	MOVEF_32 100.0 milliseconds77
	DATA32 timer77
	TIMER_WAIT milliseconds77 timer77
	TIMER_READY timer77
    MOVEF_F -40.0 VLV_VELOCIDAD_20
    MOVEF_F 2.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB78 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB78:
    MOVEF_F 2.0 VLV_SENS_34
    MOVEF_F 5.0 VLV_REPS_34
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB79 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB79:
    MOVEF_F VLV_COLOR_34 VGV_MARKINGGRANDE
    MOVEF_F VGV_MARKINGGRANDE VGV_COLOR
    DATA32 tmp80
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 1  RUNCOUNTER_F_GRITARCOLOR_0 tmp80
    JR_NEQ32 0 tmp80 alreadylaunched80
    OBJECT_START TF_GRITARCOLOR_0
  alreadylaunched80:
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VGV_MARKING
    MOVEF_F 40.0 VLV_VELOCIDAD1_13
    MOVEF_F 9.0 VLV_VELOCIDAD2_13
    MOVEF_F 44.5 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB82 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB82:
    MOVEF_F 9.0 VLV_VELOCIDAD1_13
    MOVEF_F 40.0 VLV_VELOCIDAD2_13
    MOVEF_F 37.5 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB83 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB83:
    MOVEF_F 42.0 VLV_VELOCIDAD1_11
    MOVEF_F 40.0 VLV_VELOCIDAD2_11
    MOVEF_F 12.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB84 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB84:
    MOVEF_F 80.0 VLV_VELOCIDAD_21
    MOVEF_F 300.0 VLV_TIEMPO_21
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB85 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB85:
    MOVEF_F -30.0 VLV_VELOCIDAD_20
    MOVEF_F 6.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB86 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB86:
    MOVEF_F 2.0 VLV_SENS_34
    MOVEF_F 5.0 VLV_REPS_34
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB87 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB87:
    CALL ARRAYSTORE_FLOAT 1.0 VLV_COLOR_34 VGV_MARKING
    CALL ARRAYGET_FLOAT 1.0 VGV_COLOR VGV_MARKING
    DATA32 tmp90
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 1  RUNCOUNTER_F_GRITARCOLOR_0 tmp90
    JR_NEQ32 0 tmp90 alreadylaunched90
    OBJECT_START TF_GRITARCOLOR_0
  alreadylaunched90:
    MOVEF_F -30.0 VLV_VELOCIDAD_20
    MOVEF_F 5.8 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB91 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB91:
    MOVEF_F 30.0 VLV_VELOCIDAD1_13
    MOVEF_F -30.0 VLV_VELOCIDAD2_13
    MOVEF_F 91.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB92 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB92:
    MOVEF_F 30.0 VLV_VELOCIDAD_20
    MOVEF_F 8.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB93 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB93:
    MOVEF_F 30.0 VLV_VELOCIDAD1_13
    MOVEF_F -30.0 VLV_VELOCIDAD2_13
    MOVEF_F 86.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB94 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB94:
    MOVEF_F -20.0 VLV_VELOCIDAD_21
    MOVEF_F 500.0 VLV_TIEMPO_21
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB95 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB95:
    MOVEF_F 2.0 VLV_SENS_34
    MOVEF_F 5.0 VLV_REPS_34
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB96 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB96:
    CALL ARRAYSTORE_FLOAT 2.0 VLV_COLOR_34 VGV_MARKING
    CALL ARRAYGET_FLOAT 2.0 VGV_COLOR VGV_MARKING
    DATA32 tmp99
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 1  RUNCOUNTER_F_GRITARCOLOR_0 tmp99
    JR_NEQ32 0 tmp99 alreadylaunched99
    OBJECT_START TF_GRITARCOLOR_0
  alreadylaunched99:
    MOVEF_F 20.0 VLV_VELOCIDAD_20
    MOVEF_F 8.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB100 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB100:
    MOVEF_F 2.0 VLV_SENS_34
    MOVEF_F 5.0 VLV_REPS_34
    WRITE32 ENDSUB_M_RGB_DETECT_3:CALLSUB101 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_DETECT_3
CALLSUB101:
    CALL ARRAYSTORE_FLOAT 3.0 VLV_COLOR_34 VGV_MARKING
    CALL ARRAYGET_FLOAT 3.0 VGV_COLOR VGV_MARKING
    DATA32 tmp104
    CALL GETANDINC32 RUNCOUNTER_F_GRITARCOLOR_0 1  RUNCOUNTER_F_GRITARCOLOR_0 tmp104
    JR_NEQ32 0 tmp104 alreadylaunched104
    OBJECT_START TF_GRITARCOLOR_0
  alreadylaunched104:
    CALL ARRAYGET_FLOAT 1.0 F.3 VGV_MARKING
    CALL ARRAYGET_FLOAT 2.0 F.4 VGV_MARKING
    ADDF F.3 F.4 F.2
    CALL ARRAYGET_FLOAT 3.0 F.3 VGV_MARKING
    ADDF F.2 F.3 F.1
    SUBF 14.0 F.1 F.0
    CALL ARRAYSTORE_FLOAT 0.0 F.0 VGV_MARKING
    MOVEF_F 52.0 VLV_VELOCIDAD1_14
    MOVEF_F 48.0 VLV_VELOCIDAD2_14
    MOVEF_F 1.0 VLV_SENS_14
    WRITE32 ENDSUB_M_GIRO_NEGRO1F_3:CALLSUB112 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_NEGRO1F_3
CALLSUB112:
    MOVEF_F 60.0 VLV_VELOCIDAD_27
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE14_1:CALLSUB113 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE14_1
CALLSUB113:
    MOVEF_F -41.0 VLV_VELOCIDAD1_13
    MOVEF_F 30.0 VLV_VELOCIDAD2_13
    MOVEF_F 83.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB114 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB114:
    MOVEF_F 30.0 VLV_VELOCIDAD_29
    MOVEF_F 25.0 VLV_ENCODER_29
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB115 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB115:
    MOVEF_F 60.0 VLV_VELOCIDAD1_13
    MOVEF_F -40.0 VLV_VELOCIDAD2_13
    MOVEF_F 87.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB116 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB116:
    MOVEF_F -80.0 VLV_VELOCIDAD_22
    MOVEF_F 34.0 VLV_DISTANCIA_22
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB117 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB117:
    MOVEF_F -30.0 VLV_VELOCIDAD_20
    MOVEF_F 5.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB118 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB118:
    MOVEF_F 30.0 VLV_VELOCIDAD_10
    MOVEF_F 20.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB119 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB119:
    DATA32 milliseconds120
	MOVEF_32 100.0 milliseconds120
	DATA32 timer120
	TIMER_WAIT milliseconds120 timer120
	TIMER_READY timer120
    MOVEF_F 30.0 VLV_VELOCIDAD_22
    MOVEF_F 15.0 VLV_DISTANCIA_22
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB121 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB121:
    MOVEF_F 10.0 VLV_VELOCIDAD_21
    MOVEF_F 200.0 VLV_TIEMPO_21
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB122 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB122:
    MOVEF_F -20.0 VLV_VELOCIDAD_20
    MOVEF_F 3.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB123 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB123:
    MOVEF_F 20.0 VLV_VELOCIDAD_10
    MOVEF_F -310.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB124 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB124:
    MOVEF_F 40.0 VLV_VELOCIDAD_20
    MOVEF_F 23.5 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB125 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB125:
    MOVEF_F 20.0 VLV_VELOCIDAD_19
    MOVEF_F 1.0 VLV_SENSOR_19
    WRITE32 ENDSUB_M_RECTO_NEGRO1_2:CALLSUB126 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_NEGRO1_2
CALLSUB126:
    MOVEF_F -8.0 VLV_VELOCIDAD1_13
    MOVEF_F 20.0 VLV_VELOCIDAD2_13
    MOVEF_F 85.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB127 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB127:
    MOVEF_F -20.0 VLV_VELOCIDAD1_15
    MOVEF_F 20.0 VLV_VELOCIDAD2_15
    MOVEF_F 4.0 VLV_SENS_15
    WRITE32 ENDSUB_M_GIRO_NEGRO1_3:CALLSUB128 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_NEGRO1_3
CALLSUB128:
    MOVEF_F 20.0 VLV_VELOCIDAD1_13
    MOVEF_F 0.0 VLV_VELOCIDAD2_13
    MOVEF_F 10.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB129 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB129:
    MOVEF_F 15.0 VLV_VELOCIDAD_29
    MOVEF_F 5.0 VLV_ENCODER_29
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB130 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB130:
    MOVEF_F 15.0 VLV_VELOCIDAD_30
    MOVEF_F 3.0 VLV_READER_30
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:CALLSUB131 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNO_2
CALLSUB131:
    DATA32 milliseconds132
	MOVEF_32 350.0 milliseconds132
	DATA32 timer132
	TIMER_WAIT milliseconds132 timer132
	TIMER_READY timer132
    MOVEF_F 32.0 VLV_VELOCIDAD1_11
    MOVEF_F 26.0 VLV_VELOCIDAD2_11
    MOVEF_F 11.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB133 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB133:
    MOVEF_F 26.0 VLV_VELOCIDAD1_11
    MOVEF_F 32.0 VLV_VELOCIDAD2_11
    MOVEF_F 9.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB134 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB134:
    MOVEF_F 13.0 VLV_VELOCIDAD1_11
    MOVEF_F 12.0 VLV_VELOCIDAD2_11
    MOVEF_F 9.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB135 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB135:
    MOVEF_F -10.0 VLV_VELOCIDAD_20
    MOVEF_F 6.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB136 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB136:
    WRITE32 ENDSUB_F_BAJARCUADRO_0:CALLSUB137 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_BAJARCUADRO_0
CALLSUB137:
    MOVEF_F -35.0 VLV_VELOCIDAD_20
    MOVEF_F 16.5 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB138 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB138:
    MOVEF_F -20.0 VLV_VELOCIDAD1_13
    MOVEF_F 20.0 VLV_VELOCIDAD2_13
    MOVEF_F 95.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB139 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB139:
    MOVEF_F 45.0 VLV_VELOCIDAD_29
    MOVEF_F 30.0 VLV_ENCODER_29
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB140 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB140:
    MOVEF_F 50.0 VLV_VELOCIDAD1_11
    MOVEF_F 48.0 VLV_VELOCIDAD2_11
    MOVEF_F 14.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB141 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB141:
    MOVEF_F 30.0 VLV_VELOCIDAD1_13
    MOVEF_F 0.0 VLV_VELOCIDAD2_13
    MOVEF_F 150.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB142 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB142:
    MOVEF_F 40.0 VLV_VELOCIDAD_22
    MOVEF_F 9.0 VLV_DISTANCIA_22
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB143 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB143:
    MOVEF_F 40.0 VLV_VELOCIDAD_23
    MOVEF_F 4.0 VLV_SENSOR_23
    MOVEF_F 4.0 VLV_COLOR_23
    WRITE32 ENDSUB_M_RECTO_COLOR1_3:CALLSUB144 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_COLOR1_3
CALLSUB144:
    MOVEF_F -20.0 VLV_VELOCIDAD_20
    MOVEF_F 14.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB145 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB145:
    MOVEF_F 35.0 VLV_VELOCIDAD_10
    MOVEF_F -330.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB146 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB146:
    MOVEF_F -25.0 VLV_VELOCIDAD_20
    MOVEF_F 6.5 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB147 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB147:
    WRITE32 ENDSUB_F_BAJARCUADRO_0:CALLSUB148 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_BAJARCUADRO_0
CALLSUB148:
    MOVEF_F -40.0 VLV_VELOCIDAD1_13
    MOVEF_F 20.0 VLV_VELOCIDAD2_13
    MOVEF_F 80.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB149 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB149:
    MOVEF_F 40.0 VLV_VELOCIDAD_10
    MOVEF_F -300.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB150 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB150:
    MOVEF_F 60.0 VLV_VELOCIDAD_22
    MOVEF_F 8.0 VLV_DISTANCIA_22
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB151 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB151:
    MOVEF_F 30.0 VLV_VELOCIDAD_23
    MOVEF_F 1.0 VLV_SENSOR_23
    MOVEF_F 5.0 VLV_COLOR_23
    WRITE32 ENDSUB_M_RECTO_COLOR1_3:CALLSUB152 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_COLOR1_3
CALLSUB152:
    MOVEF_F -50.0 VLV_VELOCIDAD_20
    MOVEF_F 14.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB153 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB153:
    MOVEF_F 35.0 VLV_VELOCIDAD1_13
    MOVEF_F -35.0 VLV_VELOCIDAD2_13
    MOVEF_F 165.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB154 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB154:
    MOVEF_F 81.25 VLV_VELOCIDAD1_16
    MOVEF_F 87.5 VLV_VELOCIDAD2_16
    MOVEF_F 65.0 VLV_DISTANCIA_16
    WRITE32 ENDSUB_M_GIRO_ENCODERF_3:CALLSUB155 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODERF_3
CALLSUB155:
    MOVEF_F 80.0 VLV_VELOCIDAD_21
    MOVEF_F 400.0 VLV_TIEMPO_21
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB156 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB156:
    MOVEF_F -80.0 VLV_VELOCIDAD_22
    MOVEF_F 13.0 VLV_DISTANCIA_22
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB157 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB157:
    MOVEF_F -40.0 VLV_VELOCIDAD_24
    MOVEF_F 1.0 VLV_SENSOR_24
    WRITE32 ENDSUB_M_RECTO_BLANCO1F_2:CALLSUB158 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_BLANCO1F_2
CALLSUB158:
    MOVEF_F -30.0 VLV_VELOCIDAD_19
    MOVEF_F 1.0 VLV_SENSOR_19
    WRITE32 ENDSUB_M_RECTO_NEGRO1_2:CALLSUB159 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_NEGRO1_2
CALLSUB159:
    MOVEF_F 41.0 VLV_VELOCIDAD1_13
    MOVEF_F -20.0 VLV_VELOCIDAD2_13
    MOVEF_F 90.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB160 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB160:
    MOVEF_F 40.0 VLV_VELOCIDAD_28
    MOVEF_F 10.0 VLV_ENCODER_28
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB161 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB161:
    MOVEF_F 80.0 VLV_VELOCIDAD_31
    MOVEF_F 4.0 VLV_READER_31
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:CALLSUB162 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2
CALLSUB162:
    MOVEF_F 80.0 VLV_VELOCIDAD_28
    MOVEF_F 82.0 VLV_ENCODER_28
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB163 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB163:
    MOVEF_F 30.0 VLV_VELOCIDAD_28
    MOVEF_F 13.0 VLV_ENCODER_28
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB164 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB164:
    MOVEF_F 20.0 VLV_VELOCIDAD1_11
    MOVEF_F 19.0 VLV_VELOCIDAD2_11
    MOVEF_F 21.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB165 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB165:
    MOVEF_F 15.0 VLV_VELOCIDAD1_13
    MOVEF_F -15.0 VLV_VELOCIDAD2_13
    MOVEF_F 92.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB166 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB166:
    MOVEF_F 20.0 VLV_VELOCIDAD_20
    MOVEF_F 8.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB167 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB167:
    MOVEF_F 30.0 VLV_VELOCIDAD_10
    MOVEF_F -740.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB168 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB168:
    JR_NEQF VGV_MARKINGGRANDE 5.0 else169_1
    CALL MOTOR.SCHEDULE 'D' -60.0 0.0 90.0 0.0 'true' 

	DATA8 layer170
	DATA8 nos170
	DATA8 busy170
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer170 nos170
	JR_EQ8 0 nos170 motornotbusy170
  motorwaiting170:
	OUTPUT_TEST layer170 nos170 busy170
	JR_EQ8 busy170 0 motornotbusy170
	SLEEP
	JR motorwaiting170
  motornotbusy170:
    JR endif169
  else169_1:
    SUBF VGV_MARKINGGRANDE 2.0 F.1
    MULF F.1 90.0 F.0
    CALL MOTOR.SCHEDULE 'D' 60.0 0.0 F.0 0.0 'true' 

	DATA8 layer173
	DATA8 nos173
	DATA8 busy173
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer173 nos173
	JR_EQ8 0 nos173 motornotbusy173
  motorwaiting173:
	OUTPUT_TEST layer173 nos173 busy173
	JR_EQ8 busy173 0 motornotbusy173
	SLEEP
	JR motorwaiting173
  motornotbusy173:
  else169_2:
  endif169:
    MOVEF_F 84.0 VLV_VELOCIDAD1_11
    MOVEF_F 80.0 VLV_VELOCIDAD2_11
    MOVEF_F 28.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB174 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB174:
    MOVEF_F 40.0 VLV_VELOCIDAD_25
    MOVEF_F 1.0 VLV_SENSOR_25
    WRITE32 ENDSUB_M_RECTO_BLANCO1_2:CALLSUB175 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_BLANCO1_2
CALLSUB175:
    MOVEF_F -20.0 VLV_VELOCIDAD_20
    MOVEF_F 1.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB176 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB176:
    CALL MOTOR.STOP 'BC' 'True'
    DATA32 milliseconds178
	MOVEF_32 100.0 milliseconds178
	DATA32 timer178
	TIMER_WAIT milliseconds178 timer178
	TIMER_READY timer178
    MOVEF_F 15.0 VLV_VELOCIDAD1_13
    MOVEF_F -15.0 VLV_VELOCIDAD2_13
    MOVEF_F 103.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB179 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB179:
    MOVEF_F 82.0 VLV_VELOCIDAD1_11
    MOVEF_F 80.0 VLV_VELOCIDAD2_11
    MOVEF_F 60.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB180 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB180:
    MOVEF_F 40.0 VLV_VELOCIDAD_10
    MOVEF_F -500.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB181 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB181:
    JR_EQF VGV_MARKINGGRANDE 5.0 or183
    JR_NEQF VGV_MARKINGGRANDE 3.0 else182_1
  or183:
    CALL MOTOR.SCHEDULE 'D' 60.0 0.0 -90.0 0.0 'true' 

	DATA8 layer184
	DATA8 nos184
	DATA8 busy184
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer184 nos184
	JR_EQ8 0 nos184 motornotbusy184
  motorwaiting184:
	OUTPUT_TEST layer184 nos184 busy184
	JR_EQ8 busy184 0 motornotbusy184
	SLEEP
	JR motorwaiting184
  motornotbusy184:
  else182_1:
  endif182:
    MOVEF_F 40.0 VLV_VELOCIDAD_10
    MOVEF_F -330.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB185 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB185:
    MOVEF_F -60.0 VLV_VELOCIDAD_20
    MOVEF_F 27.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB186 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB186:
    MOVEF_F 30.0 VLV_VELOCIDAD1_13
    MOVEF_F -30.0 VLV_VELOCIDAD2_13
    MOVEF_F 85.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB187 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB187:
    MOVEF_F -70.0 VLV_VELOCIDAD_20
    MOVEF_F 12.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB188 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB188:
    MOVEF_F -30.0 VLV_VELOCIDAD_21
    MOVEF_F 800.0 VLV_TIEMPO_21
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB189 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB189:
    MOVEF_F 30.0 VLV_VELOCIDAD_20
    MOVEF_F 2.25 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB190 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB190:
    MOVEF_F 100.0 VLV_VELOCIDAD_9
    MOVEF_F 600.0 VLV_TIMER_9
    WRITE32 ENDSUB_M_BRAZO_ATIMER_2:CALLSUB191 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_ATIMER_2
CALLSUB191:
    MOVEF_F 100.0 VLV_VELOCIDAD_10
    MOVEF_F -300.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB192 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB192:
    MOVEF_F 32.0 VLV_VELOCIDAD1_13
    MOVEF_F -6.0 VLV_VELOCIDAD2_13
    MOVEF_F 98.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB193 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB193:
    MOVEF_F 15.0 VLV_VELOCIDAD_28
    MOVEF_F 5.0 VLV_ENCODER_28
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31F_2:CALLSUB194 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31F_2
CALLSUB194:
    MOVEF_F 15.0 VLV_VELOCIDAD_31
    MOVEF_F 4.0 VLV_READER_31
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:CALLSUB195 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2
CALLSUB195:
    MOVEF_F 30.0 VLV_VELOCIDAD1_13
    MOVEF_F -7.0 VLV_VELOCIDAD2_13
    MOVEF_F 92.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB196 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB196:
    MOVEF_F 20.0 VLV_VELOCIDAD_20
    MOVEF_F 7.5 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB197 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB197:
    DATA32 milliseconds198
	MOVEF_32 100.0 milliseconds198
	DATA32 timer198
	TIMER_WAIT milliseconds198 timer198
	TIMER_READY timer198
    ARRAY COPY VGV_MARKING VLV_MARKING_6
    WRITE32 ENDSUB_F_ORDENARBLOQUES_1:CALLSUB199 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ORDENARBLOQUES_1
CALLSUB199:
    MOVEF_F 30.0 VLV_VELOCIDAD_20
    MOVEF_F 10.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB200 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB200:
    MOVEF_F 30.0 VLV_VELOCIDAD_30
    MOVEF_F 3.0 VLV_READER_30
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:CALLSUB201 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNO_2
CALLSUB201:
    MOVEF_F -16.0 VLV_VELOCIDAD1_13
    MOVEF_F 30.0 VLV_VELOCIDAD2_13
    MOVEF_F 95.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB202 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB202:
    MOVEF_F 35.0 VLV_VELOCIDAD_29
    MOVEF_F 20.0 VLV_ENCODER_29
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14_2:CALLSUB203 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14_2
CALLSUB203:
    MOVEF_F 36.0 VLV_VELOCIDAD1_11
    MOVEF_F 34.0 VLV_VELOCIDAD2_11
    MOVEF_F 43.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB204 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB204:
    MOVEF_F -20.0 VLV_VELOCIDAD1_13
    MOVEF_F 20.0 VLV_VELOCIDAD2_13
    MOVEF_F 92.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB205 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB205:
    MOVEF_F 30.0 VLV_VELOCIDAD1_17
    MOVEF_F 26.0 VLV_VELOCIDAD2_17
    MOVEF_F 1500.0 VLV_TIEMPO_17
    WRITE32 ENDSUB_M_GIRO_TIEMPOF_3:CALLSUB206 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_TIEMPOF_3
CALLSUB206:
    MOVEF_F 60.0 VLV_VELOCIDAD1_18
    MOVEF_F 60.0 VLV_VELOCIDAD2_18
    MOVEF_F 300.0 VLV_TIEMPO_18
    WRITE32 ENDSUB_M_GIRO_TIEMPO_3:CALLSUB207 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_TIEMPO_3
CALLSUB207:
    MOVEF_F -20.0 VLV_VELOCIDAD_20
    MOVEF_F 10.5 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB208 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB208:
    MOVEF_F -20.0 VLV_VELOCIDAD1_13
    MOVEF_F 20.0 VLV_VELOCIDAD2_13
    MOVEF_F 95.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB209 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB209:
    MOVEF_F 40.0 VLV_VELOCIDAD1_18
    MOVEF_F 37.0 VLV_VELOCIDAD2_18
    MOVEF_F 500.0 VLV_TIEMPO_18
    WRITE32 ENDSUB_M_GIRO_TIEMPO_3:CALLSUB210 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_TIEMPO_3
CALLSUB210:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F -330.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB211 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB211:
    MOVEF_F -15.0 VLV_VELOCIDAD1_11
    MOVEF_F -16.0 VLV_VELOCIDAD2_11
    MOVEF_F 13.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB212 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB212:
    MOVEF_F 15.0 VLV_VELOCIDAD_20
    MOVEF_F 8.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB213 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB213:
    MOVEF_F 30.0 VLV_VELOCIDAD_10
    MOVEF_F 0.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB214 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB214:
    MOVEF_F -15.0 VLV_VELOCIDAD_20
    MOVEF_F 8.5 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB215 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB215:
    MOVEF_F 30.0 VLV_VELOCIDAD_20
    MOVEF_F 17.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB216 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB216:
    MOVEF_F -15.0 VLV_VELOCIDAD_20
    MOVEF_F 5.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB217 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB217:
    MOVEF_F -15.0 VLV_VELOCIDAD1_13
    MOVEF_F 15.0 VLV_VELOCIDAD2_13
    MOVEF_F 88.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB218 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB218:
    MOVEF_F -30.0 VLV_VELOCIDAD_21
    MOVEF_F 500.0 VLV_TIEMPO_21
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB219 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB219:
    MOVEF_F 15.0 VLV_VELOCIDAD_20
    MOVEF_F 12.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB220 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB220:
    MOVEF_F -10.0 VLV_VELOCIDAD1_13
    MOVEF_F 10.0 VLV_VELOCIDAD2_13
    MOVEF_F 9.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB221 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB221:
    MOVEF_F 20.0 VLV_VELOCIDAD_10
    MOVEF_F -150.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB222 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB222:
    DATA32 milliseconds223
	MOVEF_32 200.0 milliseconds223
	DATA32 timer223
	TIMER_WAIT milliseconds223 timer223
	TIMER_READY timer223
    MOVEF_F 10.0 VLV_VELOCIDAD_20
    MOVEF_F 7.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB224 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB224:
    MOVEF_F -40.0 VLV_VELOCIDAD_20
    MOVEF_F 8.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB225 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB225:
    MOVEF_F 50.0 VLV_VELOCIDAD_10
    MOVEF_F 0.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB226 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB226:
    MOVEF_F 10.0 VLV_VELOCIDAD1_13
    MOVEF_F -10.0 VLV_VELOCIDAD2_13
    MOVEF_F 29.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB227 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB227:
    MOVEF_F 100.0 VLV_VELOCIDAD_22
    MOVEF_F 65.0 VLV_DISTANCIA_22
    WRITE32 ENDSUB_M_RECTO_ENCODERF_2:CALLSUB228 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODERF_2
CALLSUB228:
    MOVEF_F 40.0 VLV_VELOCIDAD_24
    MOVEF_F 1.0 VLV_SENSOR_24
    WRITE32 ENDSUB_M_RECTO_BLANCO1F_2:CALLSUB229 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_BLANCO1F_2
CALLSUB229:
    MOVEF_F 20.0 VLV_VELOCIDAD_26
    MOVEF_F 1.0 VLV_SENSOR_26
    WRITE32 ENDSUB_M_RECTO_NEGRO1F_2:CALLSUB230 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_NEGRO1F_2
CALLSUB230:
    MOVEF_F -15.0 VLV_VELOCIDAD1_13
    MOVEF_F 30.0 VLV_VELOCIDAD2_13
    MOVEF_F 90.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB231 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB231:
    MOVEF_F 30.0 VLV_VELOCIDAD_32
    MOVEF_F 8.0 VLV_ENCODER_32
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14F_2:CALLSUB232 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14F_2
CALLSUB232:
    MOVEF_F 85.0 VLV_VELOCIDAD_32
    MOVEF_F 74.0 VLV_ENCODER_32
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER14F_2:CALLSUB233 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER14F_2
CALLSUB233:
    MOVEF_F 40.0 VLV_VELOCIDAD_30
    MOVEF_F 3.0 VLV_READER_30
    WRITE32 ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:CALLSUB234 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_CRUCE_EXTERNO_2
CALLSUB234:
    MOVEF_F 20.0 VLV_VELOCIDAD_20
    MOVEF_F 2.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB235 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB235:
    MOVEF_F -16.0 VLV_VELOCIDAD1_13
    MOVEF_F 30.0 VLV_VELOCIDAD2_13
    MOVEF_F 93.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB236 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB236:
    MOVEF_F 50.0 VLV_VELOCIDAD_33
    MOVEF_F 40.0 VLV_ENCODER_33
    WRITE32 ENDSUB_M_SIGUELINEAS_ENCODER31_2:CALLSUB237 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_SIGUELINEAS_ENCODER31_2
CALLSUB237:
    MOVEF_F 52.0 VLV_VELOCIDAD1_11
    MOVEF_F 50.0 VLV_VELOCIDAD2_11
    MOVEF_F 30.0 VLV_DISTANCIA_11
    WRITE32 ENDSUB_M_GIRO_ENCODER_3:CALLSUB238 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_ENCODER_3
CALLSUB238:
    MOVEF_F 40.0 VLV_VELOCIDAD_21
    MOVEF_F 700.0 VLV_TIEMPO_21
    WRITE32 ENDSUB_M_RECTO_TIEMPO_2:CALLSUB239 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_TIEMPO_2
CALLSUB239:
    MOVEF_F 8.0 VLV_VELOCIDAD1_13
    MOVEF_F -32.0 VLV_VELOCIDAD2_13
    MOVEF_F 100.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB240 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB240:
    MOVEF_F 30.0 VLV_VELOCIDAD_10
    MOVEF_F -300.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB241 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB241:
    MOVEF_F 30.0 VLV_VELOCIDAD_20
    MOVEF_F 17.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB242 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB242:
    MOVEF_F 30.0 VLV_VELOCIDAD_10
    MOVEF_F 0.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB243 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB243:
    MOVEF_F -30.0 VLV_VELOCIDAD_20
    MOVEF_F 12.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB244 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB244:
RETSUB_F_MAIN_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_MAIN_0:
SUB_F_SAFETYTIMERBRAZO_0:
    MOVEF_F 30.0 VLV_VELOCIDAD_10
    MOVEF_F -730.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB245 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB245:
    OUTPUT_POWER 0 1 0
	OUTPUT_STOP 0 1 1
RETSUB_F_SAFETYTIMERBRAZO_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SAFETYTIMERBRAZO_0:
SUB_F_GRITARCOLOR_0:
    MOVEF_F VGV_COLOR VLV_COLOR_35
    WRITE32 ENDSUB_M_RGB_GRITAR_1:CALLSUB247 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RGB_GRITAR_1
CALLSUB247:
RETSUB_F_GRITARCOLOR_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_GRITARCOLOR_0:
SUB_F_GRITARVOLTAJE_0:
    CALL EV3.BATTERYVOLTAGE VLV_VOLTAJE_1
    MATH FLOOR VLV_VOLTAJE_1 VLV_NUMERO_2
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB250 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB250:
    MULF VLV_VOLTAJE_1 10.0 F.1
    MATH FLOOR F.1 F.0
    MATH FLOOR VLV_VOLTAJE_1 F.2
    MULF F.2 10.0 F.1
    SUBF F.0 F.1 VLV_NUMERO_2
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB256 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB256:
    MULF VLV_VOLTAJE_1 100.0 F.1
    MATH FLOOR F.1 F.0
    MULF VLV_VOLTAJE_1 10.0 F.3
    MATH FLOOR F.3 F.2
    MULF F.2 10.0 F.1
    SUBF F.0 F.1 VLV_NUMERO_2
    WRITE32 ENDSUB_F_GRITARNUMERO_1:CALLSUB263 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_GRITARNUMERO_1
CALLSUB263:
RETSUB_F_GRITARVOLTAJE_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_GRITARVOLTAJE_0:
SUB_F_GRITARNUMERO_1:
    JR_NEQF VLV_NUMERO_2 0.0 else264_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/ZERO'
    JR endif264
  else264_1:
    JR_NEQF VLV_NUMERO_2 1.0 else264_2
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/One'
    JR endif264
  else264_2:
    JR_NEQF VLV_NUMERO_2 2.0 else264_3
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Two'
    JR endif264
  else264_3:
    JR_NEQF VLV_NUMERO_2 3.0 else264_4
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Three'
    JR endif264
  else264_4:
    JR_NEQF VLV_NUMERO_2 4.0 else264_5
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Four'
    JR endif264
  else264_5:
    JR_NEQF VLV_NUMERO_2 5.0 else264_6
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Five'
    JR endif264
  else264_6:
    JR_NEQF VLV_NUMERO_2 6.0 else264_7
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Six'
    JR endif264
  else264_7:
    JR_NEQF VLV_NUMERO_2 7.0 else264_8
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Seven'
    JR endif264
  else264_8:
    JR_NEQF VLV_NUMERO_2 8.0 else264_9
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Eight'
    JR endif264
  else264_9:
    JR_NEQF VLV_NUMERO_2 9.0 else264_10
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Nine'
    JR endif264
  else264_10:
    JR_NEQF VLV_NUMERO_2 10.0 else264_11
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Ten'
  else264_11:
  endif264:
    SOUND_READY
RETSUB_F_GRITARNUMERO_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_GRITARNUMERO_1:
SUB_F_BAJARCUADRO_0:
    DATA32 tmp277
    CALL GETANDINC32 RUNCOUNTER_F_SAFETYTIMERBRAZO_0 1  RUNCOUNTER_F_SAFETYTIMERBRAZO_0 tmp277
    JR_NEQ32 0 tmp277 alreadylaunched277
    OBJECT_START TF_SAFETYTIMERBRAZO_0
  alreadylaunched277:
    DATA32 milliseconds278
	MOVEF_32 1300.0 milliseconds278
	DATA32 timer278
	TIMER_WAIT milliseconds278 timer278
	TIMER_READY timer278
    OUTPUT_POWER 0 1 0
	OUTPUT_STOP 0 1 0
    MOVEF_F 30.0 VLV_VELOCIDAD_10
    MOVEF_F -730.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB280 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB280:
RETSUB_F_BAJARCUADRO_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_BAJARCUADRO_0:
SUB_F_CODIGO_2:
    STRINGS DUPLICATE '' VLV_CODIGO_4
    CALL ARRAYGET_FLOAT 2.0 VLV_AUX_4 VLV_MARKING_4
    CALL ARRAYGET_FLOAT 3.0 F.0 VLV_MARKING_4
    CALL ARRAYSTORE_FLOAT 2.0 F.0 VLV_MARKING_4
    CALL ARRAYSTORE_FLOAT 3.0 VLV_AUX_4 VLV_MARKING_4
    MOVEF_F 0.0 VLV_I_4
  for285:
    JR_GTF VLV_I_4 4.0 endfor285
  forbody285:
    CALL ARRAYGET_FLOAT VLV_I_4 F.0 VLV_MARKING_4
    JR_NEQF F.0 2.0 else286_1
    CALL TEXT.APPEND VLV_CODIGO_4 'Z' VLV_CODIGO_4
    JR endif286
  else286_1:
    CALL ARRAYGET_FLOAT VLV_I_4 F.0 VLV_MARKING_4
    JR_NEQF F.0 3.0 else286_2
    CALL TEXT.APPEND VLV_CODIGO_4 'V' VLV_CODIGO_4
    JR endif286
  else286_2:
    CALL ARRAYGET_FLOAT VLV_I_4 F.0 VLV_MARKING_4
    JR_NEQF F.0 4.0 else286_3
    CALL TEXT.APPEND VLV_CODIGO_4 'A' VLV_CODIGO_4
    JR endif286
  else286_3:
    CALL ARRAYGET_FLOAT VLV_I_4 F.0 VLV_MARKING_4
    JR_NEQF F.0 5.0 else286_4
    CALL TEXT.APPEND VLV_CODIGO_4 'R' VLV_CODIGO_4
  else286_4:
  endif286:
    ADDF VLV_I_4 1.0 VLV_I_4
    JR_LTEQF VLV_I_4 4.0 forbody285
  endfor285:
    MOVE32_32 1 STOPLCDUPDATE
    CALL LCD.CLEAR
    CALL TEXT.APPEND 'Codigo: ' VLV_CODIGO_4 S.0
    CALL LCD.WRITE 5.0 5.0 S.0
    MOVE32_32 0 STOPLCDUPDATE
	UI_DRAW UPDATE
RETSUB_F_CODIGO_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_CODIGO_2:
SUB_F_ROTAR_1:
    MATH ABS VLV_GRADOS_5 F.0
    DATAF tmpf302
    DATA8 flag302
    DIVF VLV_GRADOS_5 F.0 tmpf302
    CP_EQF 0.0 F.0 flag302
    SELECTF flag302 0.0 tmpf302 VLV_SIGNO_5

    WRITE32 ENDSUB_F_BAJARCUADRO_0:CALLSUB303 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_BAJARCUADRO_0
CALLSUB303:
    DATA32 milliseconds304
	MOVEF_32 100.0 milliseconds304
	DATA32 timer304
	TIMER_WAIT milliseconds304 timer304
	TIMER_READY timer304
    MULF 34.0 VLV_SIGNO_5 F.0
    MATH ABS VLV_GRADOS_5 F.2
    SUBF F.2 4.0 F.1
    CALL MOTOR.SCHEDULE 'D' F.0 0.0 F.1 0.0 'True' 

	DATA8 layer308
	DATA8 nos308
	DATA8 busy308
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer308 nos308
	JR_EQ8 0 nos308 motornotbusy308
  motorwaiting308:
	OUTPUT_TEST layer308 nos308 busy308
	JR_EQ8 busy308 0 motornotbusy308
	SLEEP
	JR motorwaiting308
  motornotbusy308:
    DATA32 milliseconds309
	MOVEF_32 200.0 milliseconds309
	DATA32 timer309
	TIMER_WAIT milliseconds309 timer309
	TIMER_READY timer309
    MOVEF_F 30.0 VLV_VELOCIDAD_10
    MOVEF_F -360.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB310 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB310:
RETSUB_F_ROTAR_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_ROTAR_1:
SUB_F_ORDENARBLOQUES_1:
    ARRAY COPY VLV_MARKING_6 VLV_MARKING_4
    WRITE32 ENDSUB_F_CODIGO_2:CALLSUB311 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_CODIGO_2
CALLSUB311:
    STRINGS DUPLICATE VLV_CODIGO_4 VLV_CODIGO_6
    CALL EQ_STRING VLV_CODIGO_6 'VRZA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_1
    JR endif312
  else312_1:
    CALL EQ_STRING VLV_CODIGO_6 'VRAZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_2
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB315 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB315:
    JR endif312
  else312_2:
    CALL EQ_STRING VLV_CODIGO_6 'VZRA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_3
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB317 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB317:
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB318 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB318:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB319 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB319:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB320 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB320:
    JR endif312
  else312_3:
    CALL EQ_STRING VLV_CODIGO_6 'VZAR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_4
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB322 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB322:
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB323 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB323:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB324 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB324:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB325 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB325:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB326 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB326:
    JR endif312
  else312_4:
    CALL EQ_STRING VLV_CODIGO_6 'VARZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_5
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB328 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB328:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB329 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB329:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB330 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB330:
    JR endif312
  else312_5:
    CALL EQ_STRING VLV_CODIGO_6 'VAZR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_6
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB332 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB332:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB333 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB333:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB334 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB334:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB335 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB335:
    JR endif312
  else312_6:
    CALL EQ_STRING VLV_CODIGO_6 'RVZA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_7
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB337 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB337:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB338 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB338:
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB339 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB339:
    JR endif312
  else312_7:
    CALL EQ_STRING VLV_CODIGO_6 'RVAZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_8
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB341 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB341:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB342 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB342:
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB343 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB343:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB344 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB344:
    JR endif312
  else312_8:
    CALL EQ_STRING VLV_CODIGO_6 'RZVA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_9
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB346 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB346:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB347 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB347:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB348 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB348:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB349 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB349:
    JR endif312
  else312_9:
    CALL EQ_STRING VLV_CODIGO_6 'RZAV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_10
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB351 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB351:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB352 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB352:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB353 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB353:
    JR endif312
  else312_10:
    CALL EQ_STRING VLV_CODIGO_6 'RAVZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_11
    MOVEF_F 90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB355 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB355:
    JR endif312
  else312_11:
    CALL EQ_STRING VLV_CODIGO_6 'RAZV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_12
    MOVEF_F 90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB357 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB357:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB358 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB358:
    JR endif312
  else312_12:
    CALL EQ_STRING VLV_CODIGO_6 'ZVAR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_13
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB360 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB360:
    JR endif312
  else312_13:
    CALL EQ_STRING VLV_CODIGO_6 'ZVRA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_14
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB362 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB362:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB363 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB363:
    JR endif312
  else312_14:
    CALL EQ_STRING VLV_CODIGO_6 'ZRVA' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_15
    MOVEF_F 90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB365 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB365:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB366 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB366:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB367 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB367:
    JR endif312
  else312_15:
    CALL EQ_STRING VLV_CODIGO_6 'ZRAV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_16
    MOVEF_F 90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB369 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB369:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB370 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB370:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB371 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB371:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB372 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB372:
    JR endif312
  else312_16:
    CALL EQ_STRING VLV_CODIGO_6 'ZAVR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_17
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB374 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB374:
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB375 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB375:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB376 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB376:
    JR endif312
  else312_17:
    CALL EQ_STRING VLV_CODIGO_6 'ZARV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_18
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB378 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB378:
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB379 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB379:
    JR endif312
  else312_18:
    CALL EQ_STRING VLV_CODIGO_6 'AVRZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_19
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB381 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB381:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB382 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB382:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB383 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB383:
    JR endif312
  else312_19:
    CALL EQ_STRING VLV_CODIGO_6 'AVZR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_20
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB385 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB385:
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB386 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB386:
    JR endif312
  else312_20:
    CALL EQ_STRING VLV_CODIGO_6 'ARVZ' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_21
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB388 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB388:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB389 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB389:
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB390 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB390:
    JR endif312
  else312_21:
    CALL EQ_STRING VLV_CODIGO_6 'ARZV' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_22
    MOVEF_F -90.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB392 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB392:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB393 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB393:
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB394 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB394:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB395 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB395:
    JR endif312
  else312_22:
    CALL EQ_STRING VLV_CODIGO_6 'AZVR' S.0
    AND8888_32 S.0 -538976289 S.0
    STRINGS COMPARE S.0 'TRUE' S.0
    JR_EQ8 S.0 0 else312_23
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB397 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB397:
    WRITE32 ENDSUB_F_SWAP_0:CALLSUB398 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_SWAP_0
CALLSUB398:
    JR endif312
  else312_23:
    MOVEF_F 180.0 VLV_GRADOS_5
    WRITE32 ENDSUB_F_ROTAR_1:CALLSUB399 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_ROTAR_1
CALLSUB399:
  else312_24:
  endif312:
    MOVEF_F -20.0 VLV_VELOCIDAD_20
    MOVEF_F 8.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB400 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB400:
    MOVEF_F 15.0 VLV_VELOCIDAD1_13
    MOVEF_F -15.0 VLV_VELOCIDAD2_13
    MOVEF_F 182.0 VLV_GRADOS_13
    WRITE32 ENDSUB_M_GIRO_GRADOS_3:CALLSUB401 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_GIRO_GRADOS_3
CALLSUB401:
    MOVEF_F -30.0 VLV_VELOCIDAD_20
    MOVEF_F 22.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB402 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB402:
    MOVEF_F 20.0 VLV_VELOCIDAD_10
    MOVEF_F 24.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB403 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB403:
RETSUB_F_ORDENARBLOQUES_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_ORDENARBLOQUES_1:
SUB_F_SWAP_0:
    MOVEF_F -15.0 VLV_VELOCIDAD_20
    MOVEF_F 7.5 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB404 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB404:
    WRITE32 ENDSUB_F_BAJARCUADRO_0:CALLSUB405 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_F_BAJARCUADRO_0
CALLSUB405:
    MOVEF_F -15.0 VLV_VELOCIDAD_20
    MOVEF_F 2.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB406 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB406:
    CALL MOTOR.SCHEDULE 'D' 50.0 0.0 180.0 0.0 'True' 

	DATA8 layer407
	DATA8 nos407
	DATA8 busy407
	CALL MOTORDECODEPORTSDESCRIPTOR 'D' layer407 nos407
	JR_EQ8 0 nos407 motornotbusy407
  motorwaiting407:
	OUTPUT_TEST layer407 nos407 busy407
	JR_EQ8 busy407 0 motornotbusy407
	SLEEP
	JR motorwaiting407
  motornotbusy407:
    MOVEF_F 30.0 VLV_VELOCIDAD_10
    MOVEF_F -360.0 VLV_ENCODER_10
    WRITE32 ENDSUB_M_BRAZO_AENCODER_2:CALLSUB408 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_BRAZO_AENCODER_2
CALLSUB408:
    MOVEF_F 15.0 VLV_VELOCIDAD_20
    MOVEF_F 15.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB409 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB409:
    MOVEF_F -15.0 VLV_VELOCIDAD_20
    MOVEF_F 5.0 VLV_DISTANCIA_20
    WRITE32 ENDSUB_M_RECTO_ENCODER_2:CALLSUB410 STACKPOINTER RETURNSTACK
    ADD8 STACKPOINTER 1 STACKPOINTER
    JR SUB_M_RECTO_ENCODER_2
CALLSUB410:
RETSUB_F_SWAP_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_SWAP_0:
SUB_F_S_0:
    UI_BUTTON FLUSH
    UI_BUTTON WAIT_FOR_PRESS
RETSUB_F_S_0:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_F_S_0:
SUB_M_BRAZO_ATIMER_2:
    TIMER_READ timeMC1
  while414:
    TIMER_READ timeMC1tmp
	SUB32 timeMC1tmp timeMC1 timeMC1tmp
	MOVE32_F timeMC1tmp F.0
    JR_GTEQF F.0 VLV_TIMER_9 endwhile414
  whilebody414:
    MOVEF_8 VLV_VELOCIDAD_9 setSpeedA
	OUTPUT_SPEED 0 1 setSpeedA
	OUTPUT_START 0 1
    TIMER_READ timeMC1tmp
	SUB32 timeMC1tmp timeMC1 timeMC1tmp
	MOVE32_F timeMC1tmp F.0
    JR_LTF F.0 VLV_TIMER_9 whilebody414
  endwhile414:
    CALL MOTOR.STOP 'A' 'True'
RETSUB_M_BRAZO_ATIMER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_BRAZO_ATIMER_2:
SUB_M_BRAZO_AENCODER_2:
    CALL MOTOR.GETCOUNT 'A' F.0
    SUBF VLV_ENCODER_10 F.0 VLV_ENCDIFF_10
    MATH ABS VLV_ENCDIFF_10 F.0
    DATAF tmpf422
    DATA8 flag422
    DIVF VLV_ENCDIFF_10 F.0 tmpf422
    CP_EQF 0.0 F.0 flag422
    SELECTF flag422 0.0 tmpf422 VLV_SIGNO_10

    JR_EQF VLV_ENCDIFF_10 0.0 else423_1
    MULF VLV_VELOCIDAD_10 VLV_SIGNO_10 F.0
    MATH ABS VLV_ENCDIFF_10 F.1
    CALL MOTOR.SCHEDULE 'A' F.0 0.0 F.1 0.0 'True' 

	DATA8 layer426
	DATA8 nos426
	DATA8 busy426
	CALL MOTORDECODEPORTSDESCRIPTOR 'A' layer426 nos426
	JR_EQ8 0 nos426 motornotbusy426
  motorwaiting426:
	OUTPUT_TEST layer426 nos426 busy426
	JR_EQ8 busy426 0 motornotbusy426
	SLEEP
	JR motorwaiting426
  motornotbusy426:
  else423_1:
  endif423:
    CALL MOTOR.STOP 'A' 'True'
RETSUB_M_BRAZO_AENCODER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_BRAZO_AENCODER_2:
SUB_M_GIRO_ENCODER_3:
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_GIRO_DIAMETRO F.2 F.1
    DATAF tmpf430
    DATA8 flag430
    DIVF VLV_DISTANCIA_11 F.1 tmpf430
    CP_EQF 0.0 F.1 flag430
    SELECTF flag430 0.0 tmpf430 F.0

    MULF F.0 360.0 VLV_ENCODER_11
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MATH NEGATE VLV_VELOCIDAD1_11 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_11 VLV_ENCODER_11 'True'

	DATA8 layer434
	DATA8 nos434
	DATA8 busy434
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer434 nos434
	JR_EQ8 0 nos434 motornotbusy434
  motorwaiting434:
	OUTPUT_TEST layer434 nos434 busy434
	JR_EQ8 busy434 0 motornotbusy434
	SLEEP
	JR motorwaiting434
  motornotbusy434:
RETSUB_M_GIRO_ENCODER_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_ENCODER_3:
SUB_M_GIRO_GRADOSF_3:
    DATAF tmpf435
    DATA8 flag435
    DIVF VLV_VELOCIDAD1_12 VLV_VELOCIDAD2_12 tmpf435
    CP_EQF 0.0 VLV_VELOCIDAD2_12 flag435
    SELECTF flag435 0.0 tmpf435 F.0

    DATAF tmpf436
    DATA8 flag436
    DIVF VLV_VELOCIDAD1_12 VLV_VELOCIDAD2_12 tmpf436
    CP_EQF 0.0 VLV_VELOCIDAD2_12 flag436
    SELECTF flag436 0.0 tmpf436 F.2

    MATH ABS F.2 F.1
    DATAF tmpf438
    DATA8 flag438
    DIVF F.0 F.1 tmpf438
    CP_EQF 0.0 F.1 flag438
    SELECTF flag438 0.0 tmpf438 VLV_SIGNO_12

    MATH ABS VLV_VELOCIDAD1_12 F.0
    MATH ABS VLV_VELOCIDAD2_12 F.1
    DATA8 flag441
	CP_LTF F.0 F.1 flag441
	SELECTF flag441 F.0 F.1 VLV_VMIN_12
    MATH ABS VLV_VELOCIDAD1_12 F.0
    MATH ABS VLV_VELOCIDAD2_12 F.1
    DATA8 flag444
	CP_GTF F.0 F.1 flag444
	SELECTF flag444 F.0 F.1 VLV_VMAX_12
    MULF VLV_GRADOS_12 VPR_GIRO_G1 F.0
    MULF VLV_SIGNO_12 VLV_VMIN_12 F.4
    DATAF tmpf447
    DATA8 flag447
    DIVF F.4 VLV_VMAX_12 tmpf447
    CP_EQF 0.0 VLV_VMAX_12 flag447
    SELECTF flag447 0.0 tmpf447 F.3

    SUBF F.3 1.0 F.2
    DATAF tmpf449
    DATA8 flag449
    DIVF -2.0 F.2 tmpf449
    CP_EQF 0.0 F.2 flag449
    SELECTF flag449 0.0 tmpf449 F.1

    MULF F.0 F.1 VLV_ENCODER_12
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds452
	MOVEF_32 100.0 milliseconds452
	DATA32 timer452
	TIMER_WAIT milliseconds452 timer452
	TIMER_READY timer452
    MATH NEGATE VLV_VELOCIDAD1_12 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_12 VLV_ENCODER_12 'False'

	DATA8 layer454
	DATA8 nos454
	DATA8 busy454
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer454 nos454
	JR_EQ8 0 nos454 motornotbusy454
  motorwaiting454:
	OUTPUT_TEST layer454 nos454 busy454
	JR_EQ8 busy454 0 motornotbusy454
	SLEEP
	JR motorwaiting454
  motornotbusy454:
    MOVEF_F 0.0 VLV_VELOCIDAD1_12
    MOVEF_F 0.0 VLV_VELOCIDAD2_12
    MOVEF_F 0.0 VLV_GRADOS_12
    DATA32 milliseconds455
	MOVEF_32 100.0 milliseconds455
	DATA32 timer455
	TIMER_WAIT milliseconds455 timer455
	TIMER_READY timer455
RETSUB_M_GIRO_GRADOSF_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_GRADOSF_3:
SUB_M_GIRO_GRADOS_3:
    DATAF tmpf456
    DATA8 flag456
    DIVF VLV_VELOCIDAD1_13 VLV_VELOCIDAD2_13 tmpf456
    CP_EQF 0.0 VLV_VELOCIDAD2_13 flag456
    SELECTF flag456 0.0 tmpf456 F.0

    DATAF tmpf457
    DATA8 flag457
    DIVF VLV_VELOCIDAD1_13 VLV_VELOCIDAD2_13 tmpf457
    CP_EQF 0.0 VLV_VELOCIDAD2_13 flag457
    SELECTF flag457 0.0 tmpf457 F.2

    MATH ABS F.2 F.1
    DATAF tmpf459
    DATA8 flag459
    DIVF F.0 F.1 tmpf459
    CP_EQF 0.0 F.1 flag459
    SELECTF flag459 0.0 tmpf459 VLV_SIGNO_13

    MATH ABS VLV_VELOCIDAD1_13 F.0
    MATH ABS VLV_VELOCIDAD2_13 F.1
    DATA8 flag462
	CP_LTF F.0 F.1 flag462
	SELECTF flag462 F.0 F.1 VLV_VMIN_13
    MATH ABS VLV_VELOCIDAD1_13 F.0
    MATH ABS VLV_VELOCIDAD2_13 F.1
    DATA8 flag465
	CP_GTF F.0 F.1 flag465
	SELECTF flag465 F.0 F.1 VLV_VMAX_13
    MULF VLV_GRADOS_13 VPR_GIRO_G1 F.0
    MULF VLV_SIGNO_13 VLV_VMIN_13 F.4
    DATAF tmpf468
    DATA8 flag468
    DIVF F.4 VLV_VMAX_13 tmpf468
    CP_EQF 0.0 VLV_VMAX_13 flag468
    SELECTF flag468 0.0 tmpf468 F.3

    SUBF F.3 1.0 F.2
    DATAF tmpf470
    DATA8 flag470
    DIVF -2.0 F.2 tmpf470
    CP_EQF 0.0 F.2 flag470
    SELECTF flag470 0.0 tmpf470 F.1

    MULF F.0 F.1 VLV_ENCODER_13
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds473
	MOVEF_32 100.0 milliseconds473
	DATA32 timer473
	TIMER_WAIT milliseconds473 timer473
	TIMER_READY timer473
    MATH NEGATE VLV_VELOCIDAD1_13 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_13 VLV_ENCODER_13 'True'

	DATA8 layer475
	DATA8 nos475
	DATA8 busy475
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer475 nos475
	JR_EQ8 0 nos475 motornotbusy475
  motorwaiting475:
	OUTPUT_TEST layer475 nos475 busy475
	JR_EQ8 busy475 0 motornotbusy475
	SLEEP
	JR motorwaiting475
  motornotbusy475:
    MOVEF_F 0.0 VLV_VELOCIDAD1_13
    MOVEF_F 0.0 VLV_VELOCIDAD2_13
    MOVEF_F 0.0 VLV_GRADOS_13
    DATA32 milliseconds476
	MOVEF_32 100.0 milliseconds476
	DATA32 timer476
	TIMER_WAIT milliseconds476 timer476
	TIMER_READY timer476
RETSUB_M_GIRO_GRADOS_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_GRADOS_3:
SUB_M_GIRO_NEGRO1F_3:
    MOVEF_F 50.0 VLV_LECTURA_14
  while477:
    JR_LTEQF VLV_LECTURA_14 15.0 endwhile477
  whilebody477:
    CALL SENSOR.READPERCENT VLV_SENS_14 F.2
    SUBF F.2 VPR_GIRO_NEGRO F.1
    DATAF tmpf480
    DATA8 flag480
    DIVF F.1 VPR_GIRO_BLANCO tmpf480
    CP_EQF 0.0 VPR_GIRO_BLANCO flag480
    SELECTF flag480 0.0 tmpf480 F.0

    SUBF 100.0 VPR_GIRO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_14
    MATH NEGATE VLV_VELOCIDAD1_14 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD2_14
    JR_GTF VLV_LECTURA_14 15.0 whilebody477
  endwhile477:
    CALL MOTOR.STOP 'BC' 'False'
RETSUB_M_GIRO_NEGRO1F_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_NEGRO1F_3:
SUB_M_GIRO_NEGRO1_3:
    MOVEF_F 50.0 VLV_LECTURA_15
  while486:
    JR_LTEQF VLV_LECTURA_15 15.0 endwhile486
  whilebody486:
    CALL SENSOR.READPERCENT VLV_SENS_15 F.2
    SUBF F.2 VPR_GIRO_NEGRO F.1
    DATAF tmpf489
    DATA8 flag489
    DIVF F.1 VPR_GIRO_BLANCO tmpf489
    CP_EQF 0.0 VPR_GIRO_BLANCO flag489
    SELECTF flag489 0.0 tmpf489 F.0

    SUBF 100.0 VPR_GIRO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_15
    MATH NEGATE VLV_VELOCIDAD1_15 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD2_15
    JR_GTF VLV_LECTURA_15 15.0 whilebody486
  endwhile486:
    CALL MOTOR.STOP 'BC' 'True'
RETSUB_M_GIRO_NEGRO1_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_NEGRO1_3:
SUB_M_GIRO_ENCODERF_3:
    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_GIRO_DIAMETRO F.2 F.1
    DATAF tmpf497
    DATA8 flag497
    DIVF VLV_DISTANCIA_16 F.1 tmpf497
    CP_EQF 0.0 F.1 flag497
    SELECTF flag497 0.0 tmpf497 F.0

    MULF F.0 360.0 VLV_ENCODER_16
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MATH NEGATE VLV_VELOCIDAD1_16 F.0
    CALL MOTOR.SCHEDULESYNC 'BC' F.0 VLV_VELOCIDAD2_16 VLV_ENCODER_16 'False'

	DATA8 layer501
	DATA8 nos501
	DATA8 busy501
	CALL MOTORDECODEPORTSDESCRIPTOR 'BC' layer501 nos501
	JR_EQ8 0 nos501 motornotbusy501
  motorwaiting501:
	OUTPUT_TEST layer501 nos501 busy501
	JR_EQ8 busy501 0 motornotbusy501
	SLEEP
	JR motorwaiting501
  motornotbusy501:
RETSUB_M_GIRO_ENCODERF_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_ENCODERF_3:
SUB_M_GIRO_TIEMPOF_3:
    TIMER_READ timeMC3
  while503:
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_GTEQF F.0 VLV_TIEMPO_17 endwhile503
  whilebody503:
    MATH NEGATE VLV_VELOCIDAD1_17 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD2_17
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_LTF F.0 VLV_TIEMPO_17 whilebody503
  endwhile503:
    CALL MOTOR.STOP 'BC' 'False'
RETSUB_M_GIRO_TIEMPOF_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_TIEMPOF_3:
SUB_M_GIRO_TIEMPO_3:
    TIMER_READ timeMC3
  while510:
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_GTEQF F.0 VLV_TIEMPO_18 endwhile510
  whilebody510:
    MATH NEGATE VLV_VELOCIDAD1_18 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD2_18
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_LTF F.0 VLV_TIEMPO_18 whilebody510
  endwhile510:
    CALL MOTOR.STOP 'BC' 'True'
RETSUB_M_GIRO_TIEMPO_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_GIRO_TIEMPO_3:
SUB_M_RECTO_NEGRO1_2:
    MOVEF_F 0.0 VLV_CORRECCION_19
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MOVEF_F 50.0 VLV_LECTURA_19
  while517:
    JR_LTEQF VLV_LECTURA_19 15.0 endwhile517
  whilebody517:
    CALL SENSOR.READPERCENT VLV_SENSOR_19 F.2
    SUBF F.2 VPR_RECTO_NEGRO F.1
    DATAF tmpf520
    DATA8 flag520
    DIVF F.1 VPR_RECTO_BLANCO tmpf520
    CP_EQF 0.0 VPR_RECTO_BLANCO flag520
    SELECTF flag520 0.0 tmpf520 F.0

    SUBF 100.0 VPR_RECTO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_19
    MATH NEGATE VLV_VELOCIDAD_19 F.1
    ADDF F.1 VLV_CORRECCION_19 F.0
    ADDF VLV_VELOCIDAD_19 VLV_CORRECCION_19 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    JR_GTF VLV_LECTURA_19 15.0 whilebody517
  endwhile517:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_RECTO_NEGRO1_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_NEGRO1_2:
SUB_M_RECTO_ENCODER_2:
    DATAF tmpf528
    DATA8 flag528
    DIVF VLV_VELOCIDAD_20 10.0 tmpf528
    CP_EQF 0.0 10.0 flag528
    SELECTF flag528 0.0 tmpf528 F.2

    DATAF tmpf529
    DATA8 flag529
    DIVF 11286.0 F.2 tmpf529
    CP_EQF 0.0 F.2 flag529
    SELECTF flag529 0.0 tmpf529 F.1

    DATAF tmpf530
    DATA8 flag530
    DIVF VLV_DISTANCIA_20 100.0 tmpf530
    CP_EQF 0.0 100.0 flag530
    SELECTF flag530 0.0 tmpf530 F.2

    MULF F.1 F.2 F.0
    DATAF tmpf532
    DATA8 flag532
    DIVF VPR_RECTO_DIAMETRO 6.24 tmpf532
    CP_EQF 0.0 6.24 flag532
    SELECTF flag532 0.0 tmpf532 F.1

    DATAF tmpf533
    DATA8 flag533
    DIVF F.0 F.1 tmpf533
    CP_EQF 0.0 F.1 flag533
    SELECTF flag533 0.0 tmpf533 VLV_SAFETYTIMER_20

    MATH ABS VLV_VELOCIDAD_20 F.1
    SUBF F.1 20.0 F.0
    MULF F.0 0.05 VLV_CORRECCION_20
    SUBF VLV_DISTANCIA_20 VLV_CORRECCION_20 F.2
    MULF F.2 360.0 F.1
    MOVEF_F 3.1415926535897932384 F.2
    DATAF tmpf540
    DATA8 flag540
    DIVF F.1 F.2 tmpf540
    CP_EQF 0.0 F.2 flag540
    SELECTF flag540 0.0 tmpf540 F.0

    DATAF tmpf541
    DATA8 flag541
    DIVF F.0 VPR_RECTO_DIAMETRO tmpf541
    CP_EQF 0.0 VPR_RECTO_DIAMETRO flag541
    SELECTF flag541 0.0 tmpf541 VLV_ENC_20

    OUTPUT_CLR_COUNT 0 2
    OUTPUT_CLR_COUNT 0 4
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds545
	MOVEF_32 100.0 milliseconds545
	DATA32 timer545
	TIMER_WAIT milliseconds545 timer545
	TIMER_READY timer545
    TIMER_READ timeMC4
  while547:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.1
    MATH ABS F.1 F.0
    JR_GTEQF F.0 VLV_ENC_20 endwhile547
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_20 2000.0 F.1
    JR_GTEQF F.0 F.1 endwhile547
  whilebody547:
    MATH NEGATE VLV_VELOCIDAD_20 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD_20
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.1
    MATH ABS F.1 F.0
    JR_GTEQF F.0 VLV_ENC_20 and554
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_20 2000.0 F.1
    JR_LTF F.0 F.1 whilebody547
  and554:
  endwhile547:
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_20 2000.0 F.1
    JR_LTEQF F.0 F.1 else559_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/General alert'
    SOUND_READY
  else559_1:
  endif559:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_RECTO_ENCODER_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_ENCODER_2:
SUB_M_RECTO_TIEMPO_2:
    MOVEF_F 0.0 VLV_CORRECCION_21
    TIMER_READ timeMC3
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
  while567:
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_GTEQF F.0 VLV_TIEMPO_21 endwhile567
  whilebody567:
    MATH NEGATE VLV_VELOCIDAD_21 F.1
    ADDF F.1 VLV_CORRECCION_21 F.0
    ADDF VLV_VELOCIDAD_21 VLV_CORRECCION_21 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    TIMER_READ timeMC3tmp
	SUB32 timeMC3tmp timeMC3 timeMC3tmp
	MOVE32_F timeMC3tmp F.0
    JR_LTF F.0 VLV_TIEMPO_21 whilebody567
  endwhile567:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_RECTO_TIEMPO_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_TIEMPO_2:
SUB_M_RECTO_ENCODERF_2:
    DATAF tmpf575
    DATA8 flag575
    DIVF VLV_VELOCIDAD_22 10.0 tmpf575
    CP_EQF 0.0 10.0 flag575
    SELECTF flag575 0.0 tmpf575 F.2

    DATAF tmpf576
    DATA8 flag576
    DIVF 11286.0 F.2 tmpf576
    CP_EQF 0.0 F.2 flag576
    SELECTF flag576 0.0 tmpf576 F.1

    DATAF tmpf577
    DATA8 flag577
    DIVF VLV_DISTANCIA_22 100.0 tmpf577
    CP_EQF 0.0 100.0 flag577
    SELECTF flag577 0.0 tmpf577 F.2

    MULF F.1 F.2 F.0
    DATAF tmpf579
    DATA8 flag579
    DIVF VPR_RECTO_DIAMETRO 6.24 tmpf579
    CP_EQF 0.0 6.24 flag579
    SELECTF flag579 0.0 tmpf579 F.1

    DATAF tmpf580
    DATA8 flag580
    DIVF F.0 F.1 tmpf580
    CP_EQF 0.0 F.1 flag580
    SELECTF flag580 0.0 tmpf580 VLV_SAFETYTIMER_22

    MATH ABS VLV_VELOCIDAD_22 F.1
    SUBF F.1 20.0 F.0
    MULF F.0 0.05 VLV_CORRECCION_22
    SUBF VLV_DISTANCIA_22 VLV_CORRECCION_22 F.2
    MULF F.2 360.0 F.1
    MOVEF_F 3.1415926535897932384 F.2
    DATAF tmpf587
    DATA8 flag587
    DIVF F.1 F.2 tmpf587
    CP_EQF 0.0 F.2 flag587
    SELECTF flag587 0.0 tmpf587 F.0

    DATAF tmpf588
    DATA8 flag588
    DIVF F.0 VPR_RECTO_DIAMETRO tmpf588
    CP_EQF 0.0 VPR_RECTO_DIAMETRO flag588
    SELECTF flag588 0.0 tmpf588 VLV_ENC_22

    OUTPUT_CLR_COUNT 0 2
    OUTPUT_CLR_COUNT 0 4
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    DATA32 milliseconds592
	MOVEF_32 100.0 milliseconds592
	DATA32 timer592
	TIMER_WAIT milliseconds592 timer592
	TIMER_READY timer592
    TIMER_READ timeMC4
  while594:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.1
    MATH ABS F.1 F.0
    JR_GTEQF F.0 VLV_ENC_22 endwhile594
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_22 2000.0 F.1
    JR_GTEQF F.0 F.1 endwhile594
  whilebody594:
    MATH NEGATE VLV_VELOCIDAD_22 F.0
    CALL MOTOR.STARTSYNC 'BC' F.0 VLV_VELOCIDAD_22
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.1
    MATH ABS F.1 F.0
    JR_GTEQF F.0 VLV_ENC_22 and601
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_22 2000.0 F.1
    JR_LTF F.0 F.1 whilebody594
  and601:
  endwhile594:
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_22 2000.0 F.1
    JR_LTEQF F.0 F.1 else606_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/General alert'
    SOUND_READY
  else606_1:
  endif606:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_RECTO_ENCODERF_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_ENCODERF_2:
SUB_M_RECTO_COLOR1_3:
    MOVEF_F 0.0 VLV_CORRECCION_23
    CALL SENSOR.GETMODE VLV_SENSOR_23 VLV_MODE_23
    DATA8 layer613
	DATA8 no613
	DATA8 mode8613
	
	MOVEF_8 VLV_SENSOR_23 no613
	SUB8 no613 1 no613
	DIV8 no613 4 layer613
	MATH MOD8 no613 4 no613

	MOVEF_8 2.0 mode8613
	
	INPUT_DEVICE READY_RAW layer613 no613 0 mode8613 0
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
  while615:
    CALL SENSOR.READRAWVALUE VLV_SENSOR_23 0.0 F.0
    JR_EQF F.0 VLV_COLOR_23 endwhile615
  whilebody615:
    MATH NEGATE VLV_VELOCIDAD_23 F.1
    ADDF F.1 VLV_CORRECCION_23 F.0
    ADDF VLV_VELOCIDAD_23 VLV_CORRECCION_23 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    CALL SENSOR.READRAWVALUE VLV_SENSOR_23 0.0 F.0
    JR_NEQF F.0 VLV_COLOR_23 whilebody615
  endwhile615:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
    DATA8 layer623
	DATA8 no623
	DATA8 mode8623
	
	MOVEF_8 VLV_SENSOR_23 no623
	SUB8 no623 1 no623
	DIV8 no623 4 layer623
	MATH MOD8 no623 4 no623

	MOVEF_8 VLV_MODE_23 mode8623
	
	INPUT_DEVICE READY_RAW layer623 no623 0 mode8623 0
RETSUB_M_RECTO_COLOR1_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_COLOR1_3:
SUB_M_RECTO_BLANCO1F_2:
    MOVEF_F 0.0 VLV_CORRECCION_24
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MOVEF_F 50.0 VLV_LECTURA_24
  while625:
    JR_GTEQF VLV_LECTURA_24 60.0 endwhile625
  whilebody625:
    CALL SENSOR.READPERCENT VLV_SENSOR_24 F.2
    SUBF F.2 VPR_RECTO_NEGRO F.1
    DATAF tmpf628
    DATA8 flag628
    DIVF F.1 VPR_RECTO_BLANCO tmpf628
    CP_EQF 0.0 VPR_RECTO_BLANCO flag628
    SELECTF flag628 0.0 tmpf628 F.0

    SUBF 100.0 VPR_RECTO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_24
    MATH NEGATE VLV_VELOCIDAD_24 F.1
    ADDF F.1 VLV_CORRECCION_24 F.0
    ADDF VLV_VELOCIDAD_24 VLV_CORRECCION_24 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    JR_LTF VLV_LECTURA_24 60.0 whilebody625
  endwhile625:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_RECTO_BLANCO1F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_BLANCO1F_2:
SUB_M_RECTO_BLANCO1_2:
    MOVEF_F 0.0 VLV_CORRECCION_25
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MOVEF_F 50.0 VLV_LECTURA_25
  while637:
    JR_GTEQF VLV_LECTURA_25 60.0 endwhile637
  whilebody637:
    CALL SENSOR.READPERCENT VLV_SENSOR_25 F.2
    SUBF F.2 VPR_RECTO_NEGRO F.1
    DATAF tmpf640
    DATA8 flag640
    DIVF F.1 VPR_RECTO_BLANCO tmpf640
    CP_EQF 0.0 VPR_RECTO_BLANCO flag640
    SELECTF flag640 0.0 tmpf640 F.0

    SUBF 100.0 VPR_RECTO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_25
    MATH NEGATE VLV_VELOCIDAD_25 F.1
    ADDF F.1 VLV_CORRECCION_25 F.0
    ADDF VLV_VELOCIDAD_25 VLV_CORRECCION_25 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    JR_LTF VLV_LECTURA_25 60.0 whilebody637
  endwhile637:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_RECTO_BLANCO1_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_BLANCO1_2:
SUB_M_RECTO_NEGRO1F_2:
    MOVEF_F 0.0 VLV_CORRECCION_26
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
    MOVEF_F 50.0 VLV_LECTURA_26
  while649:
    JR_LTEQF VLV_LECTURA_26 15.0 endwhile649
  whilebody649:
    CALL SENSOR.READPERCENT VLV_SENSOR_26 F.2
    SUBF F.2 VPR_RECTO_NEGRO F.1
    DATAF tmpf652
    DATA8 flag652
    DIVF F.1 VPR_RECTO_BLANCO tmpf652
    CP_EQF 0.0 VPR_RECTO_BLANCO flag652
    SELECTF flag652 0.0 tmpf652 F.0

    SUBF 100.0 VPR_RECTO_NEGRO F.1
    MULF F.0 F.1 VLV_LECTURA_26
    MATH NEGATE VLV_VELOCIDAD_26 F.1
    ADDF F.1 VLV_CORRECCION_26 F.0
    ADDF VLV_VELOCIDAD_26 VLV_CORRECCION_26 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    JR_GTF VLV_LECTURA_26 15.0 whilebody649
  endwhile649:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_RECTO_NEGRO1F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RECTO_NEGRO1F_2:
SUB_M_SIGUELINEAS_CRUCE14_1:
    MULF VLV_VELOCIDAD_27 1.0 VLV_VELOCIDAD_27
    MOVEF_F 50.0 VLV_LECTURA1_27
    MOVEF_F 50.0 VLV_LECTURA3_27
    MOVEF_F 50.0 VLV_LECTURA4_27
    MATH POW VLV_VELOCIDAD_27 0.833333333333333 F.0
    DATAF tmpf662
    DATA8 flag662
    DIVF F.0 440.0 tmpf662
    CP_EQF 0.0 440.0 flag662
    SELECTF flag662 0.0 tmpf662 VLV_KP_27

    MULF VLV_KP_27 70.0 VLV_KD_27
    MOVEF_F 0.0 VLV_ERROR_27
    MOVEF_F 0.0 VLV_OLDERROR_27
    MOVEF_F 0.0 VLV_U_27
    MATH ABS VLV_VELOCIDAD_27 F.0
    DATAF tmpf665
    DATA8 flag665
    DIVF VLV_VELOCIDAD_27 F.0 tmpf665
    CP_EQF 0.0 F.0 flag665
    SELECTF flag665 0.0 tmpf665 VLV_SENTIDO_27

  while666:
    JR_GTF VLV_LECTURA1_27 10.0 or667
    JR_LTEQF VLV_LECTURA4_27 10.0 endwhile666
  or667:
  whilebody666:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf670
    DATA8 flag670
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf670
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag670
    SELECTF flag670 0.0 tmpf670 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_27
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf675
    DATA8 flag675
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf675
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag675
    SELECTF flag675 0.0 tmpf675 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_27
    SUBF VLV_LECTURA1_27 VLV_LECTURA4_27 F.1
    MULF F.1 VLV_SENTIDO_27 F.0
    MULF F.0 1.0 VLV_ERROR_27
    MULF VLV_ERROR_27 VLV_KP_27 F.0
    SUBF VLV_ERROR_27 VLV_OLDERROR_27 F.2
    MULF F.2 VLV_KD_27 F.1
    ADDF F.0 F.1 VLV_U_27
    ADDF VLV_VELOCIDAD_27 VLV_U_27 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_27 VLV_U_27 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_27 VLV_OLDERROR_27
    JR_GTF VLV_LECTURA1_27 10.0 whilebody666
    JR_GTF VLV_LECTURA4_27 10.0 whilebody666
  endwhile666:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_SIGUELINEAS_CRUCE14_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_CRUCE14_1:
SUB_M_SIGUELINEAS_ENCODER31F_2:
    MULF VLV_VELOCIDAD_28 1.0 VLV_VELOCIDAD_28
    MOVEF_F 50.0 VLV_LECTURA1_28
    MOVEF_F 50.0 VLV_LECTURA3_28
    MOVEF_F 50.0 VLV_LECTURA4_28
    MATH POW VLV_VELOCIDAD_28 0.833333333333333 F.0
    DATAF tmpf692
    DATA8 flag692
    DIVF F.0 440.0 tmpf692
    CP_EQF 0.0 440.0 flag692
    SELECTF flag692 0.0 tmpf692 VLV_KP_28

    MULF VLV_KP_28 70.0 VLV_KD_28
    MOVEF_F 0.0 VLV_ERROR_28
    MOVEF_F 0.0 VLV_OLDERROR_28
    MOVEF_F 0.0 VLV_U_28
    MATH ABS VLV_VELOCIDAD_28 F.0
    DATAF tmpf695
    DATA8 flag695
    DIVF VLV_VELOCIDAD_28 F.0 tmpf695
    CP_EQF 0.0 F.0 flag695
    SELECTF flag695 0.0 tmpf695 VLV_SENTIDO_28

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf698
    DATA8 flag698
    DIVF VLV_ENCODER_28 F.1 tmpf698
    CP_EQF 0.0 F.1 flag698
    SELECTF flag698 0.0 tmpf698 F.0

    MULF F.0 360.0 VLV_ENCODER_28
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_28
    MOVEF_F 0.0 VLV_ENCODERC_28
    DATAF tmpf701
    DATA8 flag701
    DIVF VLV_VELOCIDAD_28 10.0 tmpf701
    CP_EQF 0.0 10.0 flag701
    SELECTF flag701 0.0 tmpf701 F.2

    DATAF tmpf702
    DATA8 flag702
    DIVF 11286.0 F.2 tmpf702
    CP_EQF 0.0 F.2 flag702
    SELECTF flag702 0.0 tmpf702 F.1

    DATAF tmpf703
    DATA8 flag703
    DIVF VLV_ENCODER_28 100.0 tmpf703
    CP_EQF 0.0 100.0 flag703
    SELECTF flag703 0.0 tmpf703 F.2

    MULF F.1 F.2 F.0
    DATAF tmpf705
    DATA8 flag705
    DIVF VPR_SIGUELINEAS_DIAMETRO 6.24 tmpf705
    CP_EQF 0.0 6.24 flag705
    SELECTF flag705 0.0 tmpf705 F.1

    DATAF tmpf706
    DATA8 flag706
    DIVF F.0 F.1 tmpf706
    CP_EQF 0.0 F.1 flag706
    SELECTF flag706 0.0 tmpf706 VLV_SAFETYTIMER_28

    TIMER_READ timeMC4
  while708:
    MATH ABS VLV_ENCODERC_28 F.0
    JR_GTEQF F.0 VLV_ENCODER_28 endwhile708
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_28 2000.0 F.1
    JR_GTEQF F.0 F.1 endwhile708
  whilebody708:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_28 VLV_ENCODERC_28
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf716
    DATA8 flag716
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf716
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag716
    SELECTF flag716 0.0 tmpf716 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_28
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf721
    DATA8 flag721
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf721
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag721
    SELECTF flag721 0.0 tmpf721 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_28
    SUBF VLV_LECTURA3_28 VLV_LECTURA1_28 F.1
    MULF F.1 VLV_SENTIDO_28 F.0
    MULF F.0 1.0 VLV_ERROR_28
    MULF VLV_ERROR_28 VLV_KP_28 F.0
    SUBF VLV_ERROR_28 VLV_OLDERROR_28 F.2
    MULF F.2 VLV_KD_28 F.1
    ADDF F.0 F.1 VLV_U_28
    ADDF VLV_VELOCIDAD_28 VLV_U_28 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_28 VLV_U_28 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_28 VLV_OLDERROR_28
    MATH ABS VLV_ENCODERC_28 F.0
    JR_GTEQF F.0 VLV_ENCODER_28 and735
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_28 2000.0 F.1
    JR_LTF F.0 F.1 whilebody708
  and735:
  endwhile708:
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_28 2000.0 F.1
    JR_LTEQF F.0 F.1 else739_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/General alert'
    SOUND_READY
  else739_1:
  endif739:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_SIGUELINEAS_ENCODER31F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER31F_2:
SUB_M_SIGUELINEAS_ENCODER14_2:
    MULF VLV_VELOCIDAD_29 1.0 VLV_VELOCIDAD_29
    MOVEF_F 50.0 VLV_LECTURA1_29
    MOVEF_F 50.0 VLV_LECTURA3_29
    MOVEF_F 50.0 VLV_LECTURA4_29
    MATH POW VLV_VELOCIDAD_29 0.833333333333333 F.0
    DATAF tmpf747
    DATA8 flag747
    DIVF F.0 440.0 tmpf747
    CP_EQF 0.0 440.0 flag747
    SELECTF flag747 0.0 tmpf747 VLV_KP_29

    MULF VLV_KP_29 70.0 VLV_KD_29
    MOVEF_F 0.0 VLV_ERROR_29
    MOVEF_F 0.0 VLV_OLDERROR_29
    MOVEF_F 0.0 VLV_U_29
    MATH ABS VLV_VELOCIDAD_29 F.0
    DATAF tmpf750
    DATA8 flag750
    DIVF VLV_VELOCIDAD_29 F.0 tmpf750
    CP_EQF 0.0 F.0 flag750
    SELECTF flag750 0.0 tmpf750 VLV_SENTIDO_29

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf753
    DATA8 flag753
    DIVF VLV_ENCODER_29 F.1 tmpf753
    CP_EQF 0.0 F.1 flag753
    SELECTF flag753 0.0 tmpf753 F.0

    MULF F.0 360.0 VLV_ENCODER_29
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_29
    MOVEF_F 0.0 VLV_ENCODERC_29
    DATAF tmpf756
    DATA8 flag756
    DIVF VLV_VELOCIDAD_29 10.0 tmpf756
    CP_EQF 0.0 10.0 flag756
    SELECTF flag756 0.0 tmpf756 F.2

    DATAF tmpf757
    DATA8 flag757
    DIVF 11286.0 F.2 tmpf757
    CP_EQF 0.0 F.2 flag757
    SELECTF flag757 0.0 tmpf757 F.1

    DATAF tmpf758
    DATA8 flag758
    DIVF VLV_ENCODER_29 100.0 tmpf758
    CP_EQF 0.0 100.0 flag758
    SELECTF flag758 0.0 tmpf758 F.2

    MULF F.1 F.2 F.0
    DATAF tmpf760
    DATA8 flag760
    DIVF VPR_SIGUELINEAS_DIAMETRO 6.24 tmpf760
    CP_EQF 0.0 6.24 flag760
    SELECTF flag760 0.0 tmpf760 F.1

    DATAF tmpf761
    DATA8 flag761
    DIVF F.0 F.1 tmpf761
    CP_EQF 0.0 F.1 flag761
    SELECTF flag761 0.0 tmpf761 VLV_SAFETYTIMER_29

    TIMER_READ timeMC4
  while763:
    MATH ABS VLV_ENCODERC_29 F.0
    JR_GTEQF F.0 VLV_ENCODER_29 endwhile763
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_29 2000.0 F.1
    JR_GTEQF F.0 F.1 endwhile763
  whilebody763:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_29 VLV_ENCODERC_29
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf771
    DATA8 flag771
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf771
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag771
    SELECTF flag771 0.0 tmpf771 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_29
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf776
    DATA8 flag776
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf776
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag776
    SELECTF flag776 0.0 tmpf776 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_29
    SUBF VLV_LECTURA1_29 VLV_LECTURA4_29 F.1
    MULF F.1 VLV_SENTIDO_29 F.0
    MULF F.0 1.0 VLV_ERROR_29
    MULF VLV_ERROR_29 VLV_KP_29 F.0
    SUBF VLV_ERROR_29 VLV_OLDERROR_29 F.2
    MULF F.2 VLV_KD_29 F.1
    ADDF F.0 F.1 VLV_U_29
    ADDF VLV_VELOCIDAD_29 VLV_U_29 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_29 VLV_U_29 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_29 VLV_OLDERROR_29
    MATH ABS VLV_ENCODERC_29 F.0
    JR_GTEQF F.0 VLV_ENCODER_29 and790
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_29 2000.0 F.1
    JR_LTF F.0 F.1 whilebody763
  and790:
  endwhile763:
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_29 2000.0 F.1
    JR_LTEQF F.0 F.1 else794_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/General alert'
    SOUND_READY
  else794_1:
  endif794:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_SIGUELINEAS_ENCODER14_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER14_2:
SUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:
    MULF VLV_VELOCIDAD_30 1.0 VLV_VELOCIDAD_30
    MOVEF_F 50.0 VLV_LECTURA1_30
    MOVEF_F 50.0 VLV_LECTURA3_30
    MOVEF_F 50.0 VLV_LECTURA4_30
    MATH POW VLV_VELOCIDAD_30 0.833333333333333 F.0
    DATAF tmpf802
    DATA8 flag802
    DIVF F.0 440.0 tmpf802
    CP_EQF 0.0 440.0 flag802
    SELECTF flag802 0.0 tmpf802 VLV_KP_30

    MULF VLV_KP_30 70.0 VLV_KD_30
    MOVEF_F 0.0 VLV_ERROR_30
    MOVEF_F 0.0 VLV_OLDERROR_30
    MOVEF_F 0.0 VLV_U_30
    MATH ABS VLV_VELOCIDAD_30 F.0
    DATAF tmpf805
    DATA8 flag805
    DIVF VLV_VELOCIDAD_30 F.0 tmpf805
    CP_EQF 0.0 F.0 flag805
    SELECTF flag805 0.0 tmpf805 VLV_SENTIDO_30

    MOVEF_F 50.0 VLV_LECTURA_30
  while806:
    JR_LTEQF VLV_LECTURA_30 7.0 endwhile806
  whilebody806:
    JR_NEQF VLV_READER_30 3.0 else807_1
    MOVEF_F VLV_LECTURA3_30 VLV_LECTURA_30
    MOVEF_F VLV_LECTURA1_30 VLV_LECTURAIZQ_30
    MOVEF_F VLV_LECTURA4_30 VLV_LECTURADCH_30
    JR endif807
  else807_1:
    MOVEF_F VLV_LECTURA4_30 VLV_LECTURA_30
    MOVEF_F VLV_LECTURA3_30 VLV_LECTURAIZQ_30
    MOVEF_F VLV_LECTURA1_30 VLV_LECTURADCH_30
  else807_2:
  endif807:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf810
    DATA8 flag810
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf810
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag810
    SELECTF flag810 0.0 tmpf810 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_30
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf815
    DATA8 flag815
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf815
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag815
    SELECTF flag815 0.0 tmpf815 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_30
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf820
    DATA8 flag820
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf820
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag820
    SELECTF flag820 0.0 tmpf820 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_30
    SUBF VLV_LECTURAIZQ_30 VLV_LECTURADCH_30 F.1
    MULF F.1 VLV_SENTIDO_30 F.0
    MULF F.0 1.0 VLV_ERROR_30
    MULF VLV_ERROR_30 VLV_KP_30 F.0
    SUBF VLV_ERROR_30 VLV_OLDERROR_30 F.2
    MULF F.2 VLV_KD_30 F.1
    ADDF F.0 F.1 VLV_U_30
    ADDF VLV_VELOCIDAD_30 VLV_U_30 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_30 VLV_U_30 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_30 VLV_OLDERROR_30
    JR_GTF VLV_LECTURA_30 7.0 whilebody806
  endwhile806:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNO_2:
SUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:
    MULF VLV_VELOCIDAD_31 1.0 VLV_VELOCIDAD_31
    MOVEF_F 50.0 VLV_LECTURA1_31
    MOVEF_F 50.0 VLV_LECTURA3_31
    MOVEF_F 50.0 VLV_LECTURA4_31
    MATH POW VLV_VELOCIDAD_31 0.833333333333333 F.0
    DATAF tmpf837
    DATA8 flag837
    DIVF F.0 440.0 tmpf837
    CP_EQF 0.0 440.0 flag837
    SELECTF flag837 0.0 tmpf837 VLV_KP_31

    MULF VLV_KP_31 70.0 VLV_KD_31
    MOVEF_F 0.0 VLV_ERROR_31
    MOVEF_F 0.0 VLV_OLDERROR_31
    MOVEF_F 0.0 VLV_U_31
    MATH ABS VLV_VELOCIDAD_31 F.0
    DATAF tmpf840
    DATA8 flag840
    DIVF VLV_VELOCIDAD_31 F.0 tmpf840
    CP_EQF 0.0 F.0 flag840
    SELECTF flag840 0.0 tmpf840 VLV_SENTIDO_31

    MOVEF_F 50.0 VLV_LECTURA_31
  while841:
    JR_LTEQF VLV_LECTURA_31 7.0 endwhile841
  whilebody841:
    JR_NEQF VLV_READER_31 3.0 else842_1
    MOVEF_F VLV_LECTURA3_31 VLV_LECTURA_31
    MOVEF_F VLV_LECTURA1_31 VLV_LECTURAIZQ_31
    MOVEF_F VLV_LECTURA4_31 VLV_LECTURADCH_31
    JR endif842
  else842_1:
    MOVEF_F VLV_LECTURA4_31 VLV_LECTURA_31
    MOVEF_F VLV_LECTURA3_31 VLV_LECTURAIZQ_31
    MOVEF_F VLV_LECTURA1_31 VLV_LECTURADCH_31
  else842_2:
  endif842:
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf845
    DATA8 flag845
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf845
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag845
    SELECTF flag845 0.0 tmpf845 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_31
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf850
    DATA8 flag850
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf850
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag850
    SELECTF flag850 0.0 tmpf850 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_31
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf855
    DATA8 flag855
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf855
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag855
    SELECTF flag855 0.0 tmpf855 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_31
    SUBF VLV_LECTURAIZQ_31 VLV_LECTURADCH_31 F.1
    MULF F.1 VLV_SENTIDO_31 F.0
    MULF F.0 1.0 VLV_ERROR_31
    MULF VLV_ERROR_31 VLV_KP_31 F.0
    SUBF VLV_ERROR_31 VLV_OLDERROR_31 F.2
    MULF F.2 VLV_KD_31 F.1
    ADDF F.0 F.1 VLV_U_31
    ADDF VLV_VELOCIDAD_31 VLV_U_31 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_31 VLV_U_31 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_31 VLV_OLDERROR_31
    JR_GTF VLV_LECTURA_31 7.0 whilebody841
  endwhile841:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_CRUCE_EXTERNOF_2:
SUB_M_SIGUELINEAS_ENCODER14F_2:
    MULF VLV_VELOCIDAD_32 1.0 VLV_VELOCIDAD_32
    MOVEF_F 50.0 VLV_LECTURA1_32
    MOVEF_F 50.0 VLV_LECTURA3_32
    MOVEF_F 50.0 VLV_LECTURA4_32
    MATH POW VLV_VELOCIDAD_32 0.833333333333333 F.0
    DATAF tmpf872
    DATA8 flag872
    DIVF F.0 440.0 tmpf872
    CP_EQF 0.0 440.0 flag872
    SELECTF flag872 0.0 tmpf872 VLV_KP_32

    MULF VLV_KP_32 70.0 VLV_KD_32
    MOVEF_F 0.0 VLV_ERROR_32
    MOVEF_F 0.0 VLV_OLDERROR_32
    MOVEF_F 0.0 VLV_U_32
    MATH ABS VLV_VELOCIDAD_32 F.0
    DATAF tmpf875
    DATA8 flag875
    DIVF VLV_VELOCIDAD_32 F.0 tmpf875
    CP_EQF 0.0 F.0 flag875
    SELECTF flag875 0.0 tmpf875 VLV_SENTIDO_32

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf878
    DATA8 flag878
    DIVF VLV_ENCODER_32 F.1 tmpf878
    CP_EQF 0.0 F.1 flag878
    SELECTF flag878 0.0 tmpf878 F.0

    MULF F.0 360.0 VLV_ENCODER_32
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_32
    MOVEF_F 0.0 VLV_ENCODERC_32
    DATAF tmpf881
    DATA8 flag881
    DIVF VLV_VELOCIDAD_32 10.0 tmpf881
    CP_EQF 0.0 10.0 flag881
    SELECTF flag881 0.0 tmpf881 F.2

    DATAF tmpf882
    DATA8 flag882
    DIVF 11286.0 F.2 tmpf882
    CP_EQF 0.0 F.2 flag882
    SELECTF flag882 0.0 tmpf882 F.1

    DATAF tmpf883
    DATA8 flag883
    DIVF VLV_ENCODER_32 100.0 tmpf883
    CP_EQF 0.0 100.0 flag883
    SELECTF flag883 0.0 tmpf883 F.2

    MULF F.1 F.2 F.0
    DATAF tmpf885
    DATA8 flag885
    DIVF VPR_SIGUELINEAS_DIAMETRO 6.24 tmpf885
    CP_EQF 0.0 6.24 flag885
    SELECTF flag885 0.0 tmpf885 F.1

    DATAF tmpf886
    DATA8 flag886
    DIVF F.0 F.1 tmpf886
    CP_EQF 0.0 F.1 flag886
    SELECTF flag886 0.0 tmpf886 VLV_SAFETYTIMER_32

    TIMER_READ timeMC4
  while888:
    MATH ABS VLV_ENCODERC_32 F.0
    JR_GTEQF F.0 VLV_ENCODER_32 endwhile888
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_32 2000.0 F.1
    JR_GTEQF F.0 F.1 endwhile888
  whilebody888:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_32 VLV_ENCODERC_32
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf896
    DATA8 flag896
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf896
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag896
    SELECTF flag896 0.0 tmpf896 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_32
    CALL SENSOR.READPERCENT 4.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO4 F.1
    DATAF tmpf901
    DATA8 flag901
    DIVF F.1 VPR_SIGUELINEAS_BLANCO4 tmpf901
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO4 flag901
    SELECTF flag901 0.0 tmpf901 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO4 F.1
    MULF F.0 F.1 VLV_LECTURA4_32
    SUBF VLV_LECTURA1_32 VLV_LECTURA4_32 F.1
    MULF F.1 VLV_SENTIDO_32 F.0
    MULF F.0 1.0 VLV_ERROR_32
    MULF VLV_ERROR_32 VLV_KP_32 F.0
    SUBF VLV_ERROR_32 VLV_OLDERROR_32 F.2
    MULF F.2 VLV_KD_32 F.1
    ADDF F.0 F.1 VLV_U_32
    ADDF VLV_VELOCIDAD_32 VLV_U_32 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_32 VLV_U_32 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_32 VLV_OLDERROR_32
    MATH ABS VLV_ENCODERC_32 F.0
    JR_GTEQF F.0 VLV_ENCODER_32 and915
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_32 2000.0 F.1
    JR_LTF F.0 F.1 whilebody888
  and915:
  endwhile888:
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_32 2000.0 F.1
    JR_LTEQF F.0 F.1 else919_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/General alert'
    SOUND_READY
  else919_1:
  endif919:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 0
RETSUB_M_SIGUELINEAS_ENCODER14F_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER14F_2:
SUB_M_SIGUELINEAS_ENCODER31_2:
    MULF VLV_VELOCIDAD_33 1.0 VLV_VELOCIDAD_33
    MOVEF_F 50.0 VLV_LECTURA1_33
    MOVEF_F 50.0 VLV_LECTURA3_33
    MOVEF_F 50.0 VLV_LECTURA4_33
    MATH POW VLV_VELOCIDAD_33 0.833333333333333 F.0
    DATAF tmpf927
    DATA8 flag927
    DIVF F.0 440.0 tmpf927
    CP_EQF 0.0 440.0 flag927
    SELECTF flag927 0.0 tmpf927 VLV_KP_33

    MULF VLV_KP_33 70.0 VLV_KD_33
    MOVEF_F 0.0 VLV_ERROR_33
    MOVEF_F 0.0 VLV_OLDERROR_33
    MOVEF_F 0.0 VLV_U_33
    MATH ABS VLV_VELOCIDAD_33 F.0
    DATAF tmpf930
    DATA8 flag930
    DIVF VLV_VELOCIDAD_33 F.0 tmpf930
    CP_EQF 0.0 F.0 flag930
    SELECTF flag930 0.0 tmpf930 VLV_SENTIDO_33

    MOVEF_F 3.1415926535897932384 F.2
    MULF VPR_SIGUELINEAS_DIAMETRO F.2 F.1
    DATAF tmpf933
    DATA8 flag933
    DIVF VLV_ENCODER_33 F.1 tmpf933
    CP_EQF 0.0 F.1 flag933
    SELECTF flag933 0.0 tmpf933 F.0

    MULF F.0 360.0 VLV_ENCODER_33
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC VLV_STARTC_33
    MOVEF_F 0.0 VLV_ENCODERC_33
    DATAF tmpf936
    DATA8 flag936
    DIVF VLV_VELOCIDAD_33 10.0 tmpf936
    CP_EQF 0.0 10.0 flag936
    SELECTF flag936 0.0 tmpf936 F.2

    DATAF tmpf937
    DATA8 flag937
    DIVF 11286.0 F.2 tmpf937
    CP_EQF 0.0 F.2 flag937
    SELECTF flag937 0.0 tmpf937 F.1

    DATAF tmpf938
    DATA8 flag938
    DIVF VLV_ENCODER_33 100.0 tmpf938
    CP_EQF 0.0 100.0 flag938
    SELECTF flag938 0.0 tmpf938 F.2

    MULF F.1 F.2 F.0
    DATAF tmpf940
    DATA8 flag940
    DIVF VPR_SIGUELINEAS_DIAMETRO 6.24 tmpf940
    CP_EQF 0.0 6.24 flag940
    SELECTF flag940 0.0 tmpf940 F.1

    DATAF tmpf941
    DATA8 flag941
    DIVF F.0 F.1 tmpf941
    CP_EQF 0.0 F.1 flag941
    SELECTF flag941 0.0 tmpf941 VLV_SAFETYTIMER_33

    TIMER_READ timeMC4
  while943:
    MATH ABS VLV_ENCODERC_33 F.0
    JR_GTEQF F.0 VLV_ENCODER_33 endwhile943
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_33 2000.0 F.1
    JR_GTEQF F.0 F.1 endwhile943
  whilebody943:
    OUTPUT_GET_COUNT 0 2 getTachoC
	MOVE32_F getTachoC F.0
    SUBF F.0 VLV_STARTC_33 VLV_ENCODERC_33
    CALL SENSOR.READPERCENT 1.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO1 F.1
    DATAF tmpf951
    DATA8 flag951
    DIVF F.1 VPR_SIGUELINEAS_BLANCO1 tmpf951
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO1 flag951
    SELECTF flag951 0.0 tmpf951 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO1 F.1
    MULF F.0 F.1 VLV_LECTURA1_33
    CALL SENSOR.READPERCENT 3.0 F.2
    SUBF F.2 VPR_SIGUELINEAS_NEGRO3 F.1
    DATAF tmpf956
    DATA8 flag956
    DIVF F.1 VPR_SIGUELINEAS_BLANCO3 tmpf956
    CP_EQF 0.0 VPR_SIGUELINEAS_BLANCO3 flag956
    SELECTF flag956 0.0 tmpf956 F.0

    SUBF 100.0 VPR_SIGUELINEAS_NEGRO3 F.1
    MULF F.0 F.1 VLV_LECTURA3_33
    SUBF VLV_LECTURA3_33 VLV_LECTURA1_33 F.1
    MULF F.1 VLV_SENTIDO_33 F.0
    MULF F.0 1.0 VLV_ERROR_33
    MULF VLV_ERROR_33 VLV_KP_33 F.0
    SUBF VLV_ERROR_33 VLV_OLDERROR_33 F.2
    MULF F.2 VLV_KD_33 F.1
    ADDF F.0 F.1 VLV_U_33
    ADDF VLV_VELOCIDAD_33 VLV_U_33 F.1
    MATH NEGATE F.1 F.0
    SUBF VLV_VELOCIDAD_33 VLV_U_33 F.1
    CALL MOTOR.STARTSYNC 'BC' F.0 F.1
    MOVEF_F VLV_ERROR_33 VLV_OLDERROR_33
    MATH ABS VLV_ENCODERC_33 F.0
    JR_GTEQF F.0 VLV_ENCODER_33 and970
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_33 2000.0 F.1
    JR_LTF F.0 F.1 whilebody943
  and970:
  endwhile943:
    TIMER_READ timeMC4tmp
	SUB32 timeMC4tmp timeMC4 timeMC4tmp
	MOVE32_F timeMC4tmp F.0
    ADDF VLV_SAFETYTIMER_33 2000.0 F.1
    JR_LTEQF F.0 F.1 else974_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/General alert'
    SOUND_READY
  else974_1:
  endif974:
    OUTPUT_POWER 0 6 0
	OUTPUT_STOP 0 6 1
RETSUB_M_SIGUELINEAS_ENCODER31_2:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_SIGUELINEAS_ENCODER31_2:
SUB_M_RGB_DETECT_3:
    CALL SENSOR.GETMODE VLV_SENS_34 VLV_SENS_MODE_34
    DATA8 layer981
	DATA8 no981
	DATA8 mode8981
	
	MOVEF_8 VLV_SENS_34 no981
	SUB8 no981 1 no981
	DIV8 no981 4 layer981
	MATH MOD8 no981 4 no981

	MOVEF_8 4.0 mode8981
	
	INPUT_DEVICE READY_RAW layer981 no981 0 mode8981 0
    MOVEF_F 15.0 VLV_RED_34
    MOVEF_F 60.0 VLV_YELLOW_34
    MOVEF_F 170.0 VLV_GREEN_34
    MOVEF_F 330.0 VLV_BLUE_34
    MOVEF_F 0.0 VLV_HUE_34
    MOVEF_F 0.0 VLV_SAT_34
    MOVEF_F 0.0 VLV_VALUE_34
    MOVEF_F 0.0 VLV_COLOR_34
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_RNORMARRAY_34
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_GNORMARRAY_34
    CALL ARRAYSTORE_FLOAT 0.0 0.0 VLV_BNORMARRAY_34
    CALL LCD.CLEAR
    MOVEF_F 1.0 VLV_J_34
  for986:
    JR_GTF VLV_J_34 VLV_REPS_34 endfor986
  forbody986:
    CALL SENSOR.READRAW VLV_SENS_34 3.0 VLV_RGB_34
    CALL ARRAYGET_FLOAT 0.0 VLV_RRAW_34 VLV_RGB_34
    CALL ARRAYGET_FLOAT 1.0 VLV_GRAW_34 VLV_RGB_34
    CALL ARRAYGET_FLOAT 2.0 VLV_BRAW_34 VLV_RGB_34
    DATAF tmpf991
    DATA8 flag991
    DIVF VLV_RRAW_34 VPR_RGB_RWHITE tmpf991
    CP_EQF 0.0 VPR_RGB_RWHITE flag991
    SELECTF flag991 0.0 tmpf991 F.2

    MULF F.2 255.0 F.1
    MATH ROUND F.1 F.0
    CALL ARRAYSTORE_FLOAT VLV_J_34 F.0 VLV_RNORMARRAY_34
    DATAF tmpf995
    DATA8 flag995
    DIVF VLV_GRAW_34 VPR_RGB_GWHITE tmpf995
    CP_EQF 0.0 VPR_RGB_GWHITE flag995
    SELECTF flag995 0.0 tmpf995 F.2

    MULF F.2 255.0 F.1
    MATH ROUND F.1 F.0
    CALL ARRAYSTORE_FLOAT VLV_J_34 F.0 VLV_GNORMARRAY_34
    DATAF tmpf999
    DATA8 flag999
    DIVF VLV_BRAW_34 VPR_RGB_BWHITE tmpf999
    CP_EQF 0.0 VPR_RGB_BWHITE flag999
    SELECTF flag999 0.0 tmpf999 F.2

    MULF F.2 255.0 F.1
    MATH ROUND F.1 F.0
    CALL ARRAYSTORE_FLOAT VLV_J_34 F.0 VLV_BNORMARRAY_34
    DATA32 milliseconds1003
	MOVEF_32 5.0 milliseconds1003
	DATA32 timer1003
	TIMER_WAIT milliseconds1003 timer1003
	TIMER_READY timer1003
    ADDF VLV_J_34 1.0 VLV_J_34
    JR_LTEQF VLV_J_34 VLV_REPS_34 forbody986
  endfor986:
    MOVEF_F 1.0 VLV_J_34
  for1005:
    JR_GTF VLV_J_34 VLV_REPS_34 endfor1005
  forbody1005:
    CALL ARRAYGET_FLOAT VLV_J_34 F.0 VLV_RNORMARRAY_34
    ADDF VLV_J_34 1.0 F.2
    CALL ARRAYGET_FLOAT F.2 F.1 VLV_RNORMARRAY_34
    ADDF F.0 F.1 VLV_RNORM_34
    CALL ARRAYGET_FLOAT VLV_J_34 F.0 VLV_GNORMARRAY_34
    ADDF VLV_J_34 1.0 F.2
    CALL ARRAYGET_FLOAT F.2 F.1 VLV_GNORMARRAY_34
    ADDF F.0 F.1 VLV_GNORM_34
    CALL ARRAYGET_FLOAT VLV_J_34 F.0 VLV_BNORMARRAY_34
    ADDF VLV_J_34 1.0 F.2
    CALL ARRAYGET_FLOAT F.2 F.1 VLV_BNORMARRAY_34
    ADDF F.0 F.1 VLV_BNORM_34
    ADDF VLV_J_34 2.0 VLV_J_34
    JR_LTEQF VLV_J_34 VLV_REPS_34 forbody1005
  endfor1005:
    DATAF tmpf1019
    DATA8 flag1019
    DIVF VLV_RNORM_34 VLV_REPS_34 tmpf1019
    CP_EQF 0.0 VLV_REPS_34 flag1019
    SELECTF flag1019 0.0 tmpf1019 VLV_RNORM_34

    DATAF tmpf1020
    DATA8 flag1020
    DIVF VLV_GNORM_34 VLV_REPS_34 tmpf1020
    CP_EQF 0.0 VLV_REPS_34 flag1020
    SELECTF flag1020 0.0 tmpf1020 VLV_GNORM_34

    DATAF tmpf1021
    DATA8 flag1021
    DIVF VLV_BNORM_34 VLV_REPS_34 tmpf1021
    CP_EQF 0.0 VLV_REPS_34 flag1021
    SELECTF flag1021 0.0 tmpf1021 VLV_BNORM_34

    DATA8 flag1022
	CP_GTF VLV_RNORM_34 VLV_GNORM_34 flag1022
	SELECTF flag1022 VLV_RNORM_34 VLV_GNORM_34 F.0
    DATA8 flag1023
	CP_GTF F.0 VLV_BNORM_34 flag1023
	SELECTF flag1023 F.0 VLV_BNORM_34 VLV_MAX_34
    DATA8 flag1024
	CP_LTF VLV_RNORM_34 VLV_GNORM_34 flag1024
	SELECTF flag1024 VLV_RNORM_34 VLV_GNORM_34 F.0
    DATA8 flag1025
	CP_LTF F.0 VLV_BNORM_34 flag1025
	SELECTF flag1025 F.0 VLV_BNORM_34 VLV_MIN_34
    JR_NEQF VLV_MAX_34 VLV_MIN_34 else1026_1
    MOVEF_F 0.0 VLV_HUE_34
    JR endif1026
  else1026_1:
    JR_NEQF VLV_MAX_34 VLV_RNORM_34 else1026_2
    JR_LTF VLV_GNORM_34 VLV_BNORM_34 else1027_1
    SUBF VLV_GNORM_34 VLV_BNORM_34 F.1
    MULF 60.0 F.1 F.0
    SUBF VLV_MAX_34 VLV_MIN_34 F.1
    DATAF tmpf1031
    DATA8 flag1031
    DIVF F.0 F.1 tmpf1031
    CP_EQF 0.0 F.1 flag1031
    SELECTF flag1031 0.0 tmpf1031 VLV_HUE_34

    JR endif1027
  else1027_1:
    SUBF VLV_GNORM_34 VLV_BNORM_34 F.2
    MULF 60.0 F.2 F.1
    SUBF VLV_MAX_34 VLV_MIN_34 F.2
    DATAF tmpf1035
    DATA8 flag1035
    DIVF F.1 F.2 tmpf1035
    CP_EQF 0.0 F.2 flag1035
    SELECTF flag1035 0.0 tmpf1035 F.0

    ADDF F.0 360.0 VLV_HUE_34
  else1027_2:
  endif1027:
    JR endif1026
  else1026_2:
    JR_NEQF VLV_MAX_34 VLV_GNORM_34 else1026_3
    SUBF VLV_BNORM_34 VLV_RNORM_34 F.2
    MULF 60.0 F.2 F.1
    SUBF VLV_MAX_34 VLV_MIN_34 F.2
    DATAF tmpf1040
    DATA8 flag1040
    DIVF F.1 F.2 tmpf1040
    CP_EQF 0.0 F.2 flag1040
    SELECTF flag1040 0.0 tmpf1040 F.0

    ADDF F.0 120.0 VLV_HUE_34
    JR endif1026
  else1026_3:
    SUBF VLV_RNORM_34 VLV_GNORM_34 F.2
    MULF 60.0 F.2 F.1
    SUBF VLV_MAX_34 VLV_MIN_34 F.2
    DATAF tmpf1045
    DATA8 flag1045
    DIVF F.1 F.2 tmpf1045
    CP_EQF 0.0 F.2 flag1045
    SELECTF flag1045 0.0 tmpf1045 F.0

    ADDF F.0 240.0 VLV_HUE_34
  else1026_4:
  endif1026:
    JR_NEQF VLV_MAX_34 0.0 else1047_1
    MOVEF_F 0.0 VLV_SAT_34
    JR endif1047
  else1047_1:
    DATAF tmpf1048
    DATA8 flag1048
    DIVF VLV_MIN_34 VLV_MAX_34 tmpf1048
    CP_EQF 0.0 VLV_MAX_34 flag1048
    SELECTF flag1048 0.0 tmpf1048 F.0

    SUBF 1.0 F.0 VLV_SAT_34
  else1047_2:
  endif1047:
    MOVEF_F VLV_MAX_34 VLV_VALUE_34
    ADDF VPR_RGB_VALUEBLANCO VPR_RGB_VALUENEGRO F.0
    DATAF tmpf1051
    DATA8 flag1051
    DIVF F.0 2.0 tmpf1051
    CP_EQF 0.0 2.0 flag1051
    SELECTF flag1051 0.0 tmpf1051 VLV_RGBGREY_34

    ADDF VLV_RRAW_34 VLV_GRAW_34 F.1
    ADDF F.1 VLV_BRAW_34 F.0
    JR_GTF F.0 3.0 else1052_1
    MOVEF_F 0.0 VLV_COLOR_34
    JR endif1052
  else1052_1:
    JR_GTEQF VLV_SAT_34 0.3 else1055_1
    JR_LTEQF VLV_VALUE_34 VLV_RGBGREY_34 else1056_1
    MOVEF_F 6.0 VLV_COLOR_34
    JR endif1056
  else1056_1:
    MOVEF_F 1.0 VLV_COLOR_34
  else1056_2:
  endif1056:
    JR endif1055
  else1055_1:
    JR_LTF VLV_HUE_34 0.0 else1057_1
    JR_GTEQF VLV_HUE_34 VLV_RED_34 else1057_1
    MOVEF_F 5.0 VLV_COLOR_34
    JR endif1057
  else1057_1:
    JR_LTF VLV_HUE_34 VLV_RED_34 else1057_2
    JR_GTEQF VLV_HUE_34 VLV_YELLOW_34 else1057_2
    MOVEF_F 4.0 VLV_COLOR_34
    JR endif1057
  else1057_2:
    JR_LTF VLV_HUE_34 VLV_YELLOW_34 else1057_3
    JR_GTEQF VLV_HUE_34 VLV_GREEN_34 else1057_3
    MOVEF_F 3.0 VLV_COLOR_34
    JR endif1057
  else1057_3:
    JR_LTF VLV_HUE_34 VLV_GREEN_34 else1057_4
    JR_GTEQF VLV_HUE_34 VLV_BLUE_34 else1057_4
    MOVEF_F 2.0 VLV_COLOR_34
    JR endif1057
  else1057_4:
    MOVEF_F 5.0 VLV_COLOR_34
  else1057_5:
  endif1057:
  else1055_2:
  endif1055:
  else1052_2:
  endif1052:
    MOVE32_32 1 STOPLCDUPDATE
    CALL LCD.CLEAR
    STRINGS VALUE_FORMATTED VLV_RRAW_34 '%g' 99 S.1
    CALL TEXT.APPEND 'R: ' S.1 S.0
    CALL LCD.WRITE 33.0 20.0 S.0
    STRINGS VALUE_FORMATTED VLV_GRAW_34 '%g' 99 S.1
    CALL TEXT.APPEND 'G: ' S.1 S.0
    CALL LCD.WRITE 33.0 35.0 S.0
    STRINGS VALUE_FORMATTED VLV_BRAW_34 '%g' 99 S.1
    CALL TEXT.APPEND 'B: ' S.1 S.0
    CALL LCD.WRITE 33.0 50.0 S.0
    STRINGS VALUE_FORMATTED VLV_COLOR_34 '%g' 99 S.1
    CALL TEXT.APPEND 'color: ' S.1 S.0
    CALL LCD.WRITE 33.0 70.0 S.0
    STRINGS VALUE_FORMATTED VLV_VALUE_34 '%g' 99 S.1
    CALL TEXT.APPEND 'Value: ' S.1 S.0
    CALL LCD.WRITE 33.0 90.0 S.0
    MOVE32_32 0 STOPLCDUPDATE
	UI_DRAW UPDATE
    DATA8 layer1076
	DATA8 no1076
	DATA8 mode81076
	
	MOVEF_8 VLV_SENS_34 no1076
	SUB8 no1076 1 no1076
	DIV8 no1076 4 layer1076
	MATH MOD8 no1076 4 no1076

	MOVEF_8 VLV_SENS_MODE_34 mode81076
	
	INPUT_DEVICE READY_RAW layer1076 no1076 0 mode81076 0
RETSUB_M_RGB_DETECT_3:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RGB_DETECT_3:
SUB_M_RGB_GRITAR_1:
    JR_NEQF VLV_COLOR_35 0.0 else1077_1
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Zero'
    JR endif1077
  else1077_1:
    JR_NEQF VLV_COLOR_35 1.0 else1077_2
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Black'
    JR endif1077
  else1077_2:
    JR_NEQF VLV_COLOR_35 2.0 else1077_3
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/BLUE'
    JR endif1077
  else1077_3:
    JR_NEQF VLV_COLOR_35 3.0 else1077_4
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/GREEN'
    JR endif1077
  else1077_4:
    JR_NEQF VLV_COLOR_35 4.0 else1077_5
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/YELLOW'
    JR endif1077
  else1077_5:
    JR_NEQF VLV_COLOR_35 5.0 else1077_6
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/RED'
    JR endif1077
  else1077_6:
    JR_NEQF VLV_COLOR_35 6.0 else1077_7
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/White'
    JR endif1077
  else1077_7:
    JR_NEQF VLV_COLOR_35 7.0 else1077_8
    CALL SPEAKER.PLAY 100.0 'WRO2025/Media/Brown'
  else1077_8:
  endif1077:
    SOUND_READY
RETSUB_M_RGB_GRITAR_1:
    SUB8 STACKPOINTER 1 STACKPOINTER
    READ32 RETURNSTACK STACKPOINTER INDEX
    JR_DYNAMIC INDEX
ENDSUB_M_RGB_GRITAR_1:
}
subcall ARRAYSTORE_FLOAT   // FFFV
{
	IN_F index
	IN_F value	
	IN_16 handle
	
	DATA32 index32
	DATA32 len	
	MOVEF_32 index index32

	ARRAY SIZE handle len
	JR_LT32 index32 0 negativeindex
	JR_LT32 index32 len arraybigenough

increasesize:	
	DATA32 doublelen
	ADD32 len len doublelen
	ARRAY RESIZE handle doublelen
writeloop:	
	ARRAY_WRITE handle len 0.0
	ADD32 len 1 len
	JR_LT32 len doublelen writeloop
	JR_GTEQ32 index32 len increasesize
	
arraybigenough:
	ARRAY_WRITE handle index32 value
negativeindex:
}
subcall LCD.CLEAR   // V
{
	UI_DRAW(TOPLINE,0)
	UI_DRAW(CLEAN)
	
	JR_NEQ32 0 STOPLCDUPDATE skipupdate
	UI_DRAW UPDATE
skipupdate:
}
subcall TEXT.APPEND     // SSS
{
	IN_S a 252
	IN_S b 252
    OUT_S result 252
	
	DATA16 len0
	DATA16 len1
	DATA16 sum

	STRINGS GET_SIZE a len0
	STRINGS GET_SIZE b len1
	ADD16 len0,len1,sum
	JR_GT16 sum,251,stringsizeexceeded

	STRINGS ADD a b result
	RETURN
	
stringsizeexceeded:	
    STRINGS DUPLICATE a result
}
subcall LCD.WRITE     // FFSV
{
	IN_F x
	IN_F y
	IN_S text 252
	
	DATA16 x_16
	DATA16 y_16
	MOVEF_16 x x_16
	MOVEF_16 y y_16
	
	UI_DRAW SELECT_FONT 1
	UI_DRAW TEXT 1 x_16 y_16 text

	JR_NEQ32 0 STOPLCDUPDATE skipupdate
	UI_DRAW UPDATE
skipupdate:
}
subcall SPEAKER.PLAY    // FSV 
{
	IN_F volume
	IN_S filename 252	

	// prepend a path to really reach the target file from the current working directory
	DATA8 vol 
	DATAS fullname 300
	MOVEF_8 volume vol

	STRINGS ADD '../../../..' filename fullname  // when using absolute path, go to file system top from the VM directory and then back down
	JR_EQ8 filename 47 absolutepath               // filename begins with a '/' - using absolute path
	STRINGS ADD '../prjs/' filename fullname      // by default use path relative to prjs folder (must go from the current VM directory to there)
absolutepath:
	
	SOUND PLAY vol fullname
}
subcall ARRAYGET_FLOAT     // FFF
{
	IN_F index
	OUT_F value
	IN_16 handle
	
	DATA32 index32
	DATA32 len
	MOVEF_32 index index32
	
	ARRAY SIZE handle len
	JR_LT32 index32 0 outofbounds
	JR_GTEQ32 index32 len outofbounds
	
	ARRAY_READ handle index32 value
	RETURN
outofbounds:
	MOVE8_F 0 value	
}
subcall MOTOR.SCHEDULE   // SFFFFSV    MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_F speed
	IN_F step1
	IN_F step2
	IN_F step3
	IN_S brake 8
	
	DATA8 layer
	DATA8 nos
	DATA8 spd
	DATA32 stp1
	DATA32 stp2
	DATA32 stp3	
	DATA8 brk
	
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	JR_EQ8 nos 0 noport

	MOVEF_8 speed spd
	MATH ABS step1 step1
	MOVEF_32 step1 stp1
	MATH ABS step2 step2
	MOVEF_32 step2 stp2
	MATH ABS step3 step3
	MOVEF_32 step3 stp3	
	AND8888_32 brake -538976289 brake        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE brake 'TRUE' brk	

	OUTPUT_STEP_SPEED layer nos spd stp1 stp2 stp3 brk
noport:
}
subcall MOTORDECODEPORTSDESCRIPTOR  //  V
{
	IN_S descriptor 8
	OUT_8 layer
	OUT_8 nos

	DATA8 i 
	DATA8 c

	MOVE8_8 0 layer
	MOVE8_8 0 nos	
	MOVE8_8 0 i
loop:
	READ8 descriptor i c
	JR_EQ8 c 0 decoding_end
	
	JR_LT8 c 65 no_uppercase_port
	JR_GT8 c 68 no_uppercase_port
	SUB8 c 65 c
	RL8  1 c c
	OR8  nos c nos
	JR loop_end
no_uppercase_port:
	JR_LT8 c 97 no_lowercase_port
	JR_GT8 c 100 no_lowercase_port
	SUB8 c 97 c
	RL8  1 c c
	OR8  nos c nos	
	JR loop_end
no_lowercase_port:
	JR_LT8 c 49 loop_end
	JR_GT8 c 52 loop_end
	SUB8 c 49 layer
loop_end:
	ADD8 1 i i
	JR loop	
	
decoding_end:
	RETURN
}
subcall MOTOR.STOP       // SSV      MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_S brake 8

	DATA8 layer
	DATA8 nos	
	DATA8 brk
	
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	JR_EQ8 nos 0 noport

	AND8888_32 brake -538976289 brake        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE brake 'TRUE' brk	
	
	OUTPUT_STOP layer nos brk
noport:
}
subcall EV3.BATTERYVOLTAGE  // F
{
	OUT_F voltage
	UI_READ GET_VBATT voltage
}
subcall EQ_STRING       // SSS
{
	IN_S  a 252
	IN_S  b 252
	OUT_S result 8
	
	DATA8 flag
	
	// check if completely equal
	STRINGS COMPARE a b flag
	JR_NEQ8 FLAG 0 isequal
	// second chance: when both values are "True" in any casing, this also counts as equal
	AND8888_32 a -538976289 a        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE a 'TRUE' flag	
	JR_EQ8 0,flag,isnotequal
	AND8888_32 b -538976289 b        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE b 'TRUE' flag	
	JR_EQ8 0,flag,isnotequal
isequal:
	STRINGS DUPLICATE 'True' result
	RETURN
isnotequal:
	STRINGS DUPLICATE 'False' result
	RETURN
}
subcall MOTOR.GETCOUNT    // SF     MOTORDECODEPORTDESCRIPTOR
{
	IN_S port 8
	OUT_F result
	
	DATA8 layer
	DATA8 no
	DATA32 tacho
	
	CALL MOTORDECODEPORTDESCRIPTOR port layer no
	JR_LT8 no 0 noport
	
	OUTPUT_GET_COUNT layer no tacho
	MOVE32_F tacho result

	DATA8 nos
	RL8 1 no nos
	DATA8 inv
	READ8 MOTORISINVERTED layer inv 
	AND8 inv nos inv
	JR_EQ8 inv 0 noinvert
	SUBF 0.0 result result
noinvert:
	RETURN

noport:	
	MOVE8_F 0 result	
}
subcall MOTORDECODEPORTDESCRIPTOR  //  V
{
	IN_S descriptor 8
	OUT_8 layer
	OUT_8 no

	DATA8 i 
	DATA8 c

	MOVE8_8 0 layer
	MOVE8_8 -1 no
	MOVE8_8 0 i
loop:
	READ8 descriptor i c
	JR_EQ8 c 0 decoding_end
	
	JR_LT8 c 65 no_uppercase_port
	JR_GT8 c 68 no_uppercase_port
	SUB8 c 65 c
	MOVE8_8 c no
	JR loop_end
no_uppercase_port:
	JR_LT8 c 97 no_lowercase_port
	JR_GT8 c 100 no_lowercase_port
	SUB8 c 97 c
	MOVE8_8 c no
	JR loop_end
no_lowercase_port:
	JR_LT8 c 49 loop_end
	JR_GT8 c 52 loop_end
	SUB8 c 49 layer
loop_end:
	ADD8 1 i i
	JR loop	
	
decoding_end:
	RETURN
}
subcall MOTOR.SCHEDULESYNC   // SFFFSV    MOTORSCHEDULESTEERIMPL
{
	IN_S ports 8
	IN_F speed1
	IN_F speed2
	IN_F count
	IN_S brake 8
	
	JR_GTEQF speed1 -100.0 nottoosmall1
	MOVEF_F -100.0 speed1
nottoosmall1:
	JR_LTEQF speed1 100.0 nottoobig1
	MOVEF_F 100.0 speed1
nottoobig1:
	JR_GTEQF speed2 -100.0 nottoosmall2
	MOVEF_F -100.0 speed2
nottoosmall2:
	JR_LTEQF speed2 100.0 nottoobig2
	MOVEF_F 100.0 speed2
nottoobig2:

	DATAF speed  
	DATAF turn
	MOVE8_F 0 speed
	MOVE8_F 0 turn

	DATAF speed1abs
	DATAF speed2abs
	MATH ABS speed1 speed1abs
	MATH ABS speed2 speed2abs
	JR_LTF speed1abs speed2abs secondisfaster
	JR_EQF speed1abs 0.0 donecomputation
	 MOVEF_F speed1 speed
	 MULF 100.0 speed2 turn
	 DIVF turn speed1 turn
	 SUBF 100.0 turn turn
	JR donecomputation
secondisfaster:
	 MOVEF_F speed2 speed
	 MULF 100.0 speed1 turn
	 DIVF turn speed2 turn
	 SUBF turn 100.0 turn
donecomputation:
	
	CALL MOTORSCHEDULESTEERIMPL ports speed turn count brake
}
subcall MOTORSCHEDULESTEERIMPL   // SFFFSV    MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_F speed
	IN_F turn
	IN_F count
	IN_S brake 8
	
	DATA8 layer
	DATA8 nos	
	DATA8 first
	DATA8 second
	DATA8 invfirst
	DATA8 invsecond
	
	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	READ8 FIRSTOF2 nos first
	JR_EQ8 0 first not_two_ports
	XOR8 first nos second
	READ8 MOTORISINVERTED layer invfirst
	AND8 first invfirst invfirst
	READ8 MOTORISINVERTED layer invsecond
	AND8 second invsecond invsecond

	JR_LTF turn 0.0 second_is_master
first_is_master:
	JR_EQ8 invfirst 0 non_invert_first
	SUBF 0.0 speed speed
	JR_NEQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion
non_invert_first:
	JR_EQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion

second_is_master:
	JR_EQ8 invsecond 0 non_invert_second
	SUBF 0.0 speed speed
	JR_NEQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion
non_invert_second:
	JR_EQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion

done_inversion:
	DATA32 cnt
	DATA8 brk
	MATH ABS count count
	MOVEF_32 count cnt
	AND8888_32 brake -538976289 brake        // AND 0xdfdfdfdf performs an upcase for 4 letters
    STRINGS COMPARE brake 'TRUE' brk	

	JR_LTEQ32 cnt 0 dontmove	

	DATA8 spd  
	DATA16 trn
	MOVEF_16 turn trn
	MOVEF_8 speed spd
	OUTPUT_STEP_SYNC layer nos spd trn cnt brk	
dontmove:	
not_two_ports:
}
subcall SENSOR.READPERCENT       // FF
{
	IN_F port
	OUT_F result

	DATA8 layer
	DATA8 no
	DATA8 percentage

	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no

	INPUT_READ layer no 0 -1 percentage
	JR_LT8 percentage 0 novalue
	
	MOVE8_F percentage result
	RETURN
novalue:	
	MOVE8_F 0 result
}
subcall MOTOR.STARTSYNC      // SFFV       MOTORSTARTSTEERIMPL
{
	IN_S ports 8
	IN_F speed1
	IN_F speed2

	JR_GTEQF speed1 -100.0 nottoosmall1
	MOVEF_F -100.0 speed1
nottoosmall1:
	JR_LTEQF speed1 100.0 nottoobig1
	MOVEF_F 100.0 speed1
nottoobig1:
	JR_GTEQF speed2 -100.0 nottoosmall2
	MOVEF_F -100.0 speed2
nottoosmall2:
	JR_LTEQF speed1 100.0 nottoobig2
	MOVEF_F 100.0 speed2
nottoobig2:

	DATAF speed  
	DATAF turn
	MOVE8_F 0 speed
	MOVE8_F 0 turn

	DATAF speed1abs
	DATAF speed2abs
	MATH ABS speed1 speed1abs
	MATH ABS speed2 speed2abs
	JR_LTF speed1abs speed2abs secondisfaster
	JR_EQF speed1abs 0.0 donecomputation
	 MOVEF_F speed1 speed
	 MULF 100.0 speed2 turn
	 DIVF turn speed1 turn
	 SUBF 100.0 turn turn
	JR donecomputation
secondisfaster:
	 MOVEF_F speed2 speed
	 MULF 100.0 speed1 turn
	 DIVF turn speed2 turn
	 SUBF turn 100.0 turn
donecomputation:

	CALL MOTORSTARTSTEERIMPL ports speed turn
}
subcall MOTORSTARTSTEERIMPL      // SFFV       MOTORDECODEPORTSDESCRIPTOR
{
	IN_S ports 8
	IN_F speed
	IN_F turn

	DATA8 layer
	DATA8 nos	
	DATA8 first
	DATA8 second
	DATA8 invfirst
	DATA8 invsecond

	CALL MOTORDECODEPORTSDESCRIPTOR ports layer nos
	READ8 FIRSTOF2 nos first
	JR_EQ8 0 first not_two_ports
	XOR8 first nos second
	READ8 MOTORISINVERTED layer invfirst
	AND8 first invfirst invfirst
	READ8 MOTORISINVERTED layer invsecond
	AND8 second invsecond invsecond

	JR_LTF turn 0.0 second_is_master
first_is_master:
	JR_EQ8 invfirst 0 non_invert_first
	SUBF 0.0 speed speed
	JR_NEQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion
non_invert_first:
	JR_EQ8 invsecond 0 done_inversion
	SUBF 200.0 turn turn
	JR done_inversion

second_is_master:
	JR_EQ8 invsecond 0 non_invert_second
	SUBF 0.0 speed speed
	JR_NEQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion
non_invert_second:
	JR_EQ8 invfirst 0 done_inversion
	SUBF -200.0 turn turn
	JR done_inversion

done_inversion:
	DATA8 spd  
	DATA16 trn
	MOVEF_16 turn trn
	MOVEF_8 speed spd
	OUTPUT_STEP_SYNC layer nos spd trn 0 0
not_two_ports:
}
subcall SENSOR.GETMODE		// FF
{
	IN_F port
	OUT_F result
	
	DATA8 layer
	DATA8 no
	DATA8 type
	DATA8 mode
	
	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no
	
	INPUT_DEVICE GET_TYPEMODE layer no type mode
	MOVE8_F mode result
}
subcall SENSOR.READRAWVALUE            // FFF
{
	IN_F port
	IN_F index
	OUT_F result

	DATA8 layer
	DATA8 no
	DATA8 index8
		
	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no

	MOVEF_8 index index8
	JR_LT8 index8 0 outofbounds
	JR_GT8 index8 7 outofbounds

	DATA32 rawvalue0
	DATA32 rawvalue1
	DATA32 rawvalue2
	DATA32 rawvalue3
	DATA32 rawvalue4
	DATA32 rawvalue5
	DATA32 rawvalue6
	DATA32 rawvalue7
	INPUT_READEXT layer no 0 -1 18 8 rawvalue0 rawvalue1 rawvalue2 rawvalue3 rawvalue4 rawvalue5 rawvalue6 rawvalue7
	
	DATA32 rawtmp
	READ32 rawvalue0 index8 rawtmp

	JR_LT32 rawtmp -1000000000 nomoredata
	MOVE32_F rawtmp result
	RETURN

nomoredata:
outofbounds:
	MOVEF_F 0.0 result
}
subcall SENSOR.READRAW            // FFA
{
	IN_F port
	IN_F values
	IN_16 resultarray
	
	DATA8 layer
	DATA8 no
	DATA32 values32
		
	MOVEF_8 port no
	SUB8 no 1 no
	DIV8 no 4 layer
	MATH MOD8 no 4 no

	MOVEF_32 values values32

	JR_LTEQ32 values32 0 arrayempty
	ARRAY RESIZE resultarray values32

	DATA32 rawvalue0
	DATA32 rawvalue1
	DATA32 rawvalue2
	DATA32 rawvalue3
	DATA32 rawvalue4
	DATA32 rawvalue5
	DATA32 rawvalue6
	DATA32 rawvalue7
	INPUT_READEXT layer no 0 -1 18 8 rawvalue0 rawvalue1 rawvalue2 rawvalue3 rawvalue4 rawvalue5 rawvalue6 rawvalue7
	
	DATA32 i
	DATA32 rawtmp
	MOVE32_32 0 i
loop:
	DATA8 tmp8
	DATAF tmpf

	MOVEF_F 0.0 tmpf
	JR_GTEQ32 i 8 nomoredata

	MOVE32_8 i tmp8
	READ32 rawvalue0 tmp8 rawtmp
	JR_LT32 rawtmp -1000000000 nomoredata
	MOVE32_F rawtmp tmpf

nomoredata:	
	ARRAY_WRITE resultarray i tmpf

	ADD32 i 1 i
	JR_LT32 i values32 loop
	RETURN

arrayempty:
	ARRAY RESIZE resultarray 0
}
subcall ARRAYCREATE_FLOAT   // F
{
	OUT_16 handle
	
	ARRAY CREATEF 8 handle			// create with 8 elements
	ARRAY FILL handle 0.0
}
subcall GETANDINC32     // V
{
	IN_32 counterin
	IN_32 inc
	OUT_32 counterout
	OUT_32 prev

	MOVE32_32 counterin prev
	ADD32 counterin inc counterout
}
